{"version":3,"file":"index.js","mappings":"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","sources":["webpack://OpenTokNetworkConnectivity/webpack/universalModuleDefinition","webpack://OpenTokNetworkConnectivity/./node_modules/asap/browser-asap.js","webpack://OpenTokNetworkConnectivity/./node_modules/asap/browser-raw.js","webpack://OpenTokNetworkConnectivity/./node_modules/opentok-solutions-logging/dist/opentok-solutions-logging.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/index.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/core.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/done.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/es6-extensions.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/finally.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/index.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/node-extensions.js","webpack://OpenTokNetworkConnectivity/./node_modules/promise/lib/synchronous.js","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/errors/index.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/errors/types.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testConnectivity/errors/index.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testConnectivity/errors/mapping.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testConnectivity/index.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/errors/index.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/MOSState.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/calculateQualityStats.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/calculateThroughput.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/config.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/getLatestSampleWindow.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/getPublisherRtcStatsReport.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/getUpdateCallbackStats.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/getVideoQualityEvaluation.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/isBitrateSteadyState.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/isSupportedBrowser.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/helpers/subscriberMOS.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/testQuality/index.ts","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/util/index.ts","webpack://OpenTokNetworkConnectivity/./node_modules/axios/dist/browser/axios.cjs","webpack://OpenTokNetworkConnectivity/webpack/bootstrap","webpack://OpenTokNetworkConnectivity/webpack/runtime/global","webpack://OpenTokNetworkConnectivity/./src/NetworkTest/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"OpenTokNetworkConnectivity\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OpenTokNetworkConnectivity\"] = factory();\n\telse\n\t\troot[\"OpenTokNetworkConnectivity\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","\"use strict\";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,\"string\");return\"symbol\"==_typeof(e)?e:String(e)}function _toPrimitive(e,n){if(\"object\"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return(\"string\"===n?String:Number)(e);t=t.call(e,n||\"default\");if(\"object\"!=_typeof(t))return t;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}!function(e){\"function\"==typeof define&&define.amd?define([\"axios\"],e):\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))?module.exports=e(require(\"axios\")):(void 0).OTKAnalytics=e()}(function(t){function n(e){var n,e=function(e){if(!e.clientVersion)throw console.log(\"Error. The clientVersion field cannot be null in the log entry\"),new Error(\"The clientVersion field cannot be null in the log entry\");if(!e.source)throw console.log(\"Error. The source field cannot be null in the log entry\"),new Error(\"The source field cannot be null in the log entry\");if(!e.componentId)throw console.log(\"Error. The componentId field cannot be null in the log entry\"),new Error(\"The componentId field cannot be null in the log entry\");var n,t;if(e.name)return n=e.logVersion||\"2\",t=e.clientSystemTime||(new Date).getTime(),Object.assign({},e,{logVersion:n,clientSystemTime:t});throw console.log(\"Error. The name field cannot be null in the log entry\"),new Error(\"The guid field cannot be null in the log entry\")}(e);i?t.post(r,e):((n=new XMLHttpRequest).open(\"POST\",r,!0),n.setRequestHeader(\"Content-type\",\"application/json\"),n.send(JSON.stringify(e)))}var r,i=!1,l=function(e,n,t){var o,r;return i||(o=\"\",t&&((r=new Date).setTime(r.getTime()+24*t*60*60*1e3),o=[\"; expires=\",r.toGMTString()].join(\"\")),t=[e,\"=\",n,o,\"; path=/\"].join(\"\"),document.cookie=t),n},a=function(e){if(!i)for(var n,t=\"\".concat(e,\"=\"),o=document.cookie.split(\";\"),r=0;r<o.length;r++){for(n=o[r];\" \"===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},c=function(){for(var e=[],n=\"0123456789abcdef\",t=0;t<36;t++)e.push(n.substr(Math.floor(16*Math.random()),1));return e[14]=\"4\",e[19]=n.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]=\"-\",e.join(\"\")};return function(){function o(e,n){_classCallCheck(this,o),this.analyticsData=e,i=n&&n.server;var t=\"hlg.tokbox.com/prod/logging/ClientEvent\";n&&n.loggingUrl&&(t=n.loggingUrl),r=n&&n.proxyUrl&&\"\".concat(n.proxyUrl,\"/\").concat(t)||\"https://\".concat(t),this.analyticsData.guid=(n=e.name,a(n)||l(n,c(),7))}return _createClass(o,[{key:\"addSessionInfo\",value:function(e){if(!e.sessionId)throw console.log(\"Error. The sessionId field cannot be null in the log entry\"),new Error(\"The sessionId field cannot be null in the log entry\");if(this.analyticsData.sessionId=e.sessionId,!e.connectionId)throw console.log(\"Error. The connectionId field cannot be null in the log entry\"),new Error(\"The connectionId field cannot be null in the log entry\");if(this.analyticsData.connectionId=e.connectionId,0===e.partnerId)throw console.log(\"Error. The partnerId field cannot be null in the log entry\"),new Error(\"The partnerId field cannot be null in the log entry\");this.analyticsData.partnerId=e.partnerId}},{key:\"logEvent\",value:function(e){this.analyticsData=Object.assign({},this.analyticsData,e,{clientSystemTime:(new Date).getTime()}),n(this.analyticsData)}}]),o}()});","'use strict';\n\nmodule.exports = require('./lib')\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._x = 0;\n  this._y = 0;\n  this._z = null;\n  this._A = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._B = null;\nPromise._C = null;\nPromise._D = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._y === 3) {\n    self = self._z;\n  }\n  if (Promise._B) {\n    Promise._B(self);\n  }\n  if (self._y === 0) {\n    if (self._x === 0) {\n      self._x = 1;\n      self._A = deferred;\n      return;\n    }\n    if (self._x === 1) {\n      self._x = 2;\n      self._A = [self._A, deferred];\n      return;\n    }\n    self._A.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._y === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._y === 1) {\n        resolve(deferred.promise, self._z);\n      } else {\n        reject(deferred.promise, self._z);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._z);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._y = 3;\n      self._z = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._y = 1;\n  self._z = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._y = 2;\n  self._z = newValue;\n  if (Promise._C) {\n    Promise._C(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._x === 1) {\n    handle(self, self._A);\n    self._A = null;\n  }\n  if (self._x === 2) {\n    for (var i = 0; i < self._A.length; i++) {\n      handle(self, self._A[i]);\n    }\n    self._A = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._D);\n  p._y = 1;\n  p._z = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._y === 3) {\n            val = val._z;\n          }\n          if (val._y === 1) return res(i, val._z);\n          if (val._y === 2) reject(val._z);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nfunction onSettledFulfill(value) {\n  return { status: 'fulfilled', value: value };\n}\nfunction onSettledReject(reason) {\n  return { status: 'rejected', reason: reason };\n}\nfunction mapAllSettled(item) {\n  if(item && (typeof item === 'object' || typeof item === 'function')){\n    if(item instanceof Promise && item.then === Promise.prototype.then){\n      return item.then(onSettledFulfill, onSettledReject);\n    }\n    var then = item.then;\n    if (typeof then === 'function') {\n      return new Promise(then.bind(item)).then(onSettledFulfill, onSettledReject)\n    }\n  }\n\n  return onSettledFulfill(item);\n}\nPromise.allSettled = function (iterable) {\n  return Promise.all(iterableToArray(iterable).map(mapAllSettled));\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nfunction getAggregateError(errors){\n  if(typeof AggregateError === 'function'){\n    return new AggregateError(errors,'All promises were rejected');\n  }\n\n  var error = new Error('All promises were rejected');\n\n  error.name = 'AggregateError';\n  error.errors = errors;\n\n  return error;\n}\n\nPromise.any = function promiseAny(values) {\n  return new Promise(function(resolve, reject) {\n    var promises = iterableToArray(values);\n    var hasResolved = false;\n    var rejectionReasons = [];\n\n    function resolveOnce(value) {\n      if (!hasResolved) {\n        hasResolved = true;\n        resolve(value);\n      }\n    }\n\n    function rejectionCheck(reason) {\n      rejectionReasons.push(reason);\n\n      if (rejectionReasons.length === promises.length) {\n        reject(getAggregateError(rejectionReasons));\n      }\n    }\n\n    if(promises.length === 0){\n      reject(getAggregateError(rejectionReasons));\n    } else {\n      promises.forEach(function(value){\n        Promise.resolve(value).then(resolveOnce, rejectionCheck);\n      });\n    }\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._y === 3) {\n      return this._z.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._y === 3) {\n      return this._z.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._y === 3) {\n      return this._z.getState();\n    }\n    if (this._y === -1 || this._y === -2) {\n      return 0;\n    }\n\n    return this._y;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n","/**\n * @module Errors\n */\n\nimport { ErrorNames } from './types';\n\n/**\n  * Base class for errors used throughout Network Connectivity tests.\n  */\nexport class NetworkTestError extends Error {\n  name: string;\n  constructor(message: string, name?: string) {\n    super(message);\n    this.name = name || ErrorNames.NETWORK_TEST_ERROR;\n    this.stack = (new Error(message)).stack;\n  }\n}\n\nexport class MissingOpenTokInstanceError extends NetworkTestError {\n  constructor() {\n    super('An instance of OT, the OpenTok.js client SDK, is required.');\n    this.name = ErrorNames.MISSING_OPENTOK_INSTANCE;\n  }\n}\n\nexport class IncompleteSessionCredentialsError extends NetworkTestError {\n  constructor() {\n    super('NetworkConnectivity requires an apiKey, sessionId, and token.',\n      ErrorNames.INCOMPLETE_SESSON_CREDENTIALS);\n  }\n}\n\nexport class MissingSessionCredentialsError extends NetworkTestError {\n  constructor() {\n    super('NetworkConnectivity requires OpenTok session credentials.',\n      ErrorNames.MISSING_SESSON_CREDENTIALS);\n  }\n}\n\nexport class InvalidOnUpdateCallback extends NetworkTestError {\n  constructor() {\n    super('The onUpdate callback must be a function that accepts a single parameter.',\n      ErrorNames.INVALID_ON_UPDATE_CALLBACK);\n  }\n}\nexport class PermissionDeniedError extends NetworkTestError {\n  constructor() {\n    super('Precall failed to acquire camera due to a permissions error.',\n      ErrorNames.PERMISSION_DENIED_ERROR);\n  }\n}\n\nexport class UnsupportedResolutionError extends NetworkTestError {\n  constructor() {\n    super('The camera does not support the given resolution.',\n      ErrorNames.UNSUPPORTED_RESOLUTION_ERROR);\n  }\n}\n","/**\n * @module Errors/Connectivity/OpenTok\n */\n\n/**\n * Define errors returned by OpenTok.js\n */\n\nimport { get } from '../util';\nimport { OTError } from '../types/opentok/error';\n\nexport enum ErrorNames {\n  NETWORK_TEST_ERROR = 'NetworkTestError',\n  MISSING_OPENTOK_INSTANCE = 'MissingOpenTokInstanceError',\n  INCOMPLETE_SESSON_CREDENTIALS = 'IncompleteSessionCredentialsError',\n  MISSING_SESSON_CREDENTIALS = 'MissingSessionCredentialsError',\n  INVALID_ON_UPDATE_CALLBACK = 'InvalidOnUpdateCallback',\n  CONNECTIVITY_ERROR = 'ConnectivityError',\n  API_CONNECTIVITY_ERROR = 'APIConnectivityError',\n  CONNECT_TO_SESSION_ERROR = 'ConnectToSessionError',\n  CONNECT_TO_SESSION_TOKEN_ERROR = 'ConnectToSessionTokenError',\n  CONNECT_TO_SESSION_ID_ERROR = 'ConnectToSessionSessionIdError',\n  CONNECT_TO_SESSION_NETWORK_ERROR = 'ConnectToSessionNetworkError',\n  MEDIA_DEVICE_ERROR = 'MediaDeviceError',\n  FAILED_TO_OBTAIN_MEDIA_DEVICES = 'FailedToObtainMediaDevices',\n  NO_VIDEO_CAPTURE_DEVICES = 'NoVideoCaptureDevicesError',\n  NO_AUDIO_CAPTURE_DEVICES = 'NoAudioCaptureDevicesError',\n  PUBLISH_TO_SESSION_ERROR = 'PublishToSessionError',\n  INIT_PUBLISHER_ERROR = 'InitPublisherError',\n  FAILED_MESSAGING_SERVER_TEST = 'FailedMessagingServerTestError',\n  FAILED_TO_CREATE_LOCAL_PUBLISHER = 'FailedToCreateLocalPublisher',\n  PUBLISH_TO_SESSION_NOT_CONNECTED = 'PublishToSessionNotConnectedError',\n  PUBLISH_TO_SESSION_PERMISSION_OR_TIMEOUT_ERROR = 'PublishToSessionPermissionOrTimeoutError',\n  PUBLISH_TO_SESSION_NETWORK_ERROR = 'PublishToSessionNetworkError',\n  SUBSCRIBE_TO_SESSION_ERROR = 'SubscribeToSessionError',\n  LOGGING_SERVER_CONNECTION_ERROR = 'LoggingServerConnectionError',\n  QUALITY_TEST_ERROR = 'QualityTestError',\n  UNSUPPORTED_BROWSER = 'UnsupportedBrowser',\n  SUBSCRIBER_GET_STATS_ERROR = 'SubscriberGetStatsError',\n  MISSING_SUBSCRIBER_ERROR = 'MissingSubscriberError',\n  PERMISSION_DENIED_ERROR = 'PermissionDeniedError',\n  UNSUPPORTED_RESOLUTION_ERROR = 'UnsupportedResolutionError',\n}\n\nexport enum OTErrorType {\n  JS_EXCEPTION = 'JS_EXCEPTION',\n  OT_AUTHENTICATION_ERROR = 'OT_AUTHENTICATION_ERROR',\n  OT_INVALID_HTTP_STATUS = 'OT_INVALID_HTTP_STATUS',\n  OT_CONNECT_FAILED = 'OT_CONNECT_FAILED',\n  OT_INVALID_SESSION_ID = 'OT_INVALID_SESSION_ID',\n  CONNECT_FAILED = 'CONNECT_FAILED',\n  CONNECT_REJECTED = 'CONNECT_REJECTED',\n  CONNECTION_TIMEOUT = 'CONNECTION_TIMEOUT',\n  NOT_CONNECTED = 'NOT_CONNECTED',\n  INVALID_PARAMETER = 'INVALID_PARAMETER',\n  P2P_CONNECTION_FAILED = 'P2P_CONNECTION_FAILED',\n  API_RESPONSE_FAILURE = 'API_RESPONSE_FAILURE',\n  TERMS_OF_SERVICE_FAILURE = 'TERMS_OF_SERVICE_FAILURE',\n  CONNECTION_LIMIT_EXCEEDED = 'CONNECTION_LIMIT_EXCEEDED',\n  UNABLE_TO_PUBLISH = 'UNABLE_TO_PUBLISH',\n  UNABLE_TO_SUBSCRIBE = 'UNABLE_TO_SUBSCRIBE',\n  UNSUPPORTED_VIDEO_CODEC = 'UNSUPPORTED_VIDEO_CODEC',\n  UNABLE_TO_FORCE_DISCONNECT = 'UNABLE_TO_FORCE_DISCONNECT',\n  UNABLE_TO_FORCE_UNPUBLISH = 'UNABLE_TO_FORCE_UNPUBLISH',\n  PUBLISHER_ICE_WORKFLOW_FAILED = 'PUBLISHER_ICE_WORKFLOW_FAILED',\n  SUBSCRIBER_ICE_WORKFLOW_FAILED = 'SUBSCRIBER_ICE_WORKFLOW_FAILED',\n  STREAM_LIMIT_EXCEEDED = 'STREAM_LIMIT_EXCEEDED',\n  UNEXPECTED_SERVER_RESPONSE = 'UNEXPECTED_SERVER_RESPONSE',\n  REPORT_ISSUE_ERROR = 'REPORT_ISSUE_ERROR',\n  ANVIL_BADLY_FORMED_RESPONSE = 'ANVIL_BADLY_FORMED_RESPONSE',\n  ANVIL_INVALID_HTTP_STATUS = 'ANVIL_INVALID_HTTP_STATUS',\n  ANVIL_XDOMAIN_OR_PARSING_ERROR = 'ANVIL_XDOMAIN_OR_PARSING_ERROR',\n  ANVIL_UNKNOWN_HTTP_ERROR = 'ANVIL_UNKNOWN_HTTP_ERROR',\n  ANVIL_UNEXPECTED_ERROR_CODE = 'ANVIL_UNEXPECTED_ERROR_CODE',\n  ANVIL_EMPTY_RESPONSE_BODY = 'ANVIL_EMPTY_RESPONSE_BODY',\n  ANVIL_CONNECT_FAILED = 'ANVIL_CONNECT_FAILED',\n}\n\nexport const errorHasName =\n  (error: OTError | null = null, name: OTErrorType): boolean => get('name', error) === name;\n","/**\n * @module Errors/Connectivity\n */\n\n/**\n * Define errors for Connectivity Test\n */\n\nimport { NetworkTestError } from '../../errors';\nimport { ErrorNames } from '../../errors/types';\n\n/**\n * Base class for errors used throughout Network Connectivity test.\n */\nexport class ConnectivityError extends NetworkTestError {\n  constructor(message: string, name?: string) {\n    super(message, name || ErrorNames.CONNECTIVITY_ERROR);\n  }\n}\n\n/**\n * API Connectivity Error\n */\nexport class APIConnectivityError extends ConnectivityError {\n  constructor() {\n    const message = 'Failed to connect to OpenTOK API Server';\n    super(message, ErrorNames.API_CONNECTIVITY_ERROR);\n  }\n}\n\n/**\n * Session Errors\n */\nexport class ConnectToSessionError extends ConnectivityError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'Failed to connect to the session due to a network error.';\n    super(message || defaultMessage, name || ErrorNames.CONNECT_TO_SESSION_ERROR);\n  }\n}\n\nexport class ConnectToSessionTokenError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to an invalid token.',\n      ErrorNames.CONNECT_TO_SESSION_TOKEN_ERROR);\n  }\n}\n\nexport class ConnectToSessionSessionIdError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to an invalid session ID.',\n      ErrorNames.CONNECT_TO_SESSION_ID_ERROR);\n  }\n}\n\nexport class ConnectToSessionNetworkError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to a network error.',\n      ErrorNames.CONNECT_TO_SESSION_NETWORK_ERROR);\n  }\n}\n\n/**\n * Missing Device Errors\n */\n\nexport class MediaDeviceError extends ConnectivityError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'OpenTok failed to find media devices for this browser.';\n    super(message || defaultMessage, name || ErrorNames.MEDIA_DEVICE_ERROR);\n  }\n}\n\nexport class FailedToObtainMediaDevices extends MediaDeviceError {\n  constructor() {\n    super('Failed to obtain media devices.', ErrorNames.FAILED_TO_OBTAIN_MEDIA_DEVICES);\n  }\n}\n\nexport class NoVideoCaptureDevicesError extends MediaDeviceError {\n  constructor() {\n    super('This browser has no video capture devices', ErrorNames.NO_VIDEO_CAPTURE_DEVICES);\n  }\n}\n\nexport class NoAudioCaptureDevicesError extends MediaDeviceError {\n  constructor() {\n    super('This browser has no audio capture devices.', ErrorNames.NO_AUDIO_CAPTURE_DEVICES);\n  }\n}\n\n/**\n * Publishing Errors\n */\n\nexport class PublishToSessionError extends ConnectivityError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'Encountered an unknown error while attempting to publish to a session.';\n    super(message || defaultMessage, name || ErrorNames.PUBLISH_TO_SESSION_ERROR);\n  }\n}\n\nexport class FailedMessagingServerTestError extends PublishToSessionError {\n  constructor() {\n    const message = 'Failed to connect to media server due to messaging server connection failure';\n    super(message, ErrorNames.FAILED_MESSAGING_SERVER_TEST);\n  }\n}\n\nexport class FailedToCreateLocalPublisher extends PublishToSessionError {\n  constructor() {\n    super('Failed to create a local publisher object.', ErrorNames.FAILED_TO_CREATE_LOCAL_PUBLISHER);\n  }\n}\n\nexport class PublishToSessionNotConnectedError extends PublishToSessionError {\n  constructor() {\n    super('Precall failed to publish to the session because it was not connected.',\n      ErrorNames.PUBLISH_TO_SESSION_NOT_CONNECTED);\n  }\n}\n\nexport class PublishToSessionPermissionOrTimeoutError extends PublishToSessionError {\n  constructor() {\n    super('Precall failed to publish to the session due a permissions error or timeout.',\n      ErrorNames.PUBLISH_TO_SESSION_PERMISSION_OR_TIMEOUT_ERROR);\n  }\n}\n\nexport class PublishToSessionNetworkError extends PublishToSessionError {\n  constructor() {\n    super('Precall failed to publish to the session due a network error.',\n      ErrorNames.PUBLISH_TO_SESSION_NETWORK_ERROR);\n  }\n}\n\n/**\n * Subscribing Errors\n */\nexport class SubscribeToSessionError extends ConnectivityError {\n  constructor(message?: string) {\n    const defaultMessage = 'Encountered an unknown error while attempting to subscribe to a session.';\n    super(message || defaultMessage, ErrorNames.SUBSCRIBE_TO_SESSION_ERROR);\n  }\n}\n\n/**\n * Logger Server Error\n */\nexport class LoggingServerConnectionError extends ConnectivityError {\n  constructor(){\n    super('Failed to connect to the OpenTok logging server.', ErrorNames.LOGGING_SERVER_CONNECTION_ERROR);\n  }\n}\n","/**\n * @module Errors/Connectivity/Mapping\n */\n\n/**\n * Map Connectivity Errors to Failure Types\n */\n\nimport { ConnectivityError } from './index';\nimport { ErrorNames } from '../../errors/types';\n\nexport enum FailureType {\n  Api = 'api',\n  Messaging = 'messaging',\n  OpentokJs = 'OpenTok.js',\n  Media = 'media',\n  Logging = 'logging',\n  // eslint-disable-next-line @typescript-eslint/no-duplicate-enum-values\n  ConnectivityError = 'OpenTok.js',\n}\n\nexport type FailureCase = {\n  type: FailureType;\n  error: ConnectivityError;\n};\n\nconst mapErrorToCase = (error: ConnectivityError): FailureCase => {\n\n  const getType = (): FailureType => {\n    switch (error.name) {\n    case ErrorNames.API_CONNECTIVITY_ERROR:\n    case ErrorNames.CONNECT_TO_SESSION_NETWORK_ERROR:\n      return FailureType.Api;\n    case ErrorNames.CONNECT_TO_SESSION_ERROR:\n    case ErrorNames.CONNECT_TO_SESSION_TOKEN_ERROR:\n    case ErrorNames.CONNECT_TO_SESSION_ID_ERROR:\n      return FailureType.Messaging;\n    case ErrorNames.MEDIA_DEVICE_ERROR:\n    case ErrorNames.FAILED_TO_OBTAIN_MEDIA_DEVICES:\n    case ErrorNames.NO_VIDEO_CAPTURE_DEVICES:\n    case ErrorNames.NO_AUDIO_CAPTURE_DEVICES:\n    case ErrorNames.FAILED_TO_CREATE_LOCAL_PUBLISHER:\n    case ErrorNames.PUBLISH_TO_SESSION_NOT_CONNECTED:\n    case ErrorNames.PUBLISH_TO_SESSION_PERMISSION_OR_TIMEOUT_ERROR:\n    case ErrorNames.PUBLISH_TO_SESSION_NETWORK_ERROR:\n      return FailureType.OpentokJs;\n    case ErrorNames.PUBLISH_TO_SESSION_ERROR:\n    case ErrorNames.SUBSCRIBE_TO_SESSION_ERROR:\n    case ErrorNames.FAILED_MESSAGING_SERVER_TEST:\n      return FailureType.Media;\n    case ErrorNames.LOGGING_SERVER_CONNECTION_ERROR:\n      return FailureType.Logging;\n    default:\n      return FailureType.OpentokJs;\n    }\n  };\n  return { error, type: getType() };\n};\n\nexport const mapErrors = (...errors: ConnectivityError[]): FailureCase[] => errors.map(mapErrorToCase);\n","/**\n * @module Test/Connectivity\n * @preferred\n *\n * Defines the methods required for the Connectivity Test Flow\n */\n\n/**\n * Connectivity Test Flow\n */\nimport axios from 'axios';\nimport * as Promise from 'promise';\n/* tslint:disable */\nimport OTKAnalytics = require('opentok-solutions-logging');\n/* tslint:enable */\nimport {\n  NetworkTestOptions,\n} from '../index';\nimport { OT } from '../types/opentok';\nimport * as e from './errors';\nimport { OTErrorType, errorHasName } from '../errors/types';\nimport { mapErrors, FailureCase } from './errors/mapping';\nimport { getOr } from '../util';\n\ntype AV = 'audio' | 'video';\ntype CreateLocalPublisherResults = { publisher: OT.Publisher };\ntype PublishToSessionResults = { session: OT.Session } & CreateLocalPublisherResults;\ntype SubscribeToSessionResults = { subscriber: OT.Subscriber } & PublishToSessionResults;\ntype DeviceMap = { [deviceId: string]: OT.Device };\ntype AvailableDevices = { audio: DeviceMap; video: DeviceMap };\n\nexport type ConnectivityTestResults = {\n  success: boolean;\n  failedTests: FailureCase[];\n};\n\n/**\n * Disconnect from a session. Once disconnected, remove all session\n * event listeners and invoke the provided callback function.\n */\nfunction disconnectFromSession(session: OT.Session) {\n  return new Promise((resolve) => {\n    session.on('sessionDisconnected', () => {\n      session.off();\n      resolve();\n    });\n    session.disconnect();\n  });\n}\n\n/**\n * Clean subscriber objects before disconnecting from the session\n * @param session\n * @param subscriber\n */\nfunction cleanSubscriber(session: OT.Session, subscriber: OT.Subscriber) {\n  return new Promise((resolve) => {\n    subscriber.on('destroyed', () => {\n      resolve();\n    });\n    if (!subscriber) {\n      resolve();\n    }\n    session.unsubscribe(subscriber);\n  });\n}\n\nfunction cleanPublisher(publisher: OT.Publisher) {\n  return new Promise((resolve) => {\n    publisher.on('destroyed', () => {\n      resolve();\n    });\n    if (!publisher) {\n      resolve();\n    }\n    publisher.destroy();\n  });\n}\n\n/**\n * Attempt to connect to the OpenTok sessionope\n */\nfunction connectToSession(\n  OT: OT.Client,\n  { apiKey, sessionId, token }: OT.SessionCredentials,\n  options?: NetworkTestOptions,\n): Promise<OT.Session> {\n  return new Promise((resolve, reject) => {\n    let sessionOptions: OT.InitSessionOptions = {};\n    if (options && options.initSessionOptions) {\n      sessionOptions = options.initSessionOptions;\n    }\n    if (options && options.proxyServerUrl) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (!OT.hasOwnProperty('setProxyUrl')) { // Fallback for OT.version < 2.17.4\n        sessionOptions.proxyUrl = options.proxyServerUrl;\n      }\n    }\n    const session = OT.initSession(apiKey, sessionId, sessionOptions);\n    session.connect(token, (error?: OT.OTError) => {\n      if (errorHasName(error, OTErrorType.OT_AUTHENTICATION_ERROR)) {\n        reject(new e.ConnectToSessionTokenError());\n      } else if (errorHasName(error, OTErrorType.OT_INVALID_SESSION_ID)) {\n        reject(new e.ConnectToSessionSessionIdError());\n      } else if (errorHasName(error, OTErrorType.OT_CONNECT_FAILED)) {\n        reject(new e.ConnectToSessionNetworkError());\n      } else if (errorHasName(error, OTErrorType.OT_INVALID_HTTP_STATUS)) {\n        reject(new e.APIConnectivityError());\n      } else if (error) {\n        reject(new e.ConnectToSessionError());\n      } else {\n        resolve(session);\n      }\n    });\n  });\n}\n\n/**\n * Ensure that audio and video devices are available\n */\nfunction validateDevices(OT: OT.Client): Promise<AvailableDevices> {\n  return new Promise((resolve, reject) => {\n    OT.getDevices((error?: OT.OTError, devices: OT.Device[] = []) => {\n\n      if (error) {\n        reject(new e.FailedToObtainMediaDevices());\n      } else {\n\n        const availableDevices: AvailableDevices = devices.reduce(\n          (acc: AvailableDevices, device: OT.Device) => {\n            const type: AV = device.kind === 'audioInput' ? 'audio' : 'video';\n            return { ...acc, [type]: { ...acc[type], [device.deviceId]: device } };\n          },\n          { audio: {}, video: {} },\n        );\n\n        if (!Object.keys(availableDevices.audio).length && !Object.keys(availableDevices.video).length) {\n          reject(new e.FailedToObtainMediaDevices());\n        } else {\n          resolve(availableDevices);\n        }\n      }\n    });\n  });\n}\n\n/**\n * Create a local publisher object using any specified device options\n */\nfunction checkCreateLocalPublisher(\n  OT: OT.Client,\n  options?: NetworkTestOptions,\n): Promise<CreateLocalPublisherResults> {\n  return new Promise((resolve, reject) => {\n    validateDevices(OT)\n      .then((availableDevices: AvailableDevices) => {\n        const publisherDiv = document.createElement('div');\n        publisherDiv.style.position = 'fixed';\n        publisherDiv.style.bottom = '-1px';\n        publisherDiv.style.width = '1px';\n        publisherDiv.style.height = '1px';\n        publisherDiv.style.opacity = '0.01';\n        document.body.appendChild(publisherDiv);\n        const publisherOptions: OT.PublisherProperties = {\n          width: '100%',\n          height: '100%',\n          insertMode: 'append',\n          showControls: false,\n          scalableVideo: false,\n        };\n        if (options && options.audioSource) {\n          publisherOptions.audioSource = options.audioSource;\n        }\n        if (options && options.videoSource) {\n          publisherOptions.videoSource = options.videoSource;\n        }\n        if (options && options.audioOnly) {\n          publisherOptions.videoSource = null;\n        }\n        if (!Object.keys(availableDevices.audio).length) {\n          publisherOptions.audioSource = null;\n        }\n        if (!Object.keys(availableDevices.video).length) {\n          publisherOptions.videoSource = null;\n        }\n        if (options && options.scalableVideo) {\n          publisherOptions.scalableVideo = options.scalableVideo;\n        }\n        const publisher = OT.initPublisher(publisherDiv, publisherOptions, (error?: OT.OTError) => {\n          if (!error) {\n            resolve({ publisher });\n          } else {\n            reject(new e.FailedToCreateLocalPublisher());\n          }\n        });\n        publisher.on('streamCreated', () => {\n          publisherDiv.style.visibility = 'hidden';\n        });\n      })\n      .catch(reject);\n  });\n}\n\n/**\n * Attempt to publish to the session\n */\nfunction checkPublishToSession(\n  OT: OT.Client, session: OT.Session,\n  options?: NetworkTestOptions,\n): Promise<PublishToSessionResults> {\n  return new Promise((resolve, reject) => {\n    const disconnectAndReject = (rejectError: Error) => {\n      disconnectFromSession(session).then(() => {\n        reject(rejectError);\n      });\n    };\n    checkCreateLocalPublisher(OT, options)\n      .then(({ publisher }: CreateLocalPublisherResults) => {\n        session.publish(publisher, (error?: OT.OTError) => {\n          if (error) {\n            if (errorHasName(error, OTErrorType.NOT_CONNECTED)) {\n              disconnectAndReject(new e.PublishToSessionNotConnectedError());\n            } else if (errorHasName(error, OTErrorType.UNABLE_TO_PUBLISH)) {\n              disconnectAndReject(\n                new e.PublishToSessionPermissionOrTimeoutError());\n            } else if (error) {\n              disconnectAndReject(new e.PublishToSessionError());\n            }\n          } else {\n            resolve({ ...{ session }, ...{ publisher } });\n          }\n        });\n      }).catch((error: e.ConnectivityError) => {\n        disconnectAndReject(error);\n      });\n  });\n}\n\n/**\n * Attempt to subscribe to our publisher\n */\nfunction checkSubscribeToSession({ session, publisher }: PublishToSessionResults): Promise<SubscribeToSessionResults> {\n  return new Promise((resolve, reject) => {\n    const config = { testNetwork: true, audioVolume: 0 };\n    const disconnectAndReject = (rejectError: Error) => {\n      cleanPublisher(publisher)\n        .then(() => disconnectFromSession(session))\n        .then(() => {\n          reject(rejectError);\n        });\n    };\n    if (!publisher.stream) {\n      disconnectAndReject(new e.SubscribeToSessionError());\n    } else {\n      const subscriberDiv = document.createElement('div');\n      const subscriber = session.subscribe(publisher.stream, subscriberDiv, config, (error?: OT.OTError) => {\n        if (error) {\n          disconnectAndReject(new e.SubscribeToSessionError());\n        } else {\n          resolve({ ...{ session }, ...{ publisher }, ...{ subscriber } });\n        }\n      });\n    }\n  });\n}\n\n/**\n * Attempt to connect to the tokbox client logging server\n */\nfunction checkLoggingServer(OT: OT.Client, options?: NetworkTestOptions, input?: SubscribeToSessionResults):\nPromise<SubscribeToSessionResults> {\n  return new Promise((resolve, reject) => {\n    const loggingUrl = `${getOr('', 'properties.loggingURL', OT)}/logging/ClientEvent`; // https://hlg.tokbox.com/prod\n    const url = options && options.proxyServerUrl &&\n      `${options.proxyServerUrl}/${loggingUrl.replace('https://', '')}` || loggingUrl;\n    const handleError = () => reject(new e.LoggingServerConnectionError());\n\n    axios.post(url)\n      .then(response => response.status === 200 ? resolve(input) : handleError())\n      .catch(handleError);\n\n  });\n}\n\n/**\n * This method checks to see if the client can connect to TokBox servers required for using OpenTok\n */\nexport function testConnectivity(\n  OT: OT.Client,\n  credentials: OT.SessionCredentials,\n  otLogging: OTKAnalytics,\n  options?: NetworkTestOptions,\n): Promise<ConnectivityTestResults> {\n  return new Promise((resolve) => {\n\n    const onSuccess = (flowResults: SubscribeToSessionResults) => {\n      const results: ConnectivityTestResults = {\n        success: true,\n        failedTests: [],\n      };\n      otLogging.logEvent({ action: 'testConnectivity', variation: 'Success' });\n      return cleanSubscriber(flowResults.session, flowResults.subscriber)\n        .then(() => cleanPublisher(flowResults.publisher))\n        .then(() => disconnectFromSession(flowResults.session))\n        .then(() => resolve(results));\n    };\n\n    const onFailure = (error: Error) => {\n\n      const handleResults = (...errors: e.ConnectivityError[]) => {\n        /**\n         * If we have a messaging server failure, we will also fail the media\n         * server test by default.\n         */\n        const baseFailures: FailureCase[] = mapErrors(...errors);\n        const messagingFailure = baseFailures.find(c => c.type === 'messaging');\n        const failedTests = [\n          ...baseFailures,\n          ...messagingFailure ? mapErrors(new e.FailedMessagingServerTestError()) : [],\n        ];\n\n        const results = {\n          failedTests,\n          success: false,\n        };\n        otLogging.logEvent({ action: 'testConnectivity', variation: 'Success' });\n        resolve(results);\n      };\n\n      /**\n       * If we encounter an error before testing the connection to the logging server, let's perform\n       * that test as well before returning results.\n       */\n      if (error.name === 'LoggingServerConnectionError') {\n        handleResults(error);\n      } else {\n        checkLoggingServer(OT, options)\n          .then(() => handleResults(error))\n          .catch((loggingError: e.LoggingServerConnectionError) => handleResults(error, loggingError));\n      }\n    };\n\n    connectToSession(OT, credentials, options)\n      .then((session: OT.Session) => checkPublishToSession(OT, session, options))\n      .then(checkSubscribeToSession)\n      .then((results: SubscribeToSessionResults) => checkLoggingServer(OT, options, results))\n      .then(onSuccess)\n      .catch(onFailure);\n  });\n}\n","/**\n * @module Errors/Quality\n */\n\n/**\n * Define errors for Connectivity Test\n */\n\nimport { NetworkTestError } from '../../errors';\nimport { ErrorNames } from '../../errors/types';\n\n/**\n  * Base class for errors used throughout Network Quality test.\n  */\nexport class QualityTestError extends NetworkTestError {\n  constructor(message: string, name: string) {\n    super(message, name || ErrorNames.QUALITY_TEST_ERROR);\n  }\n}\n\n/**\n * Browser Error\n */\nexport class UnsupportedBrowserError extends QualityTestError {\n  constructor(browser: string) {\n    const message =\n      // eslint-disable-next-line max-len\n      `Your current browser (${browser}) does not support the audio-video quality test. Please run the test in a supported browser.`;\n    super(message, ErrorNames.UNSUPPORTED_BROWSER);\n  }\n}\n\n/**\n * Session Errors\n */\nexport class ConnectToSessionError extends QualityTestError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'Failed to connect to the session due to a network error.';\n    super(message || defaultMessage, name || ErrorNames.CONNECT_TO_SESSION_ERROR);\n  }\n}\n\nexport class ConnectToSessionTokenError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to an invalid token.',\n      ErrorNames.CONNECT_TO_SESSION_TOKEN_ERROR);\n  }\n}\n\nexport class ConnectToSessionSessionIdError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to an invalid session ID.',\n      ErrorNames.CONNECT_TO_SESSION_ID_ERROR);\n  }\n}\n\nexport class ConnectToSessionNetworkError extends ConnectToSessionError {\n  constructor() {\n    super('Failed to connect to the session due to a network error.',\n      ErrorNames.CONNECT_TO_SESSION_NETWORK_ERROR);\n  }\n}\n\n/**\n * Missing Device Errors\n */\n\nexport class MediaDeviceError extends QualityTestError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'OpenTok failed to find media devices for this browser.';\n    super(message || defaultMessage, name || ErrorNames.MEDIA_DEVICE_ERROR);\n  }\n}\n\nexport class FailedToObtainMediaDevices extends QualityTestError {\n  constructor() {\n    super('Failed to obtain media devices.', ErrorNames.FAILED_TO_OBTAIN_MEDIA_DEVICES);\n  }\n}\n\nexport class NoVideoCaptureDevicesError extends QualityTestError {\n  constructor() {\n    super('This browser has no video capture devices', ErrorNames.NO_VIDEO_CAPTURE_DEVICES);\n  }\n}\n\nexport class NoAudioCaptureDevicesError extends QualityTestError {\n  constructor() {\n    super('This browser has no audio capture devices.', ErrorNames.NO_AUDIO_CAPTURE_DEVICES);\n  }\n}\n\n/**\n * Publisher Errors\n */\n\nexport class PublishToSessionError extends QualityTestError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'Encountered an unknown error while attempting to publish to a session.';\n    super(message || defaultMessage, name || ErrorNames.PUBLISH_TO_SESSION_ERROR);\n  }\n}\n\nexport class InitPublisherError extends PublishToSessionError {\n  constructor(message?: string) {\n    super(message || 'Failed to initialize publisher.', ErrorNames.INIT_PUBLISHER_ERROR);\n  }\n}\n\nexport class PublishToSessionNotConnectedError extends PublishToSessionError {\n  constructor() {\n    super('Precall failed to publish to the session because it was not connected.',\n      ErrorNames.PUBLISH_TO_SESSION_NOT_CONNECTED);\n  }\n}\n\nexport class PublishToSessionPermissionOrTimeoutError extends PublishToSessionError {\n  constructor() {\n    super('Precall failed to publish to the session due a permissions error or timeout.',\n      ErrorNames.PUBLISH_TO_SESSION_PERMISSION_OR_TIMEOUT_ERROR);\n  }\n}\n\n/**\n * Subscriber Errors\n */\nexport class SubscribeToSessionError extends QualityTestError {\n  constructor(message?: string, name?: string) {\n    const defaultMessage = 'Encountered an unknown error while attempting to publish to a session.';\n    super(message || defaultMessage, name || ErrorNames.SUBSCRIBE_TO_SESSION_ERROR);\n  }\n}\n\nexport class SubscriberGetStatsError extends SubscribeToSessionError {\n  constructor() {\n    super('Failed to get network stats for a subscriber.', ErrorNames.SUBSCRIBER_GET_STATS_ERROR);\n  }\n}\n\nexport class MissingSubscriberError extends SubscribeToSessionError {\n  constructor() {\n    super('Call checkSubscribeToSession before calling checkSubscriberQuality.',\n      ErrorNames.MISSING_SUBSCRIBER_ERROR);\n  }\n}\n","import { OT } from '../../types/opentok';\n\nimport { AverageStats, Bandwidth, HasAudioVideo } from '../types/stats';\n\nexport default class MOSState {\n  subscriberStatsLog: OT.SubscriberStats[];\n  publisherStatsLog: OT.PublisherStats[];\n  audioScoresLog: number[];\n  videoScoresLog: number[];\n  stats: HasAudioVideo<AverageStats> = { audio: {}, video: {} };\n  bandwidth: Bandwidth = { audio: 0, video: 0 };\n  intervalId?: number;\n  audioOnlyFallback: boolean;\n\n  constructor(audioOnly?: boolean) {\n    this.subscriberStatsLog = [];\n    this.publisherStatsLog = [];\n    this.audioScoresLog = [];\n    this.videoScoresLog = [];\n    this.audioOnlyFallback = !!audioOnly;\n  }\n\n  static readonly maxLogLength: number = 1000;\n  static readonly scoreInterval: number = 1000;\n\n  readonly hasAudioTrack = (): boolean => this.subscriberStatsLog[0] && !!this.subscriberStatsLog[0].audio;\n  readonly hasVideoTrack = (): boolean => this.subscriberStatsLog[0] && !!this.subscriberStatsLog[0].video;\n\n  public getLastPublisherStats = (): OT.PublisherStats | undefined =>\n    this.publisherStatsLog[this.publisherStatsLog.length - 1] ?? undefined;\n\n  private audioScore(): number {\n    return this.audioScoresLog.reduce((acc, score) => acc + score, 0) / this.audioScoresLog.length;\n  }\n\n  private videoScore(): number {\n    return this.videoScoresLog.reduce((acc, score) => acc + score, 0) / this.videoScoresLog.length;\n  }\n\n  clearInterval() {\n    if (this.intervalId) {\n      window.clearInterval(this.intervalId);\n    }\n    this.intervalId = undefined;\n  }\n\n  private pruneAudioScores() {\n    const audioScoresLog = this.audioScoresLog;\n    while (audioScoresLog.length > MOSState.maxLogLength) {\n      audioScoresLog.shift();\n    }\n    this.audioScoresLog = audioScoresLog;\n  }\n\n  private pruneVideoScores() {\n    const videoScoresLog = this.videoScoresLog;\n    while (videoScoresLog.length > MOSState.maxLogLength) {\n      videoScoresLog.shift();\n    }\n    this.videoScoresLog = videoScoresLog;\n  }\n\n  pruneScores() {\n    this.pruneAudioScores();\n    this.pruneVideoScores();\n  }\n\n  audioQualityScore(): number {\n    return this.hasAudioTrack() ? this.audioScore() : 1;\n  }\n\n  videoQualityScore(): number {\n    return this.hasVideoTrack() ? this.videoScore() : 1;\n  }\n}\n","import { SubscriberStats } from '../../types/opentok/subscriber';\nimport { AV, HasAudioVideo, SubscriberQualityStats } from '../types/stats';\n\nfunction calculateStats(type: AV, samples: SubscriberStats[]): SubscriberQualityStats[] {\n\n  const qualityStats: SubscriberQualityStats[] = [];\n\n  for (let i = 1; i < samples.length; i += 1) {\n\n    const currStat = samples[i];\n    const prevStat = samples[i - 1];\n\n    if (currStat[type] && prevStat[type]) {\n      const bytesIncreased = currStat[type].bytesReceived ?\n        currStat[type].bytesReceived - prevStat[type].bytesReceived : 0;\n      const bitsIncreased = bytesIncreased * 8;\n      const msIncreased = currStat.timestamp - prevStat.timestamp;\n      const secondsElapsed = msIncreased / 1000;\n      const averageBitrate = bitsIncreased / secondsElapsed;\n\n      const packetsReceived = currStat[type].packetsReceived;\n      const packetsLost = currStat[type].packetsLost;\n      const totalExpectedPackets = packetsLost + packetsReceived;\n      let packetLossRatio = 0;\n      if (totalExpectedPackets > 0 && packetsLost > 0) {\n        packetLossRatio = packetsLost / totalExpectedPackets;\n      }\n      const frameRate = type === 'video' ? { frameRate: currStat[type].frameRate } : {};\n\n      qualityStats.push({ averageBitrate, packetLossRatio, ...frameRate });\n    }\n  }\n\n  return qualityStats;\n}\n\nexport default function calculateQualityStats(\n  latestSamples: SubscriberStats[],\n): HasAudioVideo<SubscriberQualityStats[]> {\n  if (latestSamples.length < 2) {\n    throw new Error('Cannot calculate bitrate with less than two data points.');\n  }\n\n  return {\n    audio: calculateStats('audio', latestSamples),\n    video: calculateStats('video', latestSamples),\n  };\n}\n","import getLatestSampleWindow from './getLatestSampleWindow';\nimport calculateQualityStats from './calculateQualityStats';\nimport getVideoQualityEvaluation from './getVideoQualityEvaluation';\nimport { AV, AverageStats, AverageStatsBase, HasAudioVideo, SubscriberQualityStats } from '../types/stats';\nimport config from './config';\nimport MOSState from './MOSState';\nimport { PublisherStats } from '../../types/opentok/publisher';\nimport { getOr } from '../../util';\n\nfunction getAverageBitrateAndPlr(type: AV,\n                                 subscriberStatsList: SubscriberQualityStats[],\n                                 publisherStatsList: PublisherStats[]): AverageStats {\n\n  let sumBps = 0;\n  let sumPlr = 0;\n  let sumFrameRate = 0;\n\n  publisherStatsList.forEach((stat) => {\n    sumPlr += 0;\n    if (type === 'video') {\n      sumBps += stat.videoKbsSent * 1000;\n    } else {\n      sumBps += stat.audioStats[0].kbs * 1000;\n    }\n  });\n\n  subscriberStatsList.forEach((stat) => {\n    sumPlr += stat.packetLossRatio;\n    if (type === 'video') {\n      sumFrameRate += Number(getOr(0, 'frameRate', stat));\n    }\n  });\n\n  const isSimulcastEnabled = publisherStatsList.some(\n    publisherStats => publisherStats.simulcastEnabled,\n  );\n\n  const lastPublisherStats = publisherStatsList[publisherStatsList.length - 1];\n\n  const qualityLimitationReason = lastPublisherStats.videoStats.find(\n    videoStats => videoStats.qualityLimitationReason !== null\n    && videoStats.qualityLimitationReason !== 'none')?.qualityLimitationReason || null;\n\n  const averageStats: AverageStatsBase = {\n    availableOutgoingBitrate: publisherStatsList[publisherStatsList.length - 1].availableOutgoingBitrate,\n    simulcast: isSimulcastEnabled,\n    bitrate: sumBps / publisherStatsList.length,\n    packetLossRatio: sumPlr / subscriberStatsList.length,\n  };\n\n  if (type === 'video') {\n    const { supported, reason, recommendedResolution, recommendedFrameRate } =\n      getVideoQualityEvaluation(averageStats);\n\n    const videoStats =\n      type === 'video' ? {\n        recommendedResolution,\n        recommendedFrameRate,\n        frameRate: sumFrameRate / subscriberStatsList.length,\n      } : {};\n    return { ...averageStats, supported, reason, qualityLimitationReason, ...videoStats };\n  }\n  return { ...averageStats };\n}\n\nexport default function calculateThroughput(state: MOSState): HasAudioVideo<AverageStats> {\n\n  const sampleWindow = getLatestSampleWindow(state.publisherStatsLog);\n  const subscriberQualityStats = calculateQualityStats(state.subscriberStatsLog);\n\n  const averageAudioStats = () => {\n    if (!state.hasAudioTrack()) {\n      return {\n        supported: false,\n        reason: config.strings.noMic,\n      };\n    }\n    return getAverageBitrateAndPlr('audio', subscriberQualityStats.audio, sampleWindow);\n  };\n\n  const averageVideoStats = () => {\n    if (state.audioOnlyFallback) {\n      return {\n        supported: false,\n        reason: config.strings.bandwidthLow,\n      };\n    }\n    if (!state.hasVideoTrack()) {\n      return {\n        supported: false,\n        reason: config.strings.noCam,\n      };\n    }\n    return getAverageBitrateAndPlr('video', subscriberQualityStats.video, sampleWindow);\n  };\n\n  return {\n    audio: averageAudioStats(),\n    video: averageVideoStats(),\n  };\n}\n","\nexport interface AudioThreshold { minMos: number }\nexport interface VideoThreshold { targetBitrate: number; targetBitrateSimulcast: number; recommendedSetting: string }\n\nexport type QualityTestConfig = {\n  getStatsInterval: number;\n  getStatsVideoAndAudioTestDuration: number;\n  getStatsAudioOnlyDuration: number;\n  subscribeOptions: {\n    testNetwork: boolean;\n    audioVolume: number;\n  };\n  minimumVideoAndAudioTestSampleSize: number;\n  steadyStateSampleWindow: number; // this is also used to calculate bandwidth\n  steadyStateAllowedDelta: number;\n  thresholdRatio: number;\n  qualityThresholds: {\n    audio: AudioThreshold[];\n    video: VideoThreshold[];\n  };\n  strings: {\n    bandwidthLow: string;\n    noCam: string;\n    noMic: string;\n  };\n};\n\nconst config: QualityTestConfig = {\n  getStatsInterval: 1000,\n  getStatsVideoAndAudioTestDuration: 30000,\n  getStatsAudioOnlyDuration: 10000,\n  subscribeOptions: {\n    testNetwork: true,\n    audioVolume: 0,\n  },\n  minimumVideoAndAudioTestSampleSize: 5,\n  steadyStateSampleWindow: 5000, // this is also used to calculate bandwidth\n  steadyStateAllowedDelta: 0.05, // 1 = 100%, from point to point\n  thresholdRatio: 0.75,\n  qualityThresholds: {\n    video: [\n      {\n        targetBitrate: 4000000,\n        targetBitrateSimulcast: 5550000,\n        recommendedSetting: '1920x1080 @ 30FPS',\n      },\n      {\n        targetBitrate: 2500000,\n        targetBitrateSimulcast: 3150000,\n        recommendedSetting: '1280x720 @ 30FPS',\n      },\n      {\n        targetBitrate: 1200000,\n        targetBitrateSimulcast: 1550000,\n        recommendedSetting: '960x540 @ 30FPS',\n      },\n      {\n        targetBitrate: 500000,\n        targetBitrateSimulcast: 650000,\n        recommendedSetting: '640x360 @ 30FPS',\n      },\n      {\n        targetBitrate: 300000,\n        targetBitrateSimulcast: 350000,\n        recommendedSetting: '480x270 @ 30FPS',\n      },\n      {\n        targetBitrate: 150000,\n        targetBitrateSimulcast: 150000,\n        recommendedSetting: '320x180 @ 30FPS',\n      },\n    ],\n    audio: [\n      {\n        minMos: 2.4, // Should greather than 2.4 which is Fair.\n      },\n    ],\n  },\n\n  strings: {\n    bandwidthLow: 'Bandwidth too low.',\n    noCam: 'No camera was found.',\n    noMic: 'No microphone was found.',\n  },\n};\n\nexport default config;\n","import config from './config';\nimport { getOr, last } from '../../util';\nimport { PublisherStats } from '../../types/opentok/publisher';\n\nexport default function getLatestSampleWindow(stats: PublisherStats[]): PublisherStats[] {\n  const mostRecentTimestamp: number = getOr(0, 'timestamp', last(stats));\n  const oldestAllowedTime: number = mostRecentTimestamp - config.steadyStateSampleWindow;\n  return stats.filter((stat: PublisherStats) => stat.timestamp >= oldestAllowedTime);\n}\n","import { OT } from '../../types/opentok';\nimport {\n  RTCOutboundRtpStreamStats,\n  RTCIceCandidatePairStats,\n  RTCStatsInternal,\n  RTCandidateStatsInternal,\n} from '../../types/opentok/rtcStats';\n\nexport interface PreviousStreamStats {\n  [ssrc: number]: {\n    timestamp: number;\n    bytesSent: number;\n  };\n}\n\nexport async function getPublisherStats(\n  publisher: OT.Publisher,\n  previousStats: OT.PublisherStats | undefined,\n): Promise<OT.PublisherStats | null> {\n\n  if (typeof publisher.getRtcStatsReport !== 'function') {\n    return null;\n  }\n\n  try {\n    const publisherStatsReport = await publisher.getRtcStatsReport();\n    return extractPublisherStats(publisherStatsReport, previousStats);\n  } catch (error) {\n    return null;\n  }\n}\n\nconst calculateAudioBitrate = (\n  stats: RTCOutboundRtpStreamStats,\n  previousStats: OT.PublisherStats | undefined,\n): number => {\n  const previousSsrcFrameData = previousStats?.audioStats[0];\n  if (!previousSsrcFrameData) {\n    return 0;\n  }\n\n  const { currentTimestamp: previousTimestamp, byteSent: previousByteSent } = previousSsrcFrameData;\n  const byteSent = stats.bytesSent - previousByteSent;\n  const timeDiff = (stats.timestamp - previousTimestamp) / 1000; // Convert to seconds\n\n  return Math.round((byteSent * 8) / (1000 * timeDiff)); // Convert to bits per second\n};\n\nconst calculateVideoBitrate = (\n  stats: RTCOutboundRtpStreamStats,\n  previousStats: OT.PublisherStats | undefined,\n): number => {\n  const previousSsrcFrameData = previousStats?.videoStats.find(videoStats => videoStats.ssrc === stats.ssrc);\n  if (!previousSsrcFrameData) {\n    return 0;\n  }\n\n  const { currentTimestamp: previousTimestamp, byteSent: previousByteSent } = previousSsrcFrameData;\n  const byteSent = stats.bytesSent - previousByteSent;\n  const timeDiff = (stats.timestamp - previousTimestamp) / 1000; // Convert to seconds\n\n  return Math.round((byteSent * 8) / (1000 * timeDiff)); // Convert to kbit per second\n};\n\nconst extractOutboundRtpStats = (\n  outboundRtpStats: RTCOutboundRtpStreamStats[],\n  previousStats?: OT.PublisherStats,\n) => {\n  const videoStats = [];\n  const audioStats = [];\n  for (const stats of outboundRtpStats) {\n    if (stats.kind === 'video' || stats.mediaType === 'video') {\n      const kbs = calculateVideoBitrate(stats, previousStats);\n      const { ssrc, bytesSent: byteSent, timestamp: currentTimestamp } = stats;\n      const baseStats = { kbs, ssrc, byteSent, currentTimestamp };\n      videoStats.push({\n        ...baseStats,\n        qualityLimitationReason: stats.qualityLimitationReason,\n        resolution: `${stats.frameWidth || 0}x${stats.frameHeight || 0}`,\n        framerate: stats.framesPerSecond || 0,\n        active: stats.active || false,\n        pliCount: stats.pliCount || 0,\n        nackCount: stats.nackCount || 0,\n      });\n    } else if (stats.kind === 'audio' || stats.mediaType === 'audio') {\n      const kbs = calculateAudioBitrate(stats, previousStats);\n      const { ssrc, bytesSent: byteSent, timestamp: currentTimestamp } = stats;\n      const baseStats = { kbs, ssrc, byteSent, currentTimestamp };\n      audioStats.push(baseStats);\n    }\n  }\n\n  return { videoStats, audioStats };\n};\n\nconst extractPublisherStats = (\n  publisherRtcStatsReport?: OT.PublisherRtcStatsReport,\n  previousStats?: OT.PublisherStats,\n): OT.PublisherStats | null => {\n  if (!publisherRtcStatsReport) {\n    return null;\n  }\n\n  const { rtcStatsReport } = publisherRtcStatsReport[0];\n\n  const rtcStatsArray: RTCStatsInternal[] = Array.from(rtcStatsReport.values());\n\n  const outboundRtpStats = rtcStatsArray.filter(\n    stats => stats.type === 'outbound-rtp') as RTCOutboundRtpStreamStats[];\n  const iceCandidatePairStats = rtcStatsArray.find(\n    stats => stats.type === 'candidate-pair' && stats.nominated) as RTCIceCandidatePairStats;\n\n  const findCandidateById = (type: string, id: string) => {\n    return rtcStatsArray.find(stats => stats.type === type && stats.id === id) as RTCandidateStatsInternal | null;\n  };\n\n  const localCandidate = findCandidateById('local-candidate', iceCandidatePairStats.localCandidateId);\n\n  const { videoStats, audioStats } = extractOutboundRtpStats(outboundRtpStats, previousStats);\n\n  const availableOutgoingBitrate = iceCandidatePairStats?.availableOutgoingBitrate || -1;\n  const currentRoundTripTime = iceCandidatePairStats?.currentRoundTripTime || -1;\n  const videoKbsSent = videoStats.reduce((sum, stats) => sum + stats.kbs, 0);\n  const videoByteSent = videoStats.reduce((sum, stats) => sum + stats.byteSent, 0);\n  const simulcastEnabled = videoStats.length > 1;\n  const transportProtocol = localCandidate?.protocol || 'N/A';\n  const timestamp = localCandidate?.timestamp || 0;\n\n  return {\n    videoStats,\n    audioStats,\n    availableOutgoingBitrate,\n    videoByteSent,\n    videoKbsSent,\n    simulcastEnabled,\n    transportProtocol,\n    currentRoundTripTime,\n    timestamp,\n  };\n};\n","import { OT } from '../../types/opentok';\nimport { UpdateCallbackStats, CallbackTrackStats } from '../../types/callbacks';\n\nconst getUpdateCallbackStats = (\n  subscriberStats: OT.SubscriberStats,\n  publisherStats: OT.PublisherStats,\n  phase: string,\n): UpdateCallbackStats => {\n  const { audio: audioTrackStats, video: videoTrackStats } = subscriberStats;\n\n  const audioCallbackStats: CallbackTrackStats = {\n    bytesSent: publisherStats.audioStats[0].byteSent,\n    bytesReceived: audioTrackStats.bytesReceived,\n    packetsLost: audioTrackStats.packetsLost,\n    packetsReceived: audioTrackStats.packetsReceived,\n  };\n\n  let videoCallbackStats: CallbackTrackStats & { frameRate: number } | null = null;\n\n  if (phase === 'audio-video') {\n    videoCallbackStats = {\n      bytesSent: publisherStats.videoByteSent,\n      bytesReceived: videoTrackStats?.bytesReceived || 0,\n      packetsLost: videoTrackStats?.packetsLost || 0,\n      packetsReceived: videoTrackStats?.packetsReceived || 0,\n      frameRate: videoTrackStats?.frameRate || 0,\n    };\n  }\n\n  return {\n    phase,\n    audio: audioCallbackStats,\n    video: videoCallbackStats,\n    timestamp: subscriberStats.timestamp,\n  };\n};\n\nexport default getUpdateCallbackStats;\n","import config from './config';\nimport { get } from '../../util';\nimport { AverageStatsBase } from '../types/stats';\n\nexport interface QualityEvaluationResults{\n  supported: boolean;\n  recommendedFrameRate?: number;\n  recommendedResolution?: string;\n  reason?: string;\n}\n\nexport default function getVideoQualityEvaluationt(stats: AverageStatsBase): QualityEvaluationResults {\n  const thresholds = config.qualityThresholds.video;\n  const thresholdRatio = config.thresholdRatio;\n  const bitrate = stats.availableOutgoingBitrate;\n\n  let supported = false;\n  let recommendedFrameRate  = 30;\n  let recommendedResolution  = '';\n  let recommendedSetting : string;\n\n  for (let i = 0; i < thresholds.length; i += 1) {\n    const threshold = thresholds[i];\n    const targetBitrate = stats.simulcast ? threshold.targetBitrateSimulcast : threshold.targetBitrate;\n    if (bitrate >= targetBitrate * thresholdRatio) {\n      supported = true;\n      recommendedSetting = get('recommendedSetting', threshold);\n      // recommendedSetting is of the form '640x480 @ 30FPS'\n      recommendedFrameRate = Number(recommendedSetting\n        .substring(recommendedSetting.indexOf('@') + 1).replace('FPS', ''));\n      recommendedResolution =\n        recommendedSetting.substring(0, recommendedSetting.indexOf('@') - 1);\n      break;\n    }\n  }\n\n  const result: QualityEvaluationResults = {\n    supported,\n    recommendedFrameRate,\n    recommendedResolution,\n  };\n\n  if (!supported) {\n    result.reason = config.strings.bandwidthLow;\n  } else {\n    result.recommendedFrameRate = recommendedFrameRate;\n    result.recommendedResolution = recommendedResolution;\n  }\n\n  return result;\n}\n","import getLatestSampleWindow from './getLatestSampleWindow';\nimport config from './config';\nimport { OT } from '../../types/opentok';\n\nexport default function isBitrateSteadyState(statsList: OT.PublisherStats[]): boolean {\n  const latestSamples = getLatestSampleWindow(statsList);\n  let isSteadyState = true;\n\n  if (latestSamples.length < config.minimumVideoAndAudioTestSampleSize) {\n    return false;\n  }\n\n  for (const [i, currSample] of latestSamples.entries()) {\n    if (i === 0) { continue; }\n    const prevSample = latestSamples[i - 1];\n    if (currSample.videoKbsSent > 0){\n      const currBitrate = currSample.videoKbsSent;\n      const prevBitrate = prevSample.videoKbsSent;\n      if ((currBitrate - prevBitrate) > (prevBitrate * config.steadyStateAllowedDelta)) {\n        isSteadyState = false;\n      }\n    }\n    const currBitrateAudio = currSample.audioStats[0].kbs;\n    const prevBitrateAudio = prevSample.audioStats[0].kbs;\n    if ((currBitrateAudio - prevBitrateAudio) > (prevBitrateAudio * config.steadyStateAllowedDelta)) {\n      isSteadyState = false;\n    }\n  }\n  return isSteadyState;\n}\n","import { get } from '../../util';\n\nexport type Browser =\n  'Chrome' |\n  'Firefox' |\n  'not a browser' |\n  'unsupported browser' |\n  'WebKit browser without WebRTC support' |\n  'Safari' |\n  'Internet Explorer' |\n  'Edge' |\n  'non-Chromium Edge' |\n  'Opera';\n\nfunction detectBrowser(): Browser {\n\n  const navigator = window && window.navigator;\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    return 'not a browser';\n  }\n\n  // Firefox.\n  if (get('mozGetUserMedia', navigator)) {\n    return 'Firefox';\n  }\n  if (get('webkitGetUserMedia', navigator)) {\n    // Chrome, Chromium, Webview, Opera, and Edge 79+ all use the chrome shim\n    // eslint-disable-next-line no-prototype-builtins\n    if (window.hasOwnProperty('webkitRTCPeerConnection')) {\n      if (navigator.userAgent.match(/Edg/)) {\n        return 'Edge';\n      }\n      if (navigator.userAgent.match(/Opera|OPR\\//)) {\n        return 'Opera';\n      }\n      return 'Chrome';\n    }\n    if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n      return 'Safari';\n    }\n    return 'WebKit browser without WebRTC support';\n  }\n\n  if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n    return 'non-Chromium Edge';\n  }\n\n  if (navigator.userAgent.indexOf('MSIE ') > 0 ||\n    !!navigator.userAgent.match(/Trident.*rv:11\\./)) {\n    return 'Internet Explorer';\n  }\n\n  if (navigator.mediaDevices && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari, with webkitGetUserMedia removed.\n    return 'Safari';\n  }\n  // Default fallthrough: not supported.\n  return 'unsupported browser';\n}\n\nexport default function isSupportedBrowser(): { supported: boolean; browser: Browser } {\n  const supportedBrowsers = ['Chrome', 'Safari', 'Edge', 'Opera'];\n  const browser = detectBrowser();\n  const supported = supportedBrowsers.indexOf(browser) > -1;\n  return { browser, supported };\n}\n","import isBitrateSteadyState from './isBitrateSteadyState';\nimport calculateThroughput from './calculateThroughput';\nimport MOSState from './MOSState';\nimport { OT } from '../../types/opentok';\nimport { AV } from '../types/stats';\nimport { getOr, last, nth } from '../../util';\nimport { getPublisherStats }  from '../helpers/getPublisherRtcStatsReport';\n\nexport type StatsListener = (\n  error?: OT.OTError,\n  subStats?: OT.SubscriberStats,\n  pubStats?: OT.PublisherStats,\n) => void;\n\nconst getPacketsLost = (ts: OT.TrackStats): number => getOr(0, 'packetsLost', ts);\nconst getPacketsReceived = (ts: OT.TrackStats): number => getOr(0, 'packetsReceived', ts);\nconst getTotalPackets = (ts: OT.TrackStats): number => getPacketsLost(ts) + getPacketsReceived(ts);\nconst calculateTotalPackets = (type: AV, current: OT.SubscriberStats, last: OT.SubscriberStats) =>\n  getTotalPackets(current[type]) - getTotalPackets(last[type]);\nconst calculateBitRate = (type: AV, current: OT.SubscriberStats, last: OT.SubscriberStats): number => {\n  const interval = current.timestamp - last.timestamp;\n  return current[type] && current[type].bytesReceived ?\n    (8 * (current[type].bytesReceived - last[type].bytesReceived)) / (interval / 1000) : 0;\n};\nconst DEFAULT_DELAY = 150; // expressed in ms\n\nfunction calculateVideoScore(subscriber: OT.Subscriber, stats: OT.SubscriberStats[]): number {\n  const MIN_VIDEO_BITRATE = 30000;\n  const targetBitrateForPixelCount = (pixelCount: number) => {\n    // power function maps resolution to target bitrate, based on rumor config\n    // values, with r^2 = 0.98. We're ignoring frame rate, assume 30.\n    const y = 2.069924867 * (Math.log10(pixelCount) ** 0.6250223771);\n    return 10 ** y;\n  };\n\n  const currentStats = last(stats);\n  const lastStats = nth(-2, stats);\n\n  if (!currentStats || !lastStats || !subscriber.stream) {\n    return 1;\n  }\n\n  const baseBitrate = calculateBitRate('video', currentStats, lastStats);\n  const pixelCount = subscriber.stream.videoDimensions.width * subscriber.stream.videoDimensions.height;\n  const targetBitrate = targetBitrateForPixelCount(pixelCount);\n  if (baseBitrate < MIN_VIDEO_BITRATE) {\n    return 1;\n  }\n  const bitrate = Math.min(baseBitrate, targetBitrate);\n  let score =\n    ((Math.log(bitrate / MIN_VIDEO_BITRATE) / Math.log(targetBitrate / MIN_VIDEO_BITRATE)) * 4) + 1;\n  score = Math.min(score, 4.5);\n  return score;\n}\n\nfunction calculateAudioScore(\n  subscriber: OT.Subscriber, publisherStats: OT.PublisherStats | null,\n  stats: OT.SubscriberStats[]): number {\n  const getDelay = (): number => {\n    // Return default delay until proper calculation\n    return DEFAULT_DELAY;\n  };\n\n  const audioScore = (packetLossRatio: number) => {\n    const LOCAL_DELAY = 30; // 30 msecs: typical frame duration\n    const h = (x: number): number => x < 0 ? 0 : 1;\n    const a = 0; // ILBC: a=10\n    const b = 19.8;\n    const c = 29.7;\n    const delay = getDelay();\n    /**\n     * Calculate the transmission rating factor, R\n     */\n    const calculateR = (): number => {\n      const d = delay + LOCAL_DELAY;\n      const delayImpairment = 0.024 * d + 0.11 * (d - 177.3) * h(d - 177.3);\n      const equipmentImpairment = a + b * Math.log(1 + (c * packetLossRatio));\n      return 93.2 - delayImpairment - equipmentImpairment;\n    };\n\n    /**\n     * Calculate the Mean Opinion Score based on R\n     */\n    const calculateMOS = (R: number): number => {\n      if (R < 0) {\n        return 1;\n      }\n      if (R > 100) {\n        return 4.5;\n      }\n      return 1 + (0.035 * R) + R * (R - 60) * (100 - R) * 0.000007;\n    };\n\n    return calculateMOS(calculateR());\n  };\n\n  const currentStats = last(stats);\n  const lastStats = nth(-2, stats);\n\n  if (!currentStats || !lastStats || !subscriber.stream) {\n    return 1;\n  }\n\n  const totalAudioPackets = calculateTotalPackets('audio', currentStats, lastStats);\n  if (totalAudioPackets === 0) {\n    return 1;\n  }\n  let packetLossRatio = (getPacketsLost(currentStats.audio) - getPacketsLost(lastStats.audio)) / totalAudioPackets;\n  if (packetLossRatio < 0) {\n    packetLossRatio = 0;\n  }\n  return audioScore(packetLossRatio);\n}\n\nexport default function subscriberMOS(\n  mosState: MOSState,\n  subscriber: OT.Subscriber,\n  publisher: OT.Publisher,\n  getStatsListener: StatsListener,\n  callback: (state: MOSState) => void,\n) {\n  mosState.intervalId = window.setInterval(() => {\n    subscriber.getStats(\n      async (error?: OT.OTError, subscriberStats?: OT.SubscriberStats) => {\n        if (!subscriberStats) {\n          return null;\n        }\n\n        // Check for faulty stats\n        if (subscriberStats.audio.bytesReceived < 0 || Number(getOr(1, 'video.bytesReceived', subscriberStats)) < 0) {\n          mosState.clearInterval();\n          return callback(mosState);\n        }\n\n        // Get publisher stats and push to MOSState statsLog array\n        const publisherStats = await getPublisherStats(publisher, mosState.getLastPublisherStats());\n\n        // Push subscriber stats to MOSState statsLog array\n        subscriberStats && mosState.subscriberStatsLog.push(subscriberStats);\n        publisherStats && mosState.publisherStatsLog.push(publisherStats);\n\n        // Call getStatsListener if it exists\n        if (getStatsListener && typeof getStatsListener === 'function') {\n          getStatsListener(error, subscriberStats, publisherStats);\n        }\n\n        // Calculate MOSState stats and push to appropriate logs\n        if (mosState.publisherStatsLog.length && mosState.publisherStatsLog.length >= 2) {\n          mosState.stats = calculateThroughput(mosState);\n          const videoScore = calculateVideoScore(subscriber, mosState.subscriberStatsLog);\n          mosState.videoScoresLog.push(videoScore);\n\n          const audioScore = calculateAudioScore(\n            subscriber,\n            publisherStats,\n            mosState.subscriberStatsLog,\n          );\n          mosState.audioScoresLog.push(audioScore);\n          mosState.pruneScores();\n\n          // Check if bitrate has reached a steady state, if yes end the test early\n          if (isBitrateSteadyState(mosState.publisherStatsLog)) {\n            mosState.clearInterval();\n            return callback(mosState);\n          }\n        }\n\n        return null;\n      },\n    );\n  }, MOSState.scoreInterval);\n\n  subscriber.on('destroyed', mosState.clearInterval.bind(mosState));\n  // Fix: Incorrect statistics were sent because the publisher disconnected before the subscriber.\n  publisher.on('destroyed', mosState.clearInterval.bind(mosState));\n  return mosState;\n}\n","/**\n * @module Test/Publishing\n * @preferred\n *\n * Defines the methods required for the Publishing Test Flow\n */\n\n/**\n * Publishing Test Flow\n */\n\n/* tslint:disable */\nimport OTKAnalytics = require('opentok-solutions-logging');\n/* tslint:enable */\nimport * as Promise from 'promise';\nimport {\n  NetworkTestOptions,\n} from '../index';\nimport { OT } from '../types/opentok';\nimport { AverageStats, AV, Bandwidth, HasAudioVideo } from './types/stats';\nimport { UpdateCallback, UpdateCallbackStats } from '../types/callbacks';\nimport { pick } from '../util';\nimport * as e from './errors/';\nimport { OTErrorType, errorHasName } from '../errors/types';\nimport subscriberMOS from './helpers/subscriberMOS';\nimport MOSState from './helpers/MOSState';\nimport config from './helpers/config';\nimport isSupportedBrowser from './helpers/isSupportedBrowser';\nimport getUpdateCallbackStats from './helpers/getUpdateCallbackStats';\nimport { PermissionDeniedError, UnsupportedResolutionError } from '../errors';\n\nconst FULL_HD_WIDTH = 1920;\nconst FULL_HD_HEIGHT = 1080;\nconst FULL_HD_RESOLUTION = '1920x1080';\nconst HD_RESOUTION = '1280x720';\n\ninterface QualityTestResultsBuilder {\n  state: MOSState;\n  subscriber: OT.Subscriber;\n  credentials: OT.SessionCredentials;\n  mosScore?: number;\n  bandwidth?: Bandwidth;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface QualityTestResults extends HasAudioVideo<AverageStats> { }\n\ntype MOSResultsCallback = (state: MOSState) => void;\ntype DeviceMap = { [deviceId: string]: OT.Device };\ntype AvailableDevices = { audio: DeviceMap; video: DeviceMap };\ntype PublisherSubscriber = { publisher: OT.Publisher; subscriber: OT.Subscriber };\n\nlet audioOnly = false; // By default, the initial test is audio-video\nlet testTimeout: number;\nlet stopTest: Function | undefined;\nlet stopTestTimeoutId: number;\nlet stopTestTimeoutCompleted = false;\nlet stopTestCalled = false;\n/**\n * If not already connected, connect to the OpenTok Session\n */\nfunction connectToSession(session: OT.Session, token: string): Promise<OT.Session> {\n  return new Promise((resolve, reject) => {\n    if (session.connection) {\n      resolve(session);\n    } else {\n      session.connect(token, (error?: OT.OTError) => {\n        if (error) {\n          if (errorHasName(error, OTErrorType.OT_AUTHENTICATION_ERROR)) {\n            reject(new e.ConnectToSessionTokenError());\n          } else if (errorHasName(error, OTErrorType.OT_INVALID_SESSION_ID)) {\n            reject(new e.ConnectToSessionSessionIdError());\n          } else if (errorHasName(error, OTErrorType.OT_CONNECT_FAILED)) {\n            reject(new e.ConnectToSessionNetworkError());\n          } else {\n            reject(new e.ConnectToSessionError());\n          }\n        }\n        resolve(session);\n      });\n    }\n  });\n}\n/**\n * Checks for camera support for a given resolution.\n *\n * See the \"API reference\" section of the README.md file in the root of the\n * opentok-network-test-js project for details.\n */\nfunction checkCameraSupport(width: number, height: number): Promise<void> {\n  return new Promise((resolve, reject) => {\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        width: { exact: width },\n        height: { exact: height },\n      },\n      audio: false,\n    }).then((mediaStream) => {\n      if (mediaStream) {\n        resolve();\n      }\n    }).catch((error) => {\n      switch (error.name) {\n      case 'OverconstrainedError':\n        reject(new UnsupportedResolutionError());\n        break;\n      case 'NotAllowedError':\n        reject(new PermissionDeniedError());\n        break;\n      default:\n        reject(error);\n      }\n    });\n  });\n}\n/**\n * Ensure that audio and video devices are available\n */\nfunction validateDevices(OT: OT.Client, options?: NetworkTestOptions): Promise<AvailableDevices> {\n  return new Promise((resolve, reject) => {\n    OT.getDevices((error?: OT.OTError, devices: OT.Device[] = []) => {\n      if (error) {\n        reject(new e.FailedToObtainMediaDevices());\n        return;\n      }\n\n      const availableDevices: AvailableDevices = devices.reduce(\n        (acc: AvailableDevices, device: OT.Device) => {\n          const type: AV = device.kind === 'audioInput' ? 'audio' : 'video';\n          return { ...acc, [type]: { ...acc[type], [device.deviceId]: device } };\n        },\n        { audio: {}, video: {} },\n      );\n\n      if (!Object.keys(availableDevices.audio).length) {\n        reject(new e.NoAudioCaptureDevicesError());\n        return;\n      }\n      if (options?.fullHd) {\n        checkCameraSupport(FULL_HD_WIDTH, FULL_HD_HEIGHT)\n          .then(() => resolve(availableDevices))\n          .catch(reject);\n      } else {\n        resolve(availableDevices);\n      }\n    });\n  });\n}\n\n/**\n * Create a test publisher and subscribe to the publihser's stream\n */\nfunction publishAndSubscribe(OT: OT.Client, options?: NetworkTestOptions) {\n  return (session: OT.Session): Promise<PublisherSubscriber> =>\n    new Promise((resolve, reject) => {\n      type StreamCreatedEvent = OT.Event<'streamCreated', OT.Publisher> & { stream: OT.Stream };\n      const containerDiv = document.createElement('div');\n      containerDiv.style.position = 'fixed';\n      containerDiv.style.bottom = '-1px';\n      containerDiv.style.width = '1px';\n      containerDiv.style.height = '1px';\n      containerDiv.style.opacity = '0';\n      document.body.appendChild(containerDiv);\n\n      validateDevices(OT, options)\n        .then((availableDevices: AvailableDevices) => {\n          if (!Object.keys(availableDevices.video).length) {\n            audioOnly = true;\n          }\n          const publisherOptions: OT.PublisherProperties = {\n            resolution: options?.fullHd ? FULL_HD_RESOLUTION : HD_RESOUTION,\n            scalableVideo: options?.scalableVideo,\n            width: '100%',\n            height: '100%',\n            insertMode: 'append',\n            showControls: false,\n          };\n          if (options && options.audioSource) {\n            publisherOptions.audioSource = options.audioSource;\n          }\n          if (options && options.videoSource) {\n            publisherOptions.videoSource = options.videoSource;\n          }\n          if (audioOnly) {\n            publisherOptions.videoSource = null;\n          }\n          const publisher = OT.initPublisher(containerDiv, publisherOptions, (error?: OT.OTError) => {\n            if (error) {\n              reject(new e.InitPublisherError(error.message));\n            } else {\n              session.publish(publisher, (publishError?: OT.OTError) => {\n                if (publishError) {\n                  if (errorHasName(publishError, OTErrorType.NOT_CONNECTED)) {\n                    return reject(new e.PublishToSessionNotConnectedError());\n                  }\n                  if (errorHasName(publishError, OTErrorType.UNABLE_TO_PUBLISH)) {\n                    return reject(new e.PublishToSessionPermissionOrTimeoutError());\n                  }\n                  return reject(new e.PublishToSessionError());\n                  // return reject(new e.PublishToSessionError(publishError.message));\n                }\n              });\n            }\n          });\n          publisher.on('streamCreated', (event: StreamCreatedEvent) => {\n            const subscriber =\n              session.subscribe(event.stream,\n                containerDiv,\n                { testNetwork: true, insertMode: 'append', subscribeToAudio: true, subscribeToVideo: true },\n                (subscribeError?: OT.OTError) => {\n                  return subscribeError ?\n                    reject(new e.SubscribeToSessionError(subscribeError.message)) :\n                    resolve({ publisher, subscriber });\n                });\n          });\n        })\n        .catch(reject);\n    });\n}\n/**\n *  Connect to the OpenTok session, create a publisher, and subsribe to the publisher's stream\n */\nfunction subscribeToTestStream(\n  OT: OT.Client,\n  session: OT.Session,\n  credentials: OT.SessionCredentials,\n  options?: NetworkTestOptions): Promise<PublisherSubscriber> {\n  return new Promise((resolve, reject) => {\n    connectToSession(session, credentials.token)\n      .then(publishAndSubscribe(OT, options))\n      .then(resolve)\n      .catch(reject);\n  });\n}\n\nfunction buildResults(builder: QualityTestResultsBuilder): QualityTestResults {\n  const baseProps: (keyof AverageStats)[] = ['bitrate', 'packetLossRatio', 'supported', 'reason', 'mos'];\n  builder.state.stats.audio.mos = builder.state.audioQualityScore();\n  builder.state.stats.video.mos = builder.state.videoQualityScore();\n  if (builder.state.stats.audio.mos >= config.qualityThresholds.audio[0].minMos) {\n    builder.state.stats.audio.supported = true;\n  } else {\n    builder.state.stats.audio.supported = false;\n    builder.state.stats.audio.reason = config.strings.bandwidthLow;\n  }\n  return {\n    audio: pick(baseProps, builder.state.stats.audio),\n    video: pick(baseProps.concat([\n      'frameRate', 'qualityLimitationReason', 'recommendedResolution', 'recommendedFrameRate',\n    ]),\n    builder.state.stats.video),\n  };\n}\n\nfunction isAudioQualityAcceptable(results: QualityTestResults): boolean {\n  return !!results.audio.mos && (results.audio.mos >= config.qualityThresholds.audio[0].minMos);\n}\n\n/**\n * Clean subscriber objects before disconnecting from the session\n * @param session\n * @param subscriber\n */\nfunction cleanSubscriber(session: OT.Session, subscriber: OT.Subscriber) {\n  return new Promise((resolve) => {\n    subscriber.on('destroyed', () => {\n      resolve();\n    });\n    if (!subscriber) {\n      resolve();\n    }\n    session.unsubscribe(subscriber);\n  });\n}\n\n/**\n * Clean publisher objects before disconnecting from the session\n * @param publisher\n */\nfunction cleanPublisher(session: OT.Session, publisher: OT.Publisher) {\n  return new Promise((resolve) => {\n    publisher.on('destroyed', () => {\n      resolve();\n    });\n    if (!publisher) {\n      resolve();\n    }\n    session.unpublish(publisher);\n  });\n}\n\nfunction checkSubscriberQuality(\n  OT: OT.Client,\n  session: OT.Session,\n  credentials: OT.SessionCredentials,\n  options?: NetworkTestOptions,\n  onUpdate?: UpdateCallback<UpdateCallbackStats>,\n  audioOnlyFallback?: boolean,\n): Promise<QualityTestResults> {\n\n  let mosEstimatorTimeoutId: number;\n\n  return new Promise((resolve, reject) => {\n    subscribeToTestStream(OT, session, credentials, options)\n      .then(({ publisher, subscriber }: PublisherSubscriber) => {\n        if (!subscriber) {\n          reject(new e.MissingSubscriberError());\n        } else {\n          try {\n            const builder: QualityTestResultsBuilder = {\n              state: new MOSState(audioOnlyFallback),\n              ... { subscriber },\n              ... { credentials },\n            };\n\n            const getStatsListener = (\n              error?: OT.OTError,\n              subscriberStats?: OT.SubscriberStats,\n              publisherStats?: OT.PublisherStats,\n            ) => {\n              if (subscriberStats && publisherStats && onUpdate) {\n                const updateStats = getUpdateCallbackStats(subscriberStats, publisherStats, audioOnly ?\n                  'audio-only' :\n                  'audio-video'\n                );\n                onUpdate(updateStats);\n              }\n            };\n\n            const processResults = () => {\n              const audioVideoResults: QualityTestResults = buildResults(builder);\n              if (!audioOnly && !isAudioQualityAcceptable(audioVideoResults) && !stopTestCalled) {\n                audioOnly = true;\n                // We don't want to lose the videoResults.\n                const videoResults = audioVideoResults.video;\n                checkSubscriberQuality(OT, session, credentials, options, onUpdate, true)\n                  .then((results: QualityTestResults) => {\n                    results.video = videoResults;\n                    resolve(results);\n                  });\n              } else {\n                session.on('sessionDisconnected', () => {\n                  resolve(audioVideoResults);\n                  session.off();\n                });\n                cleanSubscriber(session, subscriber)\n                  .then(() => cleanPublisher(session, publisher))\n                  .then(() => session.disconnect());\n              }\n            };\n\n            stopTest = () => {\n              clearTimeout(mosEstimatorTimeoutId);\n              processResults();\n            };\n\n            const resultsCallback: MOSResultsCallback = () => {\n              clearTimeout(mosEstimatorTimeoutId);\n              processResults();\n            };\n\n            subscriberMOS(builder.state, subscriber, publisher, getStatsListener, resultsCallback);\n\n            mosEstimatorTimeoutId = window.setTimeout(processResults, testTimeout);\n\n            window.clearTimeout(stopTestTimeoutId);\n            stopTestTimeoutId = window.setTimeout(() => {\n              stopTestTimeoutCompleted = true;\n              if (stopTestCalled && stopTest) {\n                stopTest();\n              }\n            }, 5000);\n\n          } catch (exception) {\n            reject(new e.SubscriberGetStatsError());\n          }\n        }\n      })\n      .catch(reject);\n  });\n}\n\n/**\n * Ensure that the test is being run in a supported browser.\n */\nfunction validateBrowser(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    const { supported, browser } = isSupportedBrowser();\n    return supported ? resolve() : reject(new e.UnsupportedBrowserError(browser));\n  });\n}\n\n/**\n * This method checks to see if the client can publish to an OpenTok session.\n */\nexport function testQuality(\n  OT: OT.Client,\n  credentials: OT.SessionCredentials,\n  otLogging: OTKAnalytics,\n  options?: NetworkTestOptions,\n  onUpdate?: UpdateCallback<UpdateCallbackStats>,\n): Promise<QualityTestResults> {\n  stopTestTimeoutCompleted = false;\n  stopTestCalled = false;\n  return new Promise((resolve, reject) => {\n    audioOnly = !!(options && options.audioOnly);\n    testTimeout = audioOnly ? config.getStatsAudioOnlyDuration :\n      config.getStatsVideoAndAudioTestDuration;\n    if (options && options.timeout) {\n      testTimeout = Math.min(testTimeout, options.timeout, 30000);\n    }\n    const onSuccess = (results: QualityTestResults) => {\n      stopTest = undefined;\n      otLogging.logEvent({ action: 'testQuality', variation: 'Success' });\n      resolve(results);\n    };\n\n    const onError = (error: Error) => {\n      stopTest = undefined;\n      otLogging.logEvent({ action: 'testQuality', variation: 'Failure' });\n      reject(error);\n    };\n\n    validateBrowser()\n      .then(() => {\n        let sessionOptions: OT.InitSessionOptions = {};\n        if (options && options.initSessionOptions) {\n          sessionOptions = options.initSessionOptions;\n        }\n        if (options && options.proxyServerUrl) {\n          // eslint-disable-next-line no-prototype-builtins\n          if (!OT.hasOwnProperty('setProxyUrl')) { // Fallback for OT.version < 2.17.4\n            sessionOptions.proxyUrl = options.proxyServerUrl;\n          }\n        }\n        const session = OT.initSession(credentials.apiKey, credentials.sessionId, sessionOptions);\n        checkSubscriberQuality(OT, session, credentials, options, onUpdate)\n          .then(onSuccess)\n          .catch(onError);\n      })\n      .catch(onError);\n  });\n}\n\nexport function stopQualityTest() {\n  stopTestCalled = true;\n  if (stopTestTimeoutCompleted && stopTest) {\n    stopTest();\n  }\n}\n","/**\n * @module Util\n */\n\n/**\n * Returns a copy of an object, setting or overriding the property with the provided value\n */\nexport const assoc = (key: string, value: any, obj: Object): Object => ({ ...obj, [key]: value });\n\n/**\n * Returns a copy of an object, setting or overriding the property at the specified path\n * with the provided value.  The path should be provided as a period-delimited string.\n */\nexport const assocPath = (path: string, value: any, obj: Object): Object => {\n  const keys: string[] = path.split('.');\n  const key = keys[0];\n  if (!keys.length) {\n    return obj;\n  }\n  if (keys.length === 1) {\n    return assoc(key, value, obj);\n  }\n\n  const valForKey = get(key, obj);\n  const base: Object = (!!valForKey && typeof valForKey === 'object')\n    ? valForKey\n    // eslint-disable-next-line no-extra-boolean-cast\n    : (!!valForKey ? { ...obj, [key]: {} } : obj);\n  const update = assoc(key, assocPath(keys.slice(1).join('.'), value, get(key, base)), obj);\n  return { ...obj, ...update };\n\n};\n\n/**\n * Returns a (nested) property from the provided object or undefined\n */\nexport const get = <T>(props: string, obj: any): T => {\n  if (!obj) {\n    return obj;\n  }\n  const [current, ...rest] = props.split('.');\n  const result = obj[current];\n  if (result === undefined || result === null) {\n    return result;\n  }\n  if (rest.length) {\n    return get(rest.join('.'), result);\n  }\n  return result;\n};\n\n/**\n * Returns a (nested) property from the provided object or the default\n * value if undefined\n */\nexport const getOr = <T>(defaultValue: any, props: string, obj: any): T => get(props, obj) || defaultValue;\n\n/**\n * Returns a subset of the provided object with the specified properties. Keys whose corresponding\n * values are undefined are not included.\n */\nexport const pick =\n  <T extends { [key: string]: any }, K extends keyof T>(\n    props: K[],\n    obj: T,\n    all = false): Partial<T> => {\n    const update = (acc: object, prop: K): Partial<T> =>\n      obj[prop] !== undefined || all ? { ...acc, [prop]: obj[prop] } : acc;\n    return props.reduce(update, {});\n  };\n\n/**\n * Returns a subset of the provided object with the specified properties. Keys whose corresponding\n * values are undefined are included.\n */\nexport const pickAll = <T extends { [key: string]: any }, K extends keyof T>(props: K[], obj: T): Partial<T> =>\n  pick(props, obj, true);\n\n/**\n * Returns the last element from an array\n */\nexport const last = <T>(list: T[]): (T | undefined) => list[list.length - 1];\n\n/**\n * Returns the nth element of an array. If a negative value is passed, the nth element from the end\n * of the array will be returned.\n */\nexport const nth = <T>(n: number, list: T[]): (T | undefined) => {\n  return n < 0 ? list[list.length + n] : list[n];\n};\n\n/**\n * Returns the first element from a list, or undefined if it doesn't exist\n */\nexport const head = <T>(list: T[]): (T | undefined) => nth(0, list);\n","// Axios v1.6.8 Copyright (c) 2024 Matt Zabriskie and contributors\n'use strict';\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nvar utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n// eslint-disable-next-line strict\nvar httpAdapter = null;\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nvar InterceptorManager$1 = InterceptorManager;\n\nvar transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nvar URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n\nvar FormData$1 = typeof FormData !== 'undefined' ? FormData : null;\n\nvar Blob$1 = typeof Blob !== 'undefined' ? Blob : null;\n\nvar platform$1 = {\n  isBrowser: true,\n  classes: {\n    URLSearchParams: URLSearchParams$1,\n    FormData: FormData$1,\n    Blob: Blob$1\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv\n});\n\nvar platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nvar defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nvar parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nvar AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\nvar cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nvar isURLSameOrigin = platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils$1.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nvar xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders$1.from(config.headers).normalize();\n    let {responseType, withXSRFToken} = config;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils$1.isFormData(requestData)) {\n      if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if ((contentType = requestHeaders.getContentType()) !== false) {\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n        requestHeaders.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if(platform.hasStandardBrowserEnv) {\n      withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(config));\n\n      if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(fullPath))) {\n        // Add xsrf header\n        const xsrfValue = config.xsrfHeaderName && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n        if (xsrfValue) {\n          requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n        }\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nvar adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst VERSION = \"1.6.8\";\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nvar validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n\n        if (!err.stack) {\n          err.stack = stack;\n          // match without the 2 top stack lines\n        } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n          err.stack += '\\n' + stack;\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nvar Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nvar CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nvar HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","/**\n * @module NetworkTest\n */\n\n/**\n* Define Network Connectivy class\n*/\n\n// eslint-disable-next-line\nconst version = require('../../package.json').version;\nimport { OT } from './types/opentok';\nimport { UpdateCallback, UpdateCallbackStats } from './types/callbacks';\nimport {\n  testConnectivity,\n  ConnectivityTestResults,\n} from './testConnectivity';\nimport {\n  testQuality,\n  stopQualityTest,\n  QualityTestResults,\n} from './testQuality';\nimport {\n  IncompleteSessionCredentialsError,\n  InvalidOnUpdateCallback,\n  MissingOpenTokInstanceError,\n  MissingSessionCredentialsError,\n} from './errors';\nimport OTKAnalytics = require('opentok-solutions-logging');\n\nexport interface NetworkTestOptions {\n  audioOnly?: boolean;\n  timeout?: number;\n  audioSource?: string;\n  videoSource?: string;\n  initSessionOptions?: OT.InitSessionOptions;\n  proxyServerUrl?: string;\n  scalableVideo?: boolean;\n  fullHd?: boolean;\n}\n\nexport default class NetworkTest {\n  credentials: OT.SessionCredentials;\n  OT: OT.Client;\n  otLogging: OTKAnalytics;\n  options?: NetworkTestOptions;\n\n  /**\n   * Returns an instance of NetworkConnectivity. See the \"API reference\" section of the\n   * README.md file in the root of the opentok-network-test-js project for details.\n   */\n  constructor(OT: OT.Client, credentials: OT.SessionCredentials, options?: NetworkTestOptions) {\n    this.validateOT(OT);\n    this.validateCredentials(credentials);\n    const proxyServerUrl = this.validateProxyUrl(options);\n    this.otLogging = this.startLoggingEngine(credentials.apiKey, credentials.sessionId, proxyServerUrl);\n    this.OT = OT;\n    this.credentials = credentials;\n    this.options = options;\n    this.setProxyUrl(proxyServerUrl);\n  }\n\n  private validateOT(OT: OT.Client) {\n    if (!OT || typeof OT !== 'object' || !OT.initSession) {\n      throw new MissingOpenTokInstanceError();\n    }\n  }\n\n  private validateCredentials(credentials: OT.SessionCredentials) {\n    if (!credentials) {\n      throw new MissingSessionCredentialsError();\n    }\n    if (!credentials.apiKey || !credentials.sessionId || !credentials.token) {\n      throw new IncompleteSessionCredentialsError();\n    }\n  }\n\n  private validateProxyUrl(options?: NetworkTestOptions): string {\n    if (!options || !options.proxyServerUrl) {\n      return '';\n    }\n    return options.proxyServerUrl;\n  }\n\n  private setProxyUrl(proxyServerUrl: string) {\n    if (this.OT.setProxyUrl && typeof this.OT.setProxyUrl === 'function' && proxyServerUrl) {\n      this.OT.setProxyUrl(proxyServerUrl);\n    }\n  }\n\n  private startLoggingEngine(apiKey: string, sessionId: string, proxyUrl: string): OTKAnalytics {\n    return new OTKAnalytics({\n      sessionId,\n      partnerId: apiKey,\n      source: window.location.href,\n      clientVersion: `js-network-test-${version}`,\n      name: 'opentok-network-test',\n      componentId: 'opentok-network-test',\n    }, {\n      proxyUrl,\n    });\n  }\n\n  /**\n   * This method checks to see if the client can connect to TokBox servers required for\n   * using OpenTok.\n   *\n   * See the \"API reference\" section of the README.md file in the root of the\n   * opentok-network-test-js project for details.\n   */\n  testConnectivity(): Promise<ConnectivityTestResults> {\n    this.otLogging.logEvent({ action: 'testConnectivity', variation: 'Attempt' });\n    return testConnectivity(this.OT, this.credentials, this.otLogging, this.options);\n  }\n\n  /**\n   * This function runs a test publisher and based on the measured video bitrate,\n   * audio bitrate, and the audio packet loss for the published stream, it returns\n   * results indicating the recommended supported publisher settings.\n   *\n   * See the \"API reference\" section of the README.md file in the root of the\n   * opentok-network-test-js project for details.\n   */\n  testQuality(updateCallback?: UpdateCallback<UpdateCallbackStats>): Promise<QualityTestResults> {\n    this.otLogging.logEvent({ action: 'testQuality', variation: 'Attempt' });\n    if (updateCallback) {\n      if (typeof updateCallback !== 'function' || updateCallback.length !== 1) {\n        this.otLogging.logEvent({ action: 'testQuality', variation: 'Failure' });\n        throw new InvalidOnUpdateCallback();\n      }\n    }\n    return testQuality(\n      this.OT, this.credentials, this.otLogging, this.options, updateCallback);\n  }\n\n  /**\n   * Stops the currently running test.\n   *\n   * See the \"API reference\" section of the README.md file in the root of the\n   * opentok-network-test-js project for details.\n   */\n  stop() {\n    stopQualityTest();\n  }\n}\n\nexport { ErrorNames } from './errors/types';\n"],"names":["root","factory","exports","module","define","amd","self","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","length","shift","asap","task","rawTask","pop","RawTask","this","prototype","call","error","onerror","push","queue","requestFlush","index","flush","currentIndex","scan","newLength","toggle","observer","node","scope","g","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","callback","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","document","createTextNode","observe","characterData","data","_defineProperties","e","n","t","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_typeof","Symbol","toPrimitive","String","Number","TypeError","_toPrimitive","iterator","constructor","clientVersion","console","log","Error","source","componentId","name","logVersion","clientSystemTime","Date","getTime","assign","i","post","r","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","l","setTime","toGMTString","join","cookie","a","concat","split","charAt","substring","indexOf","c","substr","Math","floor","random","_classCallCheck","analyticsData","server","loggingUrl","proxyUrl","guid","_createClass","value","sessionId","connectionId","partnerId","noop","LAST_ERROR","IS_ERROR","Promise","fn","_x","_y","_z","_A","doResolve","handle","deferred","_B","cb","onFulfilled","onRejected","ret","ex","tryCallOne","reject","promise","resolve","handleResolved","newValue","then","obj","getThen","finale","bind","_C","Handler","done","res","b","tryCallTwo","reason","_D","safeThen","arguments","apply","err","TRUE","valuePromise","FALSE","NULL","UNDEFINED","undefined","ZERO","EMPTYSTRING","p","iterableToArray","iterable","Array","from","x","slice","onSettledFulfill","status","onSettledReject","mapAllSettled","item","getAggregateError","errors","AggregateError","all","arr","args","remaining","val","allSettled","map","race","values","forEach","any","promises","hasResolved","rejectionReasons","resolveOnce","rejectionCheck","finally","f","denodeify","argumentCount","Infinity","body","callbackFn","Function","denodeifyWithCount","fnLength","max","_","denodeifyWithoutCount","nodeify","ctx","enableSynchronous","isPending","getState","isFulfilled","isRejected","getValue","getReason","disableSynchronous","NetworkTestError","message","super","ErrorNames","NETWORK_TEST_ERROR","stack","MISSING_OPENTOK_INSTANCE","INCOMPLETE_SESSON_CREDENTIALS","MISSING_SESSON_CREDENTIALS","INVALID_ON_UPDATE_CALLBACK","PERMISSION_DENIED_ERROR","UNSUPPORTED_RESOLUTION_ERROR","OTErrorType","errorHasName","get","ConnectivityError","CONNECTIVITY_ERROR","API_CONNECTIVITY_ERROR","ConnectToSessionError","CONNECT_TO_SESSION_ERROR","CONNECT_TO_SESSION_TOKEN_ERROR","CONNECT_TO_SESSION_ID_ERROR","CONNECT_TO_SESSION_NETWORK_ERROR","MediaDeviceError","MEDIA_DEVICE_ERROR","FAILED_TO_OBTAIN_MEDIA_DEVICES","NO_VIDEO_CAPTURE_DEVICES","NO_AUDIO_CAPTURE_DEVICES","PublishToSessionError","PUBLISH_TO_SESSION_ERROR","FAILED_MESSAGING_SERVER_TEST","FAILED_TO_CREATE_LOCAL_PUBLISHER","PUBLISH_TO_SESSION_NOT_CONNECTED","PUBLISH_TO_SESSION_PERMISSION_OR_TIMEOUT_ERROR","PUBLISH_TO_SESSION_NETWORK_ERROR","SUBSCRIBE_TO_SESSION_ERROR","LOGGING_SERVER_CONNECTION_ERROR","FailureType","mapErrorToCase","type","Api","Messaging","OpentokJs","Media","Logging","getType","mapErrors","disconnectFromSession","session","on","off","disconnect","cleanPublisher","publisher","destroy","checkCreateLocalPublisher","OT","options","getDevices","devices","FailedToObtainMediaDevices","availableDevices","reduce","acc","device","kind","deviceId","audio","video","keys","validateDevices","publisherDiv","createElement","style","position","bottom","width","height","opacity","appendChild","publisherOptions","insertMode","showControls","scalableVideo","audioSource","videoSource","audioOnly","initPublisher","FailedToCreateLocalPublisher","visibility","catch","checkSubscribeToSession","config","testNetwork","audioVolume","disconnectAndReject","rejectError","stream","subscriberDiv","subscriber","subscribe","SubscribeToSessionError","checkLoggingServer","input","getOr","url","proxyServerUrl","replace","handleError","LoggingServerConnectionError","response","credentials","otLogging","apiKey","token","sessionOptions","initSessionOptions","hasOwnProperty","initSession","connect","OT_AUTHENTICATION_ERROR","ConnectToSessionTokenError","OT_INVALID_SESSION_ID","ConnectToSessionSessionIdError","OT_CONNECT_FAILED","ConnectToSessionNetworkError","OT_INVALID_HTTP_STATUS","APIConnectivityError","connectToSession","publish","NOT_CONNECTED","PublishToSessionNotConnectedError","UNABLE_TO_PUBLISH","PublishToSessionPermissionOrTimeoutError","checkPublishToSession","results","flowResults","success","failedTests","logEvent","action","variation","unsubscribe","handleResults","baseFailures","messagingFailure","find","FailedMessagingServerTestError","loggingError","QualityTestError","QUALITY_TEST_ERROR","browser","UNSUPPORTED_BROWSER","INIT_PUBLISHER_ERROR","SUBSCRIBER_GET_STATS_ERROR","MISSING_SUBSCRIBER_ERROR","MOSState","stats","bandwidth","hasAudioTrack","subscriberStatsLog","hasVideoTrack","getLastPublisherStats","publisherStatsLog","audioScoresLog","videoScoresLog","audioOnlyFallback","audioScore","score","videoScore","intervalId","window","pruneAudioScores","maxLogLength","pruneVideoScores","pruneScores","audioQualityScore","videoQualityScore","scoreInterval","calculateStats","samples","qualityStats","currStat","prevStat","averageBitrate","bytesReceived","timestamp","packetsReceived","packetsLost","totalExpectedPackets","packetLossRatio","frameRate","latestSamples","getAverageBitrateAndPlr","subscriberStatsList","publisherStatsList","sumBps","sumPlr","sumFrameRate","stat","videoKbsSent","audioStats","kbs","isSimulcastEnabled","some","publisherStats","simulcastEnabled","qualityLimitationReason","videoStats","averageStats","availableOutgoingBitrate","simulcast","bitrate","supported","recommendedResolution","recommendedFrameRate","state","sampleWindow","subscriberQualityStats","strings","noMic","bandwidthLow","noCam","getStatsInterval","getStatsVideoAndAudioTestDuration","getStatsAudioOnlyDuration","subscribeOptions","minimumVideoAndAudioTestSampleSize","steadyStateSampleWindow","steadyStateAllowedDelta","thresholdRatio","qualityThresholds","targetBitrate","targetBitrateSimulcast","recommendedSetting","minMos","oldestAllowedTime","last","filter","previousStats","getRtcStatsReport","publisherStatsReport","extractPublisherStats","calculateAudioBitrate","previousSsrcFrameData","currentTimestamp","previousTimestamp","byteSent","previousByteSent","bytesSent","timeDiff","round","calculateVideoBitrate","ssrc","publisherRtcStatsReport","rtcStatsReport","rtcStatsArray","outboundRtpStats","iceCandidatePairStats","nominated","localCandidate","id","localCandidateId","mediaType","baseStats","resolution","frameWidth","frameHeight","framerate","framesPerSecond","active","pliCount","nackCount","extractOutboundRtpStats","currentRoundTripTime","sum","videoByteSent","transportProtocol","protocol","subscriberStats","phase","audioTrackStats","videoTrackStats","audioCallbackStats","videoCallbackStats","thresholds","threshold","result","statsList","isSteadyState","currSample","entries","prevSample","currBitrate","prevBitrate","currBitrateAudio","prevBitrateAudio","navigator","userAgent","match","mediaDevices","detectBrowser","getPacketsLost","ts","getTotalPackets","getPacketsReceived","calculateTotalPackets","current","calculateBitRate","interval","DEFAULT_DELAY","calculateAudioScore","currentStats","lastStats","nth","totalAudioPackets","delay","R","d","calculateR","mosState","getStatsListener","getStats","getPublisherStats","MIN_VIDEO_BITRATE","baseBitrate","pixelCount","y","log10","targetBitrateForPixelCount","videoDimensions","min","calculateVideoScore","FULL_HD_WIDTH","FULL_HD_HEIGHT","FULL_HD_RESOLUTION","HD_RESOUTION","testTimeout","stopTest","stopTestTimeoutId","stopTestTimeoutCompleted","stopTestCalled","fullHd","getUserMedia","exact","mediaStream","UnsupportedResolutionError","PermissionDeniedError","NoAudioCaptureDevicesError","subscribeToTestStream","connection","containerDiv","InitPublisherError","publishError","event","subscribeToAudio","subscribeToVideo","subscribeError","publishAndSubscribe","checkSubscriberQuality","onUpdate","mosEstimatorTimeoutId","builder","updateStats","processResults","audioVideoResults","baseProps","mos","pick","buildResults","cleanSubscriber","unpublish","videoResults","resultsCallback","exception","SubscriberGetStatsError","MissingSubscriberError","timeout","onSuccess","onError","UnsupportedBrowserError","assoc","assocPath","path","valForKey","base","update","props","rest","defaultValue","prop","pickAll","list","head","thisArg","toString","getPrototypeOf","kindOf","cache","create","thing","str","toLowerCase","kindOfTest","typeOfTest","isArray","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","toStringTag","isDate","isFile","isBlob","isFileList","isURLSearchParams","allOwnKeys","getOwnPropertyNames","len","findKey","_key","_global","globalThis","isContextDefined","context","isTypedArray","TypedArray","Uint8Array","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","defineProperties","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","toUpperCase","isAsyncFn","utils$1","isBuffer","isFormData","FormData","append","isArrayBufferView","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","assignValue","targetKey","extend","trim","stripBOM","content","charCodeAt","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","endsWith","searchString","lastIndex","toArray","forEachEntry","next","pair","matchAll","regExp","matches","exec","hasOwnProp","freezeMethods","set","toObjectSet","arrayOrString","delimiter","toCamelCase","m","p1","p2","toFiniteNumber","isFinite","global","generateString","size","alphabet","isSpecCompliantForm","toJSONObject","visit","target","reducedValue","isThenable","AxiosError","code","request","captureStackTrace","toJSON","description","number","fileName","lineNumber","columnNumber","prototype$1","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","dots","predicates","test","toFormData","formData","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","isFlatArray","el","exposedHelpers","build","encode$1","charMap","encodeURIComponent","AxiosURLSearchParams","params","_pairs","encode","buildURL","_encode","serializeFn","serialize","serializedParams","hashmarkIndex","encoder","InterceptorManager$1","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","clear","h","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","platform$1","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","platform","freeze","__proto__","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","method","defaults$1","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","parseHeaders","tokens","tokensRE","parseTokens","has","matcher","deleted","deleteHeader","normalize","format","normalized","w","char","formatHeader","targets","asStrings","first","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","AxiosHeaders$1","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","cookies","write","expires","domain","secure","read","RegExp","decodeURIComponent","remove","now","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","host","search","hash","hostname","port","pathname","location","requestURL","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","samplesCount","bytes","timestamps","firstSampleTS","tail","chunkLength","startedAt","bytesCount","passed","speedometer","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","knownAdapters","http","xhr","requestData","requestHeaders","onCanceled","withXSRFToken","cancelToken","signal","removeEventListener","Boolean","auth","username","password","unescape","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","ERR_BAD_REQUEST","settle","responseText","statusText","paramsSerializer","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","xsrfValue","withCredentials","onDownloadProgress","addEventListener","onUploadProgress","upload","cancel","abort","aborted","parseProtocol","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","configValue","VERSION","validators$1","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","ERR_DEPRECATED","warn","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","validators","Axios","instanceConfig","interceptors","configOrUrl","_request","dummy","boolean","function","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","chain","newConfig","getUri","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","splice","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","axios","createInstance","defaultConfig","instance","Cancel","spread","isAxiosError","payload","formToJSON","getAdapter","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","validateOT","validateCredentials","validateProxyUrl","startLoggingEngine","setProxyUrl","MissingOpenTokInstanceError","MissingSessionCredentialsError","IncompleteSessionCredentialsError","OTKAnalytics","testConnectivity","testQuality","updateCallback","InvalidOnUpdateCallback","stop","stopQualityTest"],"sourceRoot":""}