import{r as d,W as Q,j as e,Y as E}from"./app-CNfyiqKG.js";import{l as H,I as m,a as P,N as W}from"./index-FcB0IYLT.js";import{H as M}from"./index-SYSFdXE9.js";import{F as $,a as S,b as I,c as y}from"./index-BeXUlq9a.js";import"./Dropdown-CyL13p_S.js";import"./transition-B4h3_l-B.js";const R="_container_3ij9x_1",V="_content_3ij9x_11",q="_left_3ij9x_23",K="_imgContainer_3ij9x_33",O="_profileImg_3ij9x_41",U="_doctorInfoContainer_3ij9x_51",Y="_right_3ij9x_59",G="_doctorName_3ij9x_67",J="_doctorProfession_3ij9x_79",X="_dateSelect_3ij9x_93",Z="_scrollBtn_3ij9x_109",ee="_inactive_3ij9x_131",te="_dateSelectContainer_3ij9x_139",se="_dateBoxContainer_3ij9x_147",ne="_dateBox_3ij9x_147",ae="_selectedDateBox_3ij9x_191",ie="_dateBoxTitle_3ij9x_203",ce="_dateBoxDayInfo_3ij9x_219",oe="_submitBtnQuick_3ij9x_235",le={container:R,content:V,left:q,imgContainer:K,profileImg:O,doctorInfoContainer:U,right:Y,doctorName:G,doctorProfession:J,dateSelect:X,scrollBtn:Z,inactive:ee,dateSelectContainer:te,dateBoxContainer:se,dateBox:ne,selectedDateBox:ae,dateBoxTitle:ie,dateBoxDayInfo:ce,submitBtnQuick:oe},re="_container_n6iug_1",de="_content_n6iug_6",xe="_left_n6iug_12",me="_imgContainer_n6iug_17",ue="_profileImg_n6iug_21",be="_doctorInfoContainer_n6iug_26",he="_right_n6iug_30",fe="_doctorName_n6iug_34",je="_doctorProfession_n6iug_40",ge="_dateSelect_n6iug_47",_e="_scrollBtn_n6iug_55",pe="_inactive_n6iug_66",Ne="_dateSelectContainer_n6iug_70",Be="_dateBoxContainer_n6iug_74",ve="_dateBox_n6iug_74",Ce="_selectedDateBox_n6iug_96",ke="_dateBoxTitle_n6iug_102",we="_dateBoxDayInfo_n6iug_110",$e="_submitBtnQuick_n6iug_118",n={container:re,content:de,left:xe,imgContainer:me,profileImg:ue,doctorInfoContainer:be,right:he,doctorName:fe,doctorProfession:je,dateSelect:ge,scrollBtn:_e,inactive:pe,dateSelectContainer:Ne,dateBoxContainer:Be,dateBox:ve,selectedDateBox:Ce,dateBoxTitle:ke,dateBoxDayInfo:we,submitBtnQuick:$e},D=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],T=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function Se({employee:a,type:u,dates:o,showMore:l,setShowMore:j}){const[r,g]=d.useState(u==="onsite"?"onsite":"online"),_=t=>{j(s=>({...s,[t]:!s[t]}))},[i,F]=d.useState(null),p=d.useRef({}),b=(t,s)=>{const c=p.current[s],f=200,k=t==="left"?-f:f;c.scrollBy({top:0,left:k,behavior:"smooth"});const x=c.previousElementSibling,w=c.nextElementSibling;c.addEventListener("scroll",()=>{c.scrollLeft===0?x.classList.add(n.inactive):x.classList.remove(n.inactive),c.scrollLeft>=c.scrollWidth-c.clientWidth?w.classList.add(n.inactive):w.classList.remove(n.inactive)})},v=t=>{g(t),N("online",t==="online"?1:0)},A=()=>{axios.get("/employee/get_blocked_hours/"+a.uid).then(t=>{F(t.data)})};d.useEffect(()=>{A()},[]),d.useState("");const{data:L,setData:N,post:z,get:Ie,processing:ye,errors:De,reset:Te}=Q({date:null,hour:null,time:"",online:u==="online"?1:0,employeeUID:a.uid}),h=t=>{const s=t.target.getAttribute("data-date"),c=t.target.getAttribute("data-hour"),f=s+" "+c;N("time",f),document.querySelectorAll(".timeBox").forEach(x=>{x.classList.remove("bg-[#c99b31]"),x.classList.remove("text-white")}),t.target.classList.add("bg-[#c99b31]"),t.target.classList.add("text-white")},B=()=>{console.log(L),z(route("reservation.check"))},C=()=>{const t=document.querySelectorAll('.timeBox[data-employee="'+a.uid+'"]');let s=null;t.forEach(c=>{s||c.hasAttribute("disabled")||(s=c,N("time",s.getAttribute("data-date")+" "+s.getAttribute("data-hour")),B())})};return e.jsx(e.Fragment,{children:a&&e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px]",src:a.profile_image?"/images/"+a.profile_image:H,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[a.username," ",a.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Internist, Allgemeinmediziner (Hausarzt), Hausarzt"}),e.jsxs("div",{className:"flex gap-[1px]",children:[e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx("span",{className:"text-[#627282] text-sm ml-2 ",children:"87 Bewertungen"})]})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>v("onsite"),className:`tab-item relative pb-3 cursor-pointer
                                        ${r==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})}),e.jsx("li",{onClick:()=>v("online"),className:`tab-item relative pb-3 cursor-pointer
                                        ${r==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(P,{}),"Videosprechstunde"," "]})})]}),e.jsx("div",{className:"tab-content",children:r==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:r==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:C,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>b("left",a.uid),children:e.jsx($,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>p.current[a.uid]=t,children:i&&(l[a.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>b("right",a.uid),children:e.jsx(S,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(a.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:l[a.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(I,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(y,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:B,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:C,children:"Nächstmöglicher Termin"})})}),e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>b("left",a.uid),children:e.jsx($,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>p.current[a.uid]=t,children:i&&(l[a.uid]?o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})):o.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:t.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.slice(0,5).map(s=>i[t]&&i[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:i[t.date]&&i[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:c=>{h(c)},disabled:i[t.date]&&i[t.date].includes(s),"data-employee":a.uid,children:s}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>b("right",a.uid),children:e.jsx(S,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>_(a.uid),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:l[a.uid]?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(I,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(y,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:B,"data-employee":"submit-"+a.uid,children:"Termin vereinbaren"})})]})})]})})})}function He({auth:a,employees:u,type:o,dates:l}){const[j,r]=d.useState({});return e.jsxs(e.Fragment,{children:[e.jsx(W,{user:a.user}),e.jsx(E,{title:"Welcome"}),e.jsx("div",{className:`   ${le.container}`,children:u.map((g,_)=>e.jsx(Se,{dates:l,type:o,employee:g,showMore:j,setShowMore:r}))})]})}export{He as default};
