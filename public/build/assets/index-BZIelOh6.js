import{j as e,a as Y,r as x,W as M,b as R}from"./app-DpS6gK43.js";import{N as J}from"./index-DYgOa4kH.js";import{p as K}from"./profile-Dcl-SGZY.js";import{v as Q}from"./videoIcon-BhuLOe16.js";import{c as X}from"./calendarIcon-B8kX6hle.js";import{I as G}from"./InputError-CA_9IzP8.js";import{l as W,r as O}from"./leftArrowIcon-DVJ2JtvN.js";import{M as C,B as Z}from"./bootstrap.min-CO8drH7x.js";import{u as ee}from"./index-D7LEsN5S.js";import"./Dropdown-CVZCpLon.js";import"./transition-CjAQ0gx0.js";const te="_container_np1aw_1",ne="_content_np1aw_11",se="_profilePhotoContainer_np1aw_27",ae="_profilePhoto_np1aw_27",ie="_infoContainer_np1aw_49",oe="_name_np1aw_59",ce="_email_np1aw_75",S={container:te,content:ne,profilePhotoContainer:se,profilePhoto:ae,infoContainer:ie,name:oe,email:ce},le=({auth:t})=>{const d=t.user.profile_image?"images/"+t.user.profile_image:"images/profile.png";return e.jsx("div",{className:S.container,children:e.jsxs("div",{className:S.content,children:[e.jsx("div",{className:S.profilePhotoContainer,children:e.jsx("img",{src:d,className:S.profilePhoto,alt:""})}),e.jsxs("div",{className:S.infoContainer,children:[e.jsx("h6",{className:S.name,children:t.user.username}),e.jsx("p",{className:S.email,children:t.user.email})]})]})})},re="_container_5ogd9_1",de="_menu_5ogd9_21",me="_menuItem_5ogd9_31",_e="_active_5ogd9_61",q={container:re,menu:de,menuItem:me,active:_e},ue=({tabs:t,activeTab:d,changeTab:j})=>e.jsx("div",{className:q.container,children:e.jsx("div",{className:q.menu,children:t.map(c=>e.jsx("button",{onClick:()=>j(c.id),to:c.path,className:[q.menuItem,c.id==d?q.active:null].join(" "),children:c.label},c.id))})}),pe="_container_ajuxe_1",xe="_contentContainer_ajuxe_15",fe="_content_ajuxe_15",H={container:pe,contentContainer:xe,content:fe},he="_container_c0lzu_1",je="_title_c0lzu_15",ve="_visitContainer_c0lzu_33",ye="_showMoreBtn_c0lzu_55",U={container:he,title:je,visitContainer:ve,showMoreBtn:ye},Be="_container_23nnc_1",ge="_profilePhoto_23nnc_17",Ne="_appointmentInfo_23nnc_25",be="_doctorInfo_23nnc_35",Ce="_info_23nnc_59",$e="_appointmentType_23nnc_71",Se="_doctorName_23nnc_95",De="_profession_23nnc_109",Ie="_dateInfo_23nnc_123",we="_date_23nnc_123",ke="_time_23nnc_147",Te="_btnGroup_23nnc_161",Ge="_btn_23nnc_161",B={container:Be,profilePhoto:ge,appointmentInfo:Ne,doctorInfo:be,info:Ce,appointmentType:$e,doctorName:Se,profession:De,dateInfo:Ie,date:we,time:ke,btnGroup:Te,btn:Ge},Pe=({visitType:t,patientName:d,date:j,time:c,visitId:y,profile_image:N=""})=>e.jsxs("div",{className:B.container,children:[e.jsxs("div",{className:B.appointmentInfo,children:[e.jsxs("div",{className:B.doctorInfo,children:[e.jsx("img",{src:N?"/images/"+N:K,alt:"",className:B.profilePhoto}),e.jsxs("div",{className:B.info,children:[e.jsxs("h4",{className:B.appointmentType,children:[e.jsx("img",{src:Q,alt:""}),t]}),e.jsx("h5",{className:B.doctorName,children:d})]})]}),e.jsxs("div",{className:B.dateInfo,children:[e.jsx("div",{className:B.date,children:j}),e.jsx("div",{className:B.time,children:c})]})]}),e.jsx("div",{className:B.btnGroup,children:e.jsxs(Y,{className:B.btn,href:route("visit",y),children:[e.jsx("img",{src:X,alt:""}),"Termindetails"]})})]}),Le=({reservations:t})=>(x.useState(t),e.jsxs("div",{className:U.container,children:[e.jsx("h5",{className:U.title,children:"Abgeschlossene Besuche"}),e.jsx("div",{className:U.visitContainer,children:t.map(d=>e.jsx(Pe,{visitType:d.is_online?"Videosprechstunde Termin":"Vor-Ort-Termin",patientName:d.patient.name,date:d.date,time:d.hour,visitId:d.key,profile_image:d.patient.profile_image?d.patient.profile_image:""},d.key))})]})),Ae="_container_jkx1u_1",Fe="_titleContainer_jkx1u_13",Ee="_title_jkx1u_13",ze="_info_jkx1u_45",qe="_formContainer_jkx1u_65",Me="_formTitle_jkx1u_73",Re="_btnGroup_jkx1u_89",He="_cancelBtn_jkx1u_101",Ue="_saveBtn_jkx1u_133",Ve="_formGroup_jkx1u_167",We="_label_jkx1u_181",Oe="_input_jkx1u_193",Ze="_imageContainer_jkx1u_231",Ye="_image_jkx1u_231",Je="_uploadBtn_jkx1u_255",Ke="_imageInfo_jkx1u_281",u={container:Ae,titleContainer:Fe,title:Ee,info:ze,formContainer:qe,formTitle:Me,btnGroup:Re,cancelBtn:He,saveBtn:Ue,formGroup:Ve,label:We,input:Oe,imageContainer:Ze,image:Ye,uploadBtn:Je,imageInfo:Ke},Qe=({auth:t})=>{const[d,j]=x.useState(null),[c,y]=t.user.profile_image?x.useState("/images/"+t.user.profile_image):x.useState("https://via.placeholder.com/150"),{data:N,setData:p,errors:P,post:D,reset:I,processing:l,recentlySuccessful:L}=M({profileImage:null,userName:t.user.username?t.user.username:"",name:t.user.name?t.user.name:"",email:t.user.email?t.user.email:""}),A=m=>{const f=m.target.files[0];f.type.match(/image\/(png|jpg|jpeg)/)?(j(f),p("profileImage",f),F(f),console.log(f)):console.error("Unsupported file type")},F=m=>{const f=new FileReader;console.log(f),f.addEventListener("load",()=>{y(f.result)}),f.readAsDataURL(m)},b=m=>{m.preventDefault(),D(route("profile.update"))};return e.jsxs("div",{className:u.container,children:[e.jsxs("div",{className:u.titleContainer,children:[e.jsx("h4",{className:u.title,children:"Persönliche Daten"}),e.jsx("p",{className:u.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:u.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:u.imageContainer,children:[e.jsx("img",{src:c,alt:"profile",className:u.image}),e.jsx("div",{className:u.uploadBtn,onClick:()=>{document.getElementById("image").click()},role:"div",children:"Bild hochladen"}),e.jsx("p",{className:u.imageInfo,children:"Hochgeladene Bildgröße: 800 x 800 Pixel."}),e.jsx("input",{type:"file",id:"image",style:{display:"none"},onChange:m=>{A(m)}})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"userName",className:u.label,children:"Name"}),e.jsx("input",{type:"text",name:"userName",id:"userName",className:u.input,placeholder:"ritaaagreiner",onChange:m=>p("userName",m.target.value),value:t.user.username})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"name",className:u.label,children:"Nachname"}),e.jsx("input",{type:"text",name:"name",id:"name",className:u.input,placeholder:"Rita Greiner",onChange:m=>p("name",m.target.value),value:t.user.name})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"email",className:u.label,children:"E-mail"}),e.jsx("input",{type:"email",name:"email",id:"email",className:u.input,placeholder:"ritagreiner@gmail.com",onChange:m=>p("email",m.target.value),value:t.user.email})]})]}),e.jsx("div",{className:u.btnGroup,children:e.jsx("button",{className:u.saveBtn,onClick:m=>{b(m)},children:"Speichern"})})]})]})},Xe="_container_eps51_1",et={container:Xe},tt="_container_2yp2d_1",nt="_titleContainer_2yp2d_11",st="_title_2yp2d_11",at="_info_2yp2d_43",it="_formContainer_2yp2d_61",ot="_formTitle_2yp2d_67",ct="_submitBtn_2yp2d_83",lt="_formGroup_2yp2d_111",rt="_label_2yp2d_125",dt="_input_2yp2d_137",h={container:tt,titleContainer:nt,title:st,info:at,formContainer:it,formTitle:ot,submitBtn:ct,formGroup:lt,label:rt,input:dt},mt=()=>{const t=()=>{};return e.jsxs("div",{className:h.container,children:[e.jsxs("div",{className:h.titleContainer,children:[e.jsx("h4",{className:h.title,children:"Passwort Andern"}),e.jsx("p",{className:h.info,children:"Sie können Ihr Passwort in diesem Bereich aktualisieren und Ihre Mitgliedschaft fortsetzen."})]}),e.jsxs("div",{className:h.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{class:h.formGroup,children:[e.jsx("label",{for:"password",class:h.label,children:"Passwort"}),e.jsx("input",{type:"text",name:"password",id:"password",class:h.input,placeholder:"Altes Passwort",onChange:t})]}),e.jsxs("div",{class:h.formGroup,children:[e.jsx("label",{for:"name",class:h.label,children:"Neues Passwort"}),e.jsx("input",{type:"text",name:"name",id:"name",class:h.input,placeholder:"Neues Passwort",onChange:t})]}),e.jsxs("div",{class:h.formGroup,children:[e.jsx("label",{for:"email",class:h.label,children:"Neues Passwort (Nochmals)"}),e.jsx("input",{type:"mail",name:"email",id:"email",class:h.input,placeholder:"Neues Passwort (Nochmals)",onChange:t})]})]}),e.jsx("button",{className:h.submitBtn,children:"Passwort zurücksetzen"})]})]})},_t="_container_i0ji1_1",ut="_titleContainer_i0ji1_13",pt="_title_i0ji1_13",xt="_info_i0ji1_45",ft="_formContainer_i0ji1_65",ht="_formTitle_i0ji1_73",jt="_btnGroup_i0ji1_89",vt="_cancelBtn_i0ji1_101",yt="_saveBtn_i0ji1_133",Bt="_formGroup_i0ji1_163",gt="_label_i0ji1_177",Nt="_input_i0ji1_189",bt="_textArea_i0ji1_227",o={container:_t,titleContainer:ut,title:pt,info:xt,formContainer:ft,formTitle:ht,btnGroup:jt,cancelBtn:vt,saveBtn:yt,formGroup:Bt,label:gt,input:Nt,textArea:bt},Ct=({auth:t,flash:d})=>{const{data:j,setData:c,errors:y,post:N,reset:p,processing:P,recentlySuccessful:D}=M({summary:t.user.summary?t.user.summary:"",university:t.user.university?t.user.university:"",department:t.user.department?t.user.department:"",certificate_source:t.user.certificate_source?t.user.certificate_source:"",certificate:t.user.certificate?t.user.certificate:"",specializations:t.user.specializations?t.user.specializations:"",profession:t.user.profession?t.user.profession:""}),I=l=>{l.preventDefault(),N(route("profile.update_employee"))};return e.jsxs("div",{className:o.container,children:[e.jsxs("div",{className:o.titleContainer,children:[e.jsx("h4",{className:o.title,children:"Persönliche Daten"}),e.jsx("p",{className:o.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:o.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zusammenfassung"}),e.jsx("textarea",{className:o.textArea,name:"summary",value:t.user.summary?t.user.summary:"",onChange:l=>c("summary",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Universität"}),e.jsx("input",{type:"text",name:"university",className:o.input,value:t.user.university?t.user.university:"",onChange:l=>c("university",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Fachbereich"}),e.jsx("input",{type:"text",name:"department",className:o.input,value:t.user.department?t.user.department:"",onChange:l=>c("department",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zertifikat Universität"}),e.jsx("input",{type:"text",name:"certificate_source",className:o.input,value:t.user.certificate_source?t.user.certificate_source:"",onChange:l=>c("certificate_source",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zertifikat"}),e.jsx("input",{type:"text",name:"certificate",className:o.input,value:t.user.certificate?t.user.certificate:"",onChange:l=>c("certificate",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Beruf"}),e.jsx("input",{type:"text",name:"profession",className:o.input,value:t.user.profession?t.user.profession:"",onChange:l=>c("profession",l.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Spezialisierung"}),e.jsx("textarea",{className:o.textArea,name:"specializations",value:t.user.specializations?t.user.specializations:"",onChange:l=>c("specializations",l.target.value)}),e.jsx("span",{className:o.info,children:"Write your specializations separated by comma ','"})]})]}),e.jsx("div",{className:o.btnGroup,children:e.jsx("button",{className:o.saveBtn,onClick:l=>{I(l)},children:"Speichern"})})]})]})},$t=({auth:t})=>e.jsxs("div",{className:et.container,children:[e.jsx(Qe,{auth:t}),e.jsx(mt,{}),e.jsx(Ct,{auth:t})]}),St="_patientAction_1xiyf_4",Dt="_patientActions_1xiyf_11",It="_patientName_1xiyf_18",wt="_patientInfo_1xiyf_23",kt="_patient_1xiyf_4",Tt="_patients_1xiyf_35",Gt="_container_1xiyf_42",Pt="_title_1xiyf_49",Lt="_visitContainer_1xiyf_69",At="_profilePhoto_1xiyf_78",Ft="_appointmentInfo_1xiyf_82",Et="_doctorInfo_1xiyf_87",zt="_info_1xiyf_99",qt="_appointmentType_1xiyf_105",Mt="_doctorName_1xiyf_117",Rt="_profession_1xiyf_124",Ht="_dateInfo_1xiyf_131",Ut="_date_1xiyf_131",Vt="_time_1xiyf_145",Wt="_btnGroup_1xiyf_152",Ot="_btn_1xiyf_152",Zt="_formContainer_1xiyf_181",Yt="_cancelBtn_1xiyf_186",Jt="_saveBtn_1xiyf_202",Kt="_titleContainer_1xiyf_224",Qt="_formTitle_1xiyf_254",Xt="_selectInput_1xiyf_299",en="_formGroup_1xiyf_311",tn="_label_1xiyf_318",nn="_input_1xiyf_324",sn="_tabMenu_1xiyf_389",an="_tabBtn_1xiyf_413",on="_active_1xiyf_425",cn="_appointmentDateContainer_1xiyf_429",ln="_divider_1xiyf_433",rn="_submitBtn_1xiyf_440",dn="_dateTitle_1xiyf_461",mn="_dateSelect_1xiyf_467",_n="_scrollBtn_1xiyf_473",un="_inactive_1xiyf_484",pn="_dateSelectContainer_1xiyf_488",xn="_dateBoxContainer_1xiyf_492",fn="_dateBox_1xiyf_492",hn="_selectedDateBox_1xiyf_522",jn="_dateBoxTitle_1xiyf_528",vn="_dateBoxDayInfo_1xiyf_536",yn="_timeSelectContainer_1xiyf_546",Bn="_timeSelect_1xiyf_546",gn="_timeBox_1xiyf_557",Nn="_timeBoxSelected_1xiyf_575",bn="_timeBoxDisabled_1xiyf_582",n={patientAction:St,patientActions:Dt,patientName:It,patientInfo:wt,patient:kt,patients:Tt,container:Gt,title:Pt,visitContainer:Lt,profilePhoto:At,appointmentInfo:Ft,doctorInfo:Et,info:zt,appointmentType:qt,doctorName:Mt,profession:Rt,dateInfo:Ht,date:Ut,time:Vt,btnGroup:Wt,btn:Ot,formContainer:Zt,cancelBtn:Yt,saveBtn:Jt,titleContainer:Kt,formTitle:Qt,selectInput:Xt,formGroup:en,label:tn,input:nn,tabMenu:sn,tabBtn:an,active:on,appointmentDateContainer:cn,divider:ln,submitBtn:rn,dateTitle:dn,dateSelect:mn,scrollBtn:_n,inactive:un,dateSelectContainer:pn,dateBoxContainer:xn,dateBox:fn,selectedDateBox:hn,dateBoxTitle:jn,dateBoxDayInfo:vn,timeSelectContainer:yn,timeSelect:Bn,timeBox:gn,timeBoxSelected:Nn,timeBoxDisabled:bn},Cn=({auth:t})=>{const[d,j]=x.useState([]),[c,y]=x.useState([]),[N,p]=x.useState(!1),[P,D]=x.useState([]);x.useState("online");const{data:I,setData:l,post:L,get:A,processing:F,errors:b,reset:m}=M({date:null,hour:null,patientUID:t.user.uid,insurance_type:"legal",insurance_policy_number:"",online:1}),f=s=>{console.log(s),R.get("/reservation/get_hours?date="+s+"&employeeUID="+t.user.uid,{date:s,employeeUID:t.user.uid}).then(_=>{l("date",s),console.log(I),D(_.data.hours),document.querySelectorAll(`.${n.dateBox}`).forEach(V=>{V.classList.remove(n.selectedDateBox)}),document.querySelector(`.${n.dateBox}[data-date="${s}"]`).classList.add(n.selectedDateBox)})},w=s=>{const _=s.target.getAttribute("data-hour");console.log(_),l("hour",_),document.querySelectorAll(`.${n.timeBox}`).forEach(z=>{z.classList.remove(n.timeBoxSelected)}),s.target.classList.add(n.timeBoxSelected)};x.useEffect(()=>{p(!0),R.get("/get_patients").then(s=>{console.log(s.data),j(s.data),p(!1)}).catch(s=>{console.log(s),p(!1)}),R.get("/available_dates/"+t.user.uid).then(s=>{f(s.data[0].date),y(s.data),p(!1)}).catch(s=>{console.log(s),p(!1)})},[]);const k=s=>{const _=document.querySelector(`.${n.dateBoxContainer}`),E=200,z=s==="left"?-E:E;_.scrollBy({top:0,left:z,behavior:"smooth"}),document.querySelector(`.${n.scrollBtn}`).classList.remove(n.inactive),_.addEventListener("scroll",()=>{_.scrollLeft===0&&document.querySelector(`.${n.scrollBtn}.left`).classList.add(n.inactive),_.scrollLeft===_.scrollWidth-_.clientWidth&&document.querySelector(`.${n.scrollBtn}.right`).classList.add(n.inactive),_.scrollLeft!==_.scrollWidth-_.clientWidth&&document.querySelector(`.${n.scrollBtn}.right`).classList.remove(n.inactive)})},T=()=>{g(!1)},[r,i]=x.useState(!1),[v,g]=x.useState(!1),$=s=>{s.preventDefault(),L("/reserveforpatient",{onSuccess:()=>{console.log("success"),i(!0),g(!0),m()}})};return e.jsxs("div",{className:n.container,children:[r&&e.jsxs(C,{show:v,onHide:T,children:[e.jsx(C.Header,{closeButton:!0,children:e.jsx(C.Title,{children:"Erfolg"})}),e.jsx(C.Body,{children:"Reservation wurde erfolgreich erstellt."}),e.jsx(C.Footer,{children:e.jsx(Z,{variant:"secondary",onClick:T,children:"Ok"})})]}),e.jsx("h1",{className:n.title,children:"Reservierungen"}),e.jsx("div",{className:n.patients,children:e.jsxs("form",{className:n.form,onSubmit:$,children:[e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsx("select",{name:"patient",id:"patient",className:n.selectPatient,onChange:s=>l("patientUID",s.target.value),children:Object.entries(d).map(([s,_])=>e.jsx("option",{value:s,children:_.name},s))}),e.jsx(G,{error:b.patientUID})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsxs("select",{name:"insurance_type",id:"insurance_type",onChange:s=>l("insurance_type",s.target.value),className:n.selectInput,children:[e.jsx("option",{value:"legal",children:"Gesetzliche Versicherung"}),e.jsx("option",{value:"private",children:"Private Versicherung"})]}),e.jsx(G,{error:b.insurance_type})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_policy_number",className:n.label,children:"Versicherungspolicenummer"}),e.jsx("input",{type:"text",id:"insurance_policy_number",name:"insurance_policy_number",onChange:s=>l("insurance_policy_number",s.target.value),className:n.input})]}),e.jsx(G,{error:b.insurance_policy_number}),e.jsxs("div",{className:n.dateSelectContainer,children:[e.jsx("h5",{className:n.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:n.dateSelect,children:[e.jsx("button",{className:[n.scrollBtn,n.inactive].join(" "),onClick:()=>k("left"),children:e.jsx("img",{src:W,alt:""})}),e.jsx("div",{className:n.dateBoxContainer,children:c.map((s,_)=>e.jsxs("div",{className:n.dateBox,onClick:()=>f(s.date),"data-date":s.date,children:[e.jsx("h6",{className:n.dateBoxTitle,children:s.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:s.weekday})]},_))}),e.jsx("button",{className:n.scrollBtn,onClick:()=>k("right"),children:e.jsx("img",{src:O,alt:""})})]}),e.jsx(G,{message:b.date})]}),e.jsx("div",{className:n.divider}),e.jsxs("div",{className:n.timeSelectContainer,children:[e.jsx("h5",{className:n.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:`${n.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:P.map((s,_)=>e.jsx("div",{className:[n.timeBox].join(" "),onClick:()=>w(event),"data-hour":s,children:s},_))}),e.jsx(G,{message:b.hour})]}),e.jsx("div",{className:n.divider}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"appointmentType",className:n.label,children:"Art der Reservierung"}),e.jsxs("select",{name:"appointmentType",id:"appointmentType",className:n.selectInput,onChange:s=>l("online",s.target.value),children:[e.jsx("option",{value:"1",children:"Online"}),e.jsx("option",{value:"0",children:"Offline"})]})]}),e.jsx("div",{className:n.divider}),e.jsx("div",{className:n.formGroup,children:e.jsx("button",{type:"submit",className:n.submitButton,children:"Reservierung erstellen"})})]})})]})},$n="_container_1wja3_1",Sn="_title_1wja3_9",Dn="_tabMenu_1wja3_15",In="_tabBtn_1wja3_39",wn="_active_1wja3_51",kn="_appointmentDateContainer_1wja3_55",Tn="_divider_1wja3_59",Gn="_submitBtn_1wja3_66",Pn="_dateTitle_1wja3_87",Ln="_dateSelect_1wja3_93",An="_scrollBtn_1wja3_99",Fn="_inactive_1wja3_110",En="_dateSelectContainer_1wja3_114",zn="_dateBoxContainer_1wja3_118",qn="_dateBox_1wja3_118",Mn="_selectedDateBox_1wja3_148",Rn="_dateBoxTitle_1wja3_154",Hn="_dateBoxDayInfo_1wja3_162",Un="_timeSelectContainer_1wja3_172",Vn="_timeSelect_1wja3_172",Wn="_timeBox_1wja3_183",On="_timeBoxSelected_1wja3_201",Zn="_timeBoxDisabled_1wja3_208",a={container:$n,title:Sn,tabMenu:Dn,tabBtn:In,active:wn,appointmentDateContainer:kn,divider:Tn,submitBtn:Gn,dateTitle:Pn,dateSelect:Ln,scrollBtn:An,inactive:Fn,dateSelectContainer:En,dateBoxContainer:zn,dateBox:qn,selectedDateBox:Mn,dateBoxTitle:Rn,dateBoxDayInfo:Hn,timeSelectContainer:Un,timeSelect:Vn,timeBox:Wn,timeBoxSelected:On,timeBoxDisabled:Zn},Yn=({auth:t})=>{const[d,j]=x.useState([]),{data:c,setData:y,post:N,processing:p,errors:P,reset:D}=M({date:null,hours:[]}),I=r=>{axios.get("/getblockhours?date="+r,{date:r}).then(i=>{y("date",r),console.log(c.date),i.data.forEach($=>{$.blocked&&y("hours",[...c.hours,$.hour])}),console.log(i.data),document.querySelectorAll(`.${a.dateBox}`).forEach($=>{$.classList.remove(a.selectedDateBox)}),document.querySelector(`.${a.dateBox}[data-date="${r}"]`).classList.add(a.selectedDateBox),j(i.data)})},l=r=>{const i=c.hours,v=document.querySelector(`.${a.timeBox}[data-hour="${r}"]`);if(i.includes(r)){const g=i.indexOf(r);i.splice(g,1),v.classList.remove(a.timeBoxSelected)}else i.push(r),v.classList.add(a.timeBoxSelected);y("hours",i)},[L,A]=x.useState(!1),[F,b]=x.useState(!1),m=()=>{b(!1)},f=()=>{N(route("blockhours"),{onSuccess:()=>{console.log("success"),A(!0),b(!0),D()}})},w=new Date;w.setDate(w.getDate()+1);const k=[];for(let r=0;r<7;r++){const i=new Date(w);i.setDate(i.getDate()+r);const v=i.getDate(),g=i.getMonth()+1,$=i.getFullYear(),s=i.toLocaleString("de-DE",{weekday:"long"});k.push({date:`${$}-${g<10?"0"+g:g}-${v<10?"0"+v:v}`,day:v,weekday:s})}const T=r=>{const i=document.querySelector(`.${a.dateBoxContainer}`),v=200,g=r==="left"?-v:v;i.scrollBy({top:0,left:g,behavior:"smooth"}),document.querySelector(`.${a.scrollBtn}`).classList.remove(a.inactive),i.addEventListener("scroll",()=>{i.scrollLeft===0&&document.querySelector(`.${a.scrollBtn}.left`).classList.add(a.inactive),i.scrollLeft===i.scrollWidth-i.clientWidth&&document.querySelector(`.${a.scrollBtn}.right`).classList.add(a.inactive),i.scrollLeft!==i.scrollWidth-i.clientWidth&&document.querySelector(`.${a.scrollBtn}.right`).classList.remove(a.inactive)})};return e.jsxs("div",{children:[L&&e.jsxs(C,{show:F,onHide:m,children:[e.jsx(C.Header,{closeButton:!0,children:e.jsx(C.Title,{children:"Erfolg"})}),e.jsx(C.Body,{children:"This clock has been blocked successfully."}),e.jsx(C.Footer,{children:e.jsx(Z,{variant:"secondary",onClick:m,children:"Ok"})})]}),e.jsx("h3",{className:a.title,children:"Blockierte Termine"}),e.jsx("p",{className:a.subtitle,children:"Wählen Sie die Termine und Stunden aus, die Sie blockieren möchten"}),e.jsxs("div",{className:a.dateSelectContainer,children:[e.jsx("h5",{className:a.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:a.dateSelect,children:[e.jsx("button",{className:[a.scrollBtn,a.inactive].join(" "),onClick:()=>T("left"),children:e.jsx("img",{src:W,alt:""})}),e.jsx("div",{className:a.dateBoxContainer,children:k.map((r,i)=>e.jsxs("div",{className:a.dateBox,onClick:()=>I(r.date),"data-date":r.date,children:[e.jsx("h6",{className:a.dateBoxTitle,children:r.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:r.weekday})]},i))}),e.jsx("button",{className:a.scrollBtn,onClick:()=>T("right"),children:e.jsx("img",{src:O,alt:""})})]})]}),e.jsx("div",{className:a.divider}),e.jsxs("div",{className:a.timeSelectContainer,children:[e.jsx("h5",{className:a.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:`${a.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:d.map((r,i)=>e.jsx("div",{className:[a.timeBox,c.hours.includes(r.hour)?a.timeBoxSelected:""].join(" "),onClick:()=>l(r.hour),"data-hour":r.hour,children:r.hour},i))})]}),e.jsx("button",{className:a.submitBtn,type:"submit",onClick:()=>f(),children:"Blockieren"})]})},cs=({auth:t,reservations:d})=>{const j=[{id:"profile",label:"Meine Termine",component:e.jsx(Le,{reservations:d})},{id:"accountSettings",label:"Account Einstellungen",component:e.jsx($t,{auth:t})},{id:"reserve_patient",label:"Reservierungen",component:e.jsx(Cn,{auth:t})},{id:"block_hours",label:"Blockierte Termine",component:e.jsx(Yn,{auth:t})}];console.log(d),ee();const[c,y]=x.useState("profile"),N=p=>{y(p)};return e.jsxs(e.Fragment,{children:[e.jsx(J,{user:t.user}),e.jsxs("div",{className:H.container,children:[e.jsx(le,{auth:t}),e.jsxs("div",{className:`${H.contentContainer} flex md:flex-row flex-col`,children:[e.jsx(ue,{tabs:j,activeTab:c,changeTab:N}),e.jsx("div",{className:H.content,children:j.find(p=>p.id===c).component})]})]})]})};export{cs as default};
