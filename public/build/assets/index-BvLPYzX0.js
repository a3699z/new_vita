import{r as o,W as H,j as e,Y as E,b as M}from"./app-CNfyiqKG.js";import"./TextInput-ux7KLyOe.js";import{N as Q,l as W,I as d,a as P}from"./index-FcB0IYLT.js";import{F as R}from"./index-cXllbzvA.js";import{F as k,a as C,b as y,c as S}from"./index-BeXUlq9a.js";import{H as U}from"./index-SYSFdXE9.js";import"./Dropdown-CyL13p_S.js";import"./transition-B4h3_l-B.js";const V="_container_1cv2m_1",q="_content_1cv2m_5",K="_left_1cv2m_11",O="_imgContainer_1cv2m_16",Y="_profileImg_1cv2m_20",G="_doctorInfoContainer_1cv2m_26",J="_right_1cv2m_30",X="_doctorName_1cv2m_34",Z="_doctorProfession_1cv2m_40",ee="_dateSelect_1cv2m_115",se="_scrollBtn_1cv2m_123",te="_inactive_1cv2m_134",ae="_dateSelectContainer_1cv2m_138",ce="_dateBoxContainer_1cv2m_142",ne="_dateBox_1cv2m_142",le="_selectedDateBox_1cv2m_164",ie="_dateBoxTitle_1cv2m_170",re="_dateBoxDayInfo_1cv2m_178",oe="_submitBtnQuick_1cv2m_186",de="_blockedHour_1cv2m_236",c={container:V,content:q,left:K,imgContainer:O,profileImg:Y,doctorInfoContainer:G,right:J,doctorName:X,doctorProfession:Z,dateSelect:ee,scrollBtn:se,inactive:te,dateSelectContainer:ae,dateBoxContainer:ce,dateBox:ne,selectedDateBox:le,dateBoxTitle:ie,dateBoxDayInfo:re,submitBtnQuick:oe,blockedHour:de},I=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],T=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function Be({auth:D,dates:x,employee:l,type:f}){const[m,F]=o.useState(f==="onsite"?"onsite":"online"),[i,N]=o.useState(!1),[t,$]=o.useState(null),j=o.useRef({}),b=(s,a)=>{const n=j.current[a],u=200,B=s==="left"?-u:u;n.scrollBy({top:0,left:B,behavior:"smooth"});const r=n.previousElementSibling,w=n.nextElementSibling;n.addEventListener("scroll",()=>{n.scrollLeft===0?r.classList.add(c.inactive):r.classList.remove(c.inactive),n.scrollLeft>=n.scrollWidth-n.clientWidth?w.classList.add(c.inactive):w.classList.remove(c.inactive)})},p=s=>{F(s),g("online",s==="online"?1:0)},A=()=>{M.get("/employee/get_blocked_hours/"+l.uid).then(s=>{$(s.data)})};o.useEffect(()=>{p(f),A()},[]);const{data:L,setData:g,post:z,get:xe,processing:me,errors:be,reset:he}=H({date:null,hour:null,time:null,online:f==="online"?1:0,employeeUID:l.uid}),h=s=>{const a=s.target.getAttribute("data-date"),n=s.target.getAttribute("data-hour"),u=a+" "+n;g("time",u),document.querySelectorAll(".timeBox").forEach(r=>{r.classList.remove("bg-[#c99b31]"),r.classList.remove("text-white")}),s.target.classList.add("bg-[#c99b31]"),s.target.classList.add("text-white")},v=()=>{console.log(L),z(route("reservation.check"))},_=()=>{const s=document.querySelectorAll(".timeBox");let a=null;s.forEach(n=>{a||n.hasAttribute("disabled")||(a=n)}),a&&(g("time",a.getAttribute("data-date")+" "+a.getAttribute("data-hour")),v())};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{user:D.user}),e.jsx(E,{title:"Welcome"}),e.jsxs("div",{className:`${c.container} `,children:[e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px]",src:l.profile_image?"/images/"+l.profile_image:W,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[l.username," ",l.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Internist, Allgemeinmediziner (Hausarzt), Hausarzt"}),e.jsxs("div",{className:"flex gap-[1px]",children:[e.jsx(d,{className:"text-[#c7982e]"}),e.jsx(d,{className:"text-[#c7982e]"}),e.jsx(d,{className:"text-[#c7982e]"}),e.jsx(d,{className:"text-[#c7982e]"}),e.jsx(d,{className:"text-[#c7982e]"}),e.jsx("span",{className:"text-[#627282] text-sm ml-2 ",children:"87 Bewertungen"})]})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>p("onsite"),className:`tab-item relative pb-3 cursor-pointer
                                            ${m==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{className:" ",children:["Vor-Ort-Termin"," "]})}),e.jsx("li",{onClick:()=>p("online"),className:`tab-item relative pb-3 cursor-pointer
                                              ${m==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{className:"flex gap-1 items-center   ",children:[e.jsx(P,{}),"Videosprechstunde"," "]})})]}),e.jsx("div",{className:"tab-content",children:m==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:m==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:_,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${c.dateSelectContainer} `,children:[e.jsxs("div",{className:`${c.dateSelect}  `,children:[e.jsx("button",{className:`${c.scrollBtn} left ${c.inactive}`,onClick:()=>b("left",l.uid),children:e.jsx(k,{className:"text-white"})}),e.jsx("div",{className:`${c.dateBoxContainer} border-b-[1px] pb-3 `,ref:s=>j.current[l.uid]=s,children:t&&(i?x.map(s=>(console.log(t[s.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:s.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:I.map(a=>(console.log(t[s.date]),t[s]&&t[s].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:t[s.date]&&t[s.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":a,onClick:n=>{h(n)},disabled:t[s.date]&&t[s.date].includes(a),children:a})))})]}))):x.map(s=>(console.log(t[s.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:s.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:I.slice(0,5).map(a=>(console.log(t[s.date]),t[s]&&t[s].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:t[s.date]&&t[s.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":a,onClick:n=>{h(n)},disabled:t[s.date]&&t[s.date].includes(a),children:a})))})]}))))}),e.jsx("button",{className:`${c.scrollBtn} right`,onClick:()=>b("right",l.uid),children:e.jsx(C,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>N(!i),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:i?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(S,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:v,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:_,children:"Nächstmöglicher Termin"})})}),e.jsxs("div",{className:`${c.dateSelectContainer} `,children:[e.jsxs("div",{className:`${c.dateSelect}  `,children:[e.jsx("button",{className:`${c.scrollBtn} left ${c.inactive}`,onClick:()=>b("left",l.uid),children:e.jsx(k,{className:"text-white"})}),e.jsx("div",{className:`${c.dateBoxContainer} border-b-[1px] pb-3 `,ref:s=>j.current[l.uid]=s,children:t&&(i?x.map(s=>(console.log(t[s.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:s.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.map(a=>(console.log(t[s.date]),t[s]&&t[s].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:t[s.date]&&t[s.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":a,onClick:n=>{h(n)},disabled:t[s.date]&&t[s.date].includes(a),children:a})))})]}))):x.map(s=>(console.log(t[s.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:s.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.slice(0,5).map(a=>t[s]&&t[s].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:t[s.date]&&t[s.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":a,onClick:n=>{h(n)},disabled:t[s.date]&&t[s.date].includes(a),children:a}))})]}))))}),e.jsx("button",{className:`${c.scrollBtn} right`,onClick:()=>b("right",l.uid),children:e.jsx(C,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>N(!i),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:i?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(S,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:v,children:"Termin vereinbaren"})})]})})]})}),e.jsx(R,{})]})]})}export{Be as default};
