import{r as d,W as N,j as e,b as S}from"./app-CCB-dU1s.js";import{p as C}from"./profile-Dcl-SGZY.js";import{N as b}from"./index-BhU2SeU9.js";import{I as h}from"./InputError-hkuH9X87.js";import"./Dropdown-DmRCHIAv.js";import"./transition-CXVS-U9x.js";const w="/build/assets/rightArrowIcon-CFcoW426.svg",D="/build/assets/leftArrowIcon-BVKpuicY.svg",y="_container_1u0w6_1",I="_title_1u0w6_15",k="_visitContainer_1u0w6_31",T="_row_1u0w6_49",$="_profilePhoto_1u0w6_63",L="_doctorInfo_1u0w6_79",q="_info_1u0w6_87",A="_doctorName_1u0w6_99",E="_profession_1u0w6_113",P="_groupContainer_1u0w6_131",W="_group_1u0w6_131",G="_groupTitle_1u0w6_151",M="_groupDesc_1u0w6_165",F="_iconContainer_1u0w6_183",H="_link_1u0w6_201",Q="_linkIcon_1u0w6_223",U="_btn_1u0w6_233",V="_btnGroup_1u0w6_259",i={container:y,title:I,visitContainer:k,row:T,profilePhoto:$,doctorInfo:L,info:q,doctorName:A,profession:E,groupContainer:P,group:W,groupTitle:G,groupDesc:M,iconContainer:F,link:H,linkIcon:Q,btn:U,btnGroup:V},K="_container_1ogi3_1",R="_title_1ogi3_17",Y="_tabMenu_1ogi3_29",z="_tabBtn_1ogi3_77",J="_active_1ogi3_101",O="_appointmentDateContainer_1ogi3_109",X="_divider_1ogi3_117",Z="_submitBtn_1ogi3_131",ee="_dateTitle_1ogi3_155",te="_dateSelect_1ogi3_167",oe="_scrollBtn_1ogi3_179",se="_inactive_1ogi3_201",ie="_dateSelectContainer_1ogi3_209",ne="_dateBoxContainer_1ogi3_217",ce="_dateBox_1ogi3_217",ae="_selectedDateBox_1ogi3_255",re="_dateBoxTitle_1ogi3_261",le="_dateBoxDayInfo_1ogi3_275",de="_timeSelectContainer_1ogi3_295",_e="_timeSelect_1ogi3_295",me="_timeBox_1ogi3_317",ue="_timeBoxSelected_1ogi3_335",xe="_timeBoxDisabled_1ogi3_341",t={container:K,title:R,tabMenu:Y,tabBtn:z,active:J,appointmentDateContainer:O,divider:X,submitBtn:Z,dateTitle:ee,dateSelect:te,scrollBtn:oe,inactive:se,dateSelectContainer:ie,dateBoxContainer:ne,dateBox:ce,selectedDateBox:ae,dateBoxTitle:re,dateBoxDayInfo:le,timeSelectContainer:de,timeSelect:_e,timeBox:me,timeBoxSelected:ue,timeBoxDisabled:xe},ge=({dates:n,reservation:c,auth:a})=>{const[B,p]=d.useState([]);d.useState("online");const{data:he,setData:_,post:f,get:Be,processing:pe,errors:m,reset:fe}=N({date:n[0].date,hour:null,online:1,quick_key:c.key}),v=()=>{f(route("quick.accept"))},u=o=>{S.get("/reservation/get_hours?date="+o+"&employeeUID="+a.user.uid,{date:o,employeeUID:a.user.uid}).then(s=>{_("date",o),p(s.data.hours),document.querySelectorAll(`.${t.dateBox}`).forEach(g=>{g.classList.remove(t.selectedDateBox)}),document.querySelector(`.${t.dateBox}[data-date="${o}"]`).classList.add(t.selectedDateBox)})},j=o=>{const s=o.target.getAttribute("data-hour");_("hour",s),document.querySelectorAll(`.${t.timeBox}`).forEach(l=>{l.classList.remove(t.timeBoxSelected)}),o.target.classList.add(t.timeBoxSelected)};d.useEffect(()=>{u(n[0].date)},[]);const x=o=>{const s=document.querySelector(`.${t.dateBoxContainer}`),r=200,l=o==="left"?-r:r;s.scrollBy({top:0,left:l,behavior:"smooth"}),document.querySelector(`.${t.scrollBtn}`).classList.remove(t.inactive),s.addEventListener("scroll",()=>{s.scrollLeft===0&&document.querySelector(`.${t.scrollBtn}.left`).classList.add(t.inactive),s.scrollLeft===s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.add(t.inactive),s.scrollLeft!==s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.remove(t.inactive)})};return e.jsxs("div",{className:t.container,children:[e.jsx("h6",{className:t.title,children:"Nächstmöglicher Termin"}),e.jsxs("div",{className:t.appointmentDateContainer,children:[e.jsxs("div",{className:t.dateSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:t.dateSelect,children:[e.jsx("button",{className:[t.scrollBtn,t.inactive].join(" "),onClick:()=>x("left"),children:e.jsx("img",{src:D,alt:""})}),e.jsx("div",{className:t.dateBoxContainer,children:n.map((o,s)=>e.jsxs("div",{className:t.dateBox,onClick:()=>u(o.date),"data-date":o.date,children:[e.jsx("h6",{className:t.dateBoxTitle,children:o.day}),e.jsx("p",{className:t.dateBoxDayInfo,children:o.weekday})]},s))}),e.jsx("button",{className:t.scrollBtn,onClick:()=>x("right"),children:e.jsx("img",{src:w,alt:""})})]}),e.jsx(h,{message:m.date})]}),e.jsx("div",{className:t.divider}),e.jsxs("div",{className:t.timeSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:t.timeSelect,children:B.map((o,s)=>e.jsx("div",{className:[t.timeBox].join(" "),onClick:()=>j(event),"data-hour":o,children:o},s))}),e.jsx(h,{message:m.hour})]}),e.jsx("button",{className:t.submitBtn,onClick:()=>v(),children:"Termin vereinbaren"})]})]})},we=({auth:n,reservation:c,dates:a})=>e.jsxs(e.Fragment,{children:[e.jsx(b,{user:n.user}),e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs("div",{className:i.container,children:[e.jsx("h4",{className:i.title,children:"Termindetails"}),e.jsxs("div",{className:i.visitContainer,children:[e.jsx("div",{className:i.row,children:e.jsxs("div",{className:i.doctorInfo,children:[e.jsx("img",{src:c.patient.profile_image?"/images/"+c.patient.profile_image:C,alt:"",className:i.profilePhoto}),e.jsx("div",{className:i.info,children:e.jsxs("h5",{className:i.doctorName,children:["Patient,",c.patient.name]})})]})}),e.jsx("div",{className:i.row,children:e.jsx(ge,{dates:a,reservation:c,auth:n})})]})]})})]});export{we as default};
