import{r as d,W as z,j as e,Y as Q}from"./app-B9QqfCCX.js";import{l as E,I as m,a as H,N as P}from"./index-8uUPbOw7.js";import{H as M}from"./index-BalIML5i.js";import{F as $,a as y,b as S,c as I}from"./index-rMrZ7ZM3.js";import"./Dropdown-2jj6O3Kk.js";import"./transition-Bh16CYoc.js";const W="_container_3ij9x_1",R="_content_3ij9x_11",U="_left_3ij9x_23",V="_imgContainer_3ij9x_33",q="_profileImg_3ij9x_41",K="_doctorInfoContainer_3ij9x_51",O="_right_3ij9x_59",Y="_doctorName_3ij9x_67",G="_doctorProfession_3ij9x_79",J="_dateSelect_3ij9x_93",X="_scrollBtn_3ij9x_109",Z="_inactive_3ij9x_131",ee="_dateSelectContainer_3ij9x_139",te="_dateBoxContainer_3ij9x_147",se="_dateBox_3ij9x_147",ae="_selectedDateBox_3ij9x_191",ne="_dateBoxTitle_3ij9x_203",ie="_dateBoxDayInfo_3ij9x_219",ce="_submitBtnQuick_3ij9x_235",oe={container:W,content:R,left:U,imgContainer:V,profileImg:q,doctorInfoContainer:K,right:O,doctorName:Y,doctorProfession:G,dateSelect:J,scrollBtn:X,inactive:Z,dateSelectContainer:ee,dateBoxContainer:te,dateBox:se,selectedDateBox:ae,dateBoxTitle:ne,dateBoxDayInfo:ie,submitBtnQuick:ce},le="_container_n6iug_1",re="_content_n6iug_6",de="_left_n6iug_12",xe="_imgContainer_n6iug_17",me="_profileImg_n6iug_21",ue="_doctorInfoContainer_n6iug_26",be="_right_n6iug_30",he="_doctorName_n6iug_34",fe="_doctorProfession_n6iug_40",je="_dateSelect_n6iug_47",ge="_scrollBtn_n6iug_55",_e="_inactive_n6iug_66",pe="_dateSelectContainer_n6iug_70",Ne="_dateBoxContainer_n6iug_74",Be="_dateBox_n6iug_74",ve="_selectedDateBox_n6iug_96",Ce="_dateBoxTitle_n6iug_102",we="_dateBoxDayInfo_n6iug_110",ke="_submitBtnQuick_n6iug_118",a={container:le,content:re,left:de,imgContainer:xe,profileImg:me,doctorInfoContainer:ue,right:be,doctorName:he,doctorProfession:fe,dateSelect:je,scrollBtn:ge,inactive:_e,dateSelectContainer:pe,dateBoxContainer:Ne,dateBox:Be,selectedDateBox:ve,dateBoxTitle:Ce,dateBoxDayInfo:we,submitBtnQuick:ke},D=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],T=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function $e({employee:c,type:u,dates:r}){const[o,j]=d.useState(u==="onsite"?"onsite":"online"),[l,N]=d.useState(!1),[n,A]=d.useState(null),g=d.useRef({}),b=(t,s)=>{const i=g.current[s],f=200,w=t==="left"?-f:f;i.scrollBy({top:0,left:w,behavior:"smooth"});const x=i.previousElementSibling,k=i.nextElementSibling;i.addEventListener("scroll",()=>{i.scrollLeft===0?x.classList.add(a.inactive):x.classList.remove(a.inactive),i.scrollLeft>=i.scrollWidth-i.clientWidth?k.classList.add(a.inactive):k.classList.remove(a.inactive)})},_=t=>{j(t)},F=()=>{axios.get("/employee/get_blocked_hours/"+c.uid).then(t=>{A(t.data)})};d.useEffect(()=>{_(u),F()},[]),d.useState("");const{data:B,setData:v,post:L,get:ye,processing:Se,errors:Ie,reset:De}=z({date:null,hour:null,time:"",online:o==="online"?1:0,employeeUID:c.uid}),h=t=>{const s=t.target.getAttribute("data-date"),i=t.target.getAttribute("data-hour"),f=s+" "+i;v("time",f),document.querySelectorAll(".timeBox").forEach(x=>{x.classList.remove("bg-[#c99b31]"),x.classList.remove("text-white")}),t.target.classList.add("bg-[#c99b31]"),t.target.classList.add("text-white")},p=()=>{console.log(B),L(route("reservation.check"))},C=()=>{const t=document.querySelectorAll('.timeBox[data-employee="'+c.uid+'"]');let s=null;t.forEach(i=>{s||i.hasAttribute("disabled")||(s=i,v("time",s.getAttribute("data-date")+" "+s.getAttribute("data-hour")),B.push("time",s.getAttribute("data-date")+" "+s.getAttribute("data-hour")),p())})};return e.jsx(e.Fragment,{children:c&&e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px]",src:c.profile_image?"/images/"+c.profile_image:E,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[c.username," ",c.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Internist, Allgemeinmediziner (Hausarzt), Hausarzt"}),e.jsxs("div",{className:"flex gap-[1px]",children:[e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx(m,{className:"text-[#c7982e]"}),e.jsx("span",{className:"text-[#627282] text-sm ml-2 ",children:"87 Bewertungen"})]})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>_("onsite"),className:`tab-item relative pb-3  ${o==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("a",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})}),e.jsx("li",{onClick:()=>_("online"),className:`tab-item relative pb-3  ${o==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("a",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(H,{}),"Videosprechstunde"," "]})})]}),e.jsx("div",{className:"tab-content",children:o==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:o==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:C,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${a.dateSelectContainer} `,children:[e.jsxs("div",{className:`${a.dateSelect}  `,children:[e.jsx("button",{className:`${a.scrollBtn} left ${a.inactive}`,onClick:()=>b("left",c.uid),children:e.jsx($,{className:"text-white"})}),e.jsx("div",{className:`${a.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>g.current[c.uid]=t,children:n&&(l?r.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.map(s=>n[t]&&n[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:n[t.date]&&n[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:i=>{h(i)},disabled:n[t.date]&&n[t.date].includes(s),"data-employee":c.uid,children:s}))})]})):r.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.slice(0,5).map(s=>n[t]&&n[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:n[t.date]&&n[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:i=>{h(i)},disabled:n[t.date]&&n[t.date].includes(s),"data-employee":c.uid,children:s}))})]})))}),e.jsx("button",{className:`${a.scrollBtn} right`,onClick:()=>b("right",c.uid),children:e.jsx(y,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>N(!l),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:l?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:p,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:C,children:"Nächstmöglicher Termin"})})}),e.jsxs("div",{className:`${a.dateSelectContainer} `,children:[e.jsxs("div",{className:`${a.dateSelect}  `,children:[e.jsx("button",{className:`${a.scrollBtn} left ${a.inactive}`,onClick:()=>b("left",c.uid),children:e.jsx($,{className:"text-white"})}),e.jsx("div",{className:`${a.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>g.current[c.uid]=t,children:n&&(l?r.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.map(s=>n[t]&&n[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:n[t.date]&&n[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:i=>{h(i)},disabled:n[t.date]&&n[t.date].includes(s),"data-employee":c.uid,children:s}))})]})):r.map(t=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:a.dateBox,children:[e.jsx("h6",{className:a.dateBoxTitle,children:t.day}),e.jsx("p",{className:a.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.slice(0,5).map(s=>n[t]&&n[t].includes(s)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:n[t.date]&&n[t.date].includes(s)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":s,onClick:i=>{h(i)},disabled:n[t.date]&&n[t.date].includes(s),"data-employee":c.uid,children:s}))})]})))}),e.jsx("button",{className:`${a.scrollBtn} right`,onClick:()=>b("right",c.uid),children:e.jsx(y,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>N(!l),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:l?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(S,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(I,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:a.submitBtnQuick,onClick:p,children:"Termin vereinbaren"})})]})})]})})})}function Ee({auth:c,employees:u,type:r,dates:o}){return e.jsxs(e.Fragment,{children:[e.jsx(P,{user:c.user}),e.jsx(Q,{title:"Welcome"}),e.jsx("div",{className:`   ${oe.container}`,children:u.map((j,l)=>e.jsx($e,{dates:o,type:r,employee:j}))})]})}export{Ee as default};
