import{j as e,a as U,r as v,W as L,b as A}from"./app-Dh0x5z31.js";import{N as V}from"./index-Be7gIEer.js";import{p as W}from"./profile-Dcl-SGZY.js";import{v as H}from"./videoIcon-BhuLOe16.js";import{c as R}from"./calendarIcon-B8kX6hle.js";import{I}from"./InputError-CoqX-ppg.js";import{l as E,r as M}from"./leftArrowIcon-DVJ2JtvN.js";import{u as O}from"./index-BGsVTMuV.js";import"./Dropdown-Cb0hsfyY.js";import"./transition-a9FlhEzp.js";const Z="_container_np1aw_1",Y="_content_np1aw_11",J="_profilePhotoContainer_np1aw_27",K="_profilePhoto_np1aw_27",Q="_infoContainer_np1aw_49",X="_name_np1aw_59",ee="_email_np1aw_75",b={container:Z,content:Y,profilePhotoContainer:J,profilePhoto:K,infoContainer:Q,name:X,email:ee},te=({auth:t})=>{const d=t.user.profile_image?"images/"+t.user.profile_image:"images/profile.png";return e.jsx("div",{className:b.container,children:e.jsxs("div",{className:b.content,children:[e.jsx("div",{className:b.profilePhotoContainer,children:e.jsx("img",{src:d,className:b.profilePhoto,alt:""})}),e.jsxs("div",{className:b.infoContainer,children:[e.jsx("h6",{className:b.name,children:t.user.username}),e.jsx("p",{className:b.email,children:t.user.email})]})]})})},ne="_container_5ogd9_1",se="_menu_5ogd9_21",ie="_menuItem_5ogd9_31",ae="_active_5ogd9_61",P={container:ne,menu:se,menuItem:ie,active:ae},oe=({tabs:t,activeTab:d,changeTab:x})=>e.jsx("div",{className:P.container,children:e.jsx("div",{className:P.menu,children:t.map(l=>e.jsx("button",{onClick:()=>x(l.id),to:l.path,className:[P.menuItem,l.id==d?P.active:null].join(" "),children:l.label},l.id))})}),ce="_container_ajuxe_1",le="_contentContainer_ajuxe_15",re="_content_ajuxe_15",z={container:ce,contentContainer:le,content:re},de="_container_c0lzu_1",me="_title_c0lzu_15",_e="_visitContainer_c0lzu_33",ue="_showMoreBtn_c0lzu_55",F={container:de,title:me,visitContainer:_e,showMoreBtn:ue},pe="_container_23nnc_1",xe="_profilePhoto_23nnc_17",fe="_appointmentInfo_23nnc_25",he="_doctorInfo_23nnc_35",je="_info_23nnc_59",ve="_appointmentType_23nnc_71",ye="_doctorName_23nnc_95",Ne="_profession_23nnc_109",Be="_dateInfo_23nnc_123",ge="_date_23nnc_123",be="_time_23nnc_147",Ce="_btnGroup_23nnc_161",$e="_btn_23nnc_161",j={container:pe,profilePhoto:xe,appointmentInfo:fe,doctorInfo:he,info:je,appointmentType:ve,doctorName:ye,profession:Ne,dateInfo:Be,date:ge,time:be,btnGroup:Ce,btn:$e},Se=({visitType:t,patientName:d,date:x,time:l,visitId:h,profile_image:N=""})=>e.jsxs("div",{className:j.container,children:[e.jsxs("div",{className:j.appointmentInfo,children:[e.jsxs("div",{className:j.doctorInfo,children:[e.jsx("img",{src:N?"/images/"+N:W,alt:"",className:j.profilePhoto}),e.jsxs("div",{className:j.info,children:[e.jsxs("h4",{className:j.appointmentType,children:[e.jsx("img",{src:H,alt:""}),t]}),e.jsx("h5",{className:j.doctorName,children:d})]})]}),e.jsxs("div",{className:j.dateInfo,children:[e.jsx("div",{className:j.date,children:x}),e.jsx("div",{className:j.time,children:l})]})]}),e.jsx("div",{className:j.btnGroup,children:e.jsxs(U,{className:j.btn,href:route("visit",h),children:[e.jsx("img",{src:R,alt:""}),"Termindetails"]})})]}),De=({reservations:t})=>(v.useState(t),e.jsxs("div",{className:F.container,children:[e.jsx("h5",{className:F.title,children:"Abgeschlossene Besuche"}),e.jsx("div",{className:F.visitContainer,children:t.map(d=>e.jsx(Se,{visitType:d.is_online?"Videosprechstunde Termin":"Vor-Ort-Termin",patientName:d.patient.name,date:d.date,time:d.hour,visitId:d.key,profile_image:d.patient.profile_image?d.patient.profile_image:""},d.key))})]})),Ie="_container_jkx1u_1",we="_titleContainer_jkx1u_13",ke="_title_jkx1u_13",Te="_info_jkx1u_45",Ge="_formContainer_jkx1u_65",Pe="_formTitle_jkx1u_73",Le="_btnGroup_jkx1u_89",Ae="_cancelBtn_jkx1u_101",ze="_saveBtn_jkx1u_133",Fe="_formGroup_jkx1u_167",qe="_label_jkx1u_181",Ee="_input_jkx1u_193",Me="_imageContainer_jkx1u_231",Ue="_image_jkx1u_231",Ve="_uploadBtn_jkx1u_255",We="_imageInfo_jkx1u_281",_={container:Ie,titleContainer:we,title:ke,info:Te,formContainer:Ge,formTitle:Pe,btnGroup:Le,cancelBtn:Ae,saveBtn:ze,formGroup:Fe,label:qe,input:Ee,imageContainer:Me,image:Ue,uploadBtn:Ve,imageInfo:We},He=({auth:t})=>{const[d,x]=v.useState(null),[l,h]=t.user.profile_image?v.useState("/images/"+t.user.profile_image):v.useState("https://via.placeholder.com/150"),{data:N,setData:u,errors:w,post:C,reset:$,processing:r,recentlySuccessful:k}=L({profileImage:null,userName:t.user.username?t.user.username:"",name:t.user.name?t.user.name:"",email:t.user.email?t.user.email:""}),S=i=>{const s=i.target.files[0];s.type.match(/image\/(png|jpg|jpeg)/)?(x(s),u("profileImage",s),D(s),console.log(s)):console.error("Unsupported file type")},D=i=>{const s=new FileReader;console.log(s),s.addEventListener("load",()=>{h(s.result)}),s.readAsDataURL(i)},B=i=>{i.preventDefault(),C(route("profile.update"))};return e.jsxs("div",{className:_.container,children:[e.jsxs("div",{className:_.titleContainer,children:[e.jsx("h4",{className:_.title,children:"Persönliche Daten"}),e.jsx("p",{className:_.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:_.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:_.imageContainer,children:[e.jsx("img",{src:l,alt:"profile",className:_.image}),e.jsx("div",{className:_.uploadBtn,onClick:()=>{document.getElementById("image").click()},role:"div",children:"Bild hochladen"}),e.jsx("p",{className:_.imageInfo,children:"Hochgeladene Bildgröße: 800 x 800 Pixel."}),e.jsx("input",{type:"file",id:"image",style:{display:"none"},onChange:i=>{S(i)}})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{htmlFor:"userName",className:_.label,children:"Name"}),e.jsx("input",{type:"text",name:"userName",id:"userName",className:_.input,placeholder:"ritaaagreiner",onChange:i=>u("userName",i.target.value),value:t.user.username})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{htmlFor:"name",className:_.label,children:"Nachname"}),e.jsx("input",{type:"text",name:"name",id:"name",className:_.input,placeholder:"Rita Greiner",onChange:i=>u("name",i.target.value),value:t.user.name})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{htmlFor:"email",className:_.label,children:"E-mail"}),e.jsx("input",{type:"email",name:"email",id:"email",className:_.input,placeholder:"ritagreiner@gmail.com",onChange:i=>u("email",i.target.value),value:t.user.email})]})]}),e.jsx("div",{className:_.btnGroup,children:e.jsx("button",{className:_.saveBtn,onClick:i=>{B(i)},children:"Speichern"})})]})]})},Re="_container_eps51_1",Oe={container:Re},Ze="_container_2yp2d_1",Ye="_titleContainer_2yp2d_11",Je="_title_2yp2d_11",Ke="_info_2yp2d_43",Qe="_formContainer_2yp2d_61",Xe="_formTitle_2yp2d_67",et="_submitBtn_2yp2d_83",tt="_formGroup_2yp2d_111",nt="_label_2yp2d_125",st="_input_2yp2d_137",p={container:Ze,titleContainer:Ye,title:Je,info:Ke,formContainer:Qe,formTitle:Xe,submitBtn:et,formGroup:tt,label:nt,input:st},it=()=>{const t=()=>{};return e.jsxs("div",{className:p.container,children:[e.jsxs("div",{className:p.titleContainer,children:[e.jsx("h4",{className:p.title,children:"Passwort Andern"}),e.jsx("p",{className:p.info,children:"Sie können Ihr Passwort in diesem Bereich aktualisieren und Ihre Mitgliedschaft fortsetzen."})]}),e.jsxs("div",{className:p.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{class:p.formGroup,children:[e.jsx("label",{for:"password",class:p.label,children:"Passwort"}),e.jsx("input",{type:"text",name:"password",id:"password",class:p.input,placeholder:"Altes Passwort",onChange:t})]}),e.jsxs("div",{class:p.formGroup,children:[e.jsx("label",{for:"name",class:p.label,children:"Neues Passwort"}),e.jsx("input",{type:"text",name:"name",id:"name",class:p.input,placeholder:"Neues Passwort",onChange:t})]}),e.jsxs("div",{class:p.formGroup,children:[e.jsx("label",{for:"email",class:p.label,children:"Neues Passwort (Nochmals)"}),e.jsx("input",{type:"mail",name:"email",id:"email",class:p.input,placeholder:"Neues Passwort (Nochmals)",onChange:t})]})]}),e.jsx("button",{className:p.submitBtn,children:"Passwort zurücksetzen"})]})]})},at="_container_i0ji1_1",ot="_titleContainer_i0ji1_13",ct="_title_i0ji1_13",lt="_info_i0ji1_45",rt="_formContainer_i0ji1_65",dt="_formTitle_i0ji1_73",mt="_btnGroup_i0ji1_89",_t="_cancelBtn_i0ji1_101",ut="_saveBtn_i0ji1_133",pt="_formGroup_i0ji1_163",xt="_label_i0ji1_177",ft="_input_i0ji1_189",ht="_textArea_i0ji1_227",c={container:at,titleContainer:ot,title:ct,info:lt,formContainer:rt,formTitle:dt,btnGroup:mt,cancelBtn:_t,saveBtn:ut,formGroup:pt,label:xt,input:ft,textArea:ht},jt=({auth:t,flash:d})=>{const{data:x,setData:l,errors:h,post:N,reset:u,processing:w,recentlySuccessful:C}=L({summary:t.user.summary?t.user.summary:"",university:t.user.university?t.user.university:"",department:t.user.department?t.user.department:"",certificate_source:t.user.certificate_source?t.user.certificate_source:"",certificate:t.user.certificate?t.user.certificate:"",specializations:t.user.specializations?t.user.specializations:"",profession:t.user.profession?t.user.profession:""}),$=r=>{r.preventDefault(),N(route("profile.update_employee"))};return e.jsxs("div",{className:c.container,children:[e.jsxs("div",{className:c.titleContainer,children:[e.jsx("h4",{className:c.title,children:"Persönliche Daten"}),e.jsx("p",{className:c.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:c.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Zusammenfassung"}),e.jsx("textarea",{className:c.textArea,name:"summary",value:t.user.summary?t.user.summary:"",onChange:r=>l("summary",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Universität"}),e.jsx("input",{type:"text",name:"university",className:c.input,value:t.user.university?t.user.university:"",onChange:r=>l("university",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Fachbereich"}),e.jsx("input",{type:"text",name:"department",className:c.input,value:t.user.department?t.user.department:"",onChange:r=>l("department",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Zertifikat Universität"}),e.jsx("input",{type:"text",name:"certificate_source",className:c.input,value:t.user.certificate_source?t.user.certificate_source:"",onChange:r=>l("certificate_source",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Zertifikat"}),e.jsx("input",{type:"text",name:"certificate",className:c.input,value:t.user.certificate?t.user.certificate:"",onChange:r=>l("certificate",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Beruf"}),e.jsx("input",{type:"text",name:"profession",className:c.input,value:t.user.profession?t.user.profession:"",onChange:r=>l("profession",r.target.value)})]}),e.jsxs("div",{className:c.formGroup,children:[e.jsx("label",{className:c.label,children:"Spezialisierung"}),e.jsx("textarea",{className:c.textArea,name:"specializations",value:t.user.specializations?t.user.specializations:"",onChange:r=>l("specializations",r.target.value)}),e.jsx("span",{className:c.info,children:"Write your specializations separated by comma ','"})]})]}),e.jsx("div",{className:c.btnGroup,children:e.jsx("button",{className:c.saveBtn,onClick:r=>{$(r)},children:"Speichern"})})]})]})},vt=({auth:t})=>e.jsxs("div",{className:Oe.container,children:[e.jsx(He,{auth:t}),e.jsx(it,{}),e.jsx(jt,{auth:t})]}),yt="_patientAction_1xiyf_4",Nt="_patientActions_1xiyf_11",Bt="_patientName_1xiyf_18",gt="_patientInfo_1xiyf_23",bt="_patient_1xiyf_4",Ct="_patients_1xiyf_35",$t="_container_1xiyf_42",St="_title_1xiyf_49",Dt="_visitContainer_1xiyf_69",It="_profilePhoto_1xiyf_78",wt="_appointmentInfo_1xiyf_82",kt="_doctorInfo_1xiyf_87",Tt="_info_1xiyf_99",Gt="_appointmentType_1xiyf_105",Pt="_doctorName_1xiyf_117",Lt="_profession_1xiyf_124",At="_dateInfo_1xiyf_131",zt="_date_1xiyf_131",Ft="_time_1xiyf_145",qt="_btnGroup_1xiyf_152",Et="_btn_1xiyf_152",Mt="_formContainer_1xiyf_181",Ut="_cancelBtn_1xiyf_186",Vt="_saveBtn_1xiyf_202",Wt="_titleContainer_1xiyf_224",Ht="_formTitle_1xiyf_254",Rt="_selectInput_1xiyf_299",Ot="_formGroup_1xiyf_311",Zt="_label_1xiyf_318",Yt="_input_1xiyf_324",Jt="_tabMenu_1xiyf_389",Kt="_tabBtn_1xiyf_413",Qt="_active_1xiyf_425",Xt="_appointmentDateContainer_1xiyf_429",en="_divider_1xiyf_433",tn="_submitBtn_1xiyf_440",nn="_dateTitle_1xiyf_461",sn="_dateSelect_1xiyf_467",an="_scrollBtn_1xiyf_473",on="_inactive_1xiyf_484",cn="_dateSelectContainer_1xiyf_488",ln="_dateBoxContainer_1xiyf_492",rn="_dateBox_1xiyf_492",dn="_selectedDateBox_1xiyf_522",mn="_dateBoxTitle_1xiyf_528",_n="_dateBoxDayInfo_1xiyf_536",un="_timeSelectContainer_1xiyf_546",pn="_timeSelect_1xiyf_546",xn="_timeBox_1xiyf_557",fn="_timeBoxSelected_1xiyf_575",hn="_timeBoxDisabled_1xiyf_582",n={patientAction:yt,patientActions:Nt,patientName:Bt,patientInfo:gt,patient:bt,patients:Ct,container:$t,title:St,visitContainer:Dt,profilePhoto:It,appointmentInfo:wt,doctorInfo:kt,info:Tt,appointmentType:Gt,doctorName:Pt,profession:Lt,dateInfo:At,date:zt,time:Ft,btnGroup:qt,btn:Et,formContainer:Mt,cancelBtn:Ut,saveBtn:Vt,titleContainer:Wt,formTitle:Ht,selectInput:Rt,formGroup:Ot,label:Zt,input:Yt,tabMenu:Jt,tabBtn:Kt,active:Qt,appointmentDateContainer:Xt,divider:en,submitBtn:tn,dateTitle:nn,dateSelect:sn,scrollBtn:an,inactive:on,dateSelectContainer:cn,dateBoxContainer:ln,dateBox:rn,selectedDateBox:dn,dateBoxTitle:mn,dateBoxDayInfo:_n,timeSelectContainer:un,timeSelect:pn,timeBox:xn,timeBoxSelected:fn,timeBoxDisabled:hn},jn=({auth:t})=>{console.log(t);const[d,x]=v.useState([]),[l,h]=v.useState([]),[N,u]=v.useState(!1),[w,C]=v.useState([]);v.useState("online");const{data:$,setData:r,post:k,get:S,processing:D,errors:B,reset:i}=L({date:null,hour:null,patientUID:t.user.uid,insurance_type:"legal",insurance_policy_number:"",online:1}),s=a=>{console.log(a),A.get("/reservation/get_hours?date="+a+"&employeeUID="+t.user.uid,{date:a,employeeUID:t.user.uid}).then(m=>{r("date",a),console.log($),C(m.data.hours),document.querySelectorAll(`.${n.dateBox}`).forEach(q=>{q.classList.remove(n.selectedDateBox)}),document.querySelector(`.${n.dateBox}[data-date="${a}"]`).classList.add(n.selectedDateBox)})},f=a=>{const m=a.target.getAttribute("data-hour");console.log(m),r("hour",m),document.querySelectorAll(`.${n.timeBox}`).forEach(G=>{G.classList.remove(n.timeBoxSelected)}),a.target.classList.add(n.timeBoxSelected)};v.useEffect(()=>{u(!0),A.get("/get_patients").then(a=>{console.log(a.data),x(a.data),u(!1)}).catch(a=>{console.log(a),u(!1)}),A.get("/available_dates/"+t.user.uid).then(a=>{s(a.data[0].date),h(a.data),u(!1)}).catch(a=>{console.log(a),u(!1)})},[]);const y=a=>{const m=document.querySelector(`.${n.dateBoxContainer}`),T=200,G=a==="left"?-T:T;m.scrollBy({top:0,left:G,behavior:"smooth"}),document.querySelector(`.${n.scrollBtn}`).classList.remove(n.inactive),m.addEventListener("scroll",()=>{m.scrollLeft===0&&document.querySelector(`.${n.scrollBtn}.left`).classList.add(n.inactive),m.scrollLeft===m.scrollWidth-m.clientWidth&&document.querySelector(`.${n.scrollBtn}.right`).classList.add(n.inactive),m.scrollLeft!==m.scrollWidth-m.clientWidth&&document.querySelector(`.${n.scrollBtn}.right`).classList.remove(n.inactive)})},g=a=>{a.preventDefault(),k("/reserveforpatient",{onSuccess:()=>{i()}})};return e.jsxs("div",{className:n.container,children:[e.jsx("h1",{className:n.title,children:"Reservierungen"}),e.jsx("div",{className:n.patients,children:e.jsxs("form",{className:n.form,onSubmit:g,children:[e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsx("select",{name:"patient",id:"patient",className:n.selectPatient,onChange:a=>r("patientUID",a.target.value),children:Object.entries(d).map(([a,m])=>e.jsx("option",{value:a,children:m.name},a))}),e.jsx(I,{error:B.patientUID})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsxs("select",{name:"insurance_type",id:"insurance_type",onChange:a=>r("insurance_type",a.target.value),className:n.selectInput,children:[e.jsx("option",{value:"legal",children:"Gesetzliche Versicherung"}),e.jsx("option",{value:"private",children:"Private Versicherung"})]}),e.jsx(I,{error:B.insurance_type})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_policy_number",className:n.label,children:"Versicherungspolicenummer"}),e.jsx("input",{type:"text",id:"insurance_policy_number",name:"insurance_policy_number",onChange:a=>r("insurance_policy_number",a.target.value),className:n.input})]}),e.jsx(I,{error:B.insurance_policy_number}),e.jsxs("div",{className:n.dateSelectContainer,children:[e.jsx("h5",{className:n.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:n.dateSelect,children:[e.jsx("button",{className:[n.scrollBtn,n.inactive].join(" "),onClick:()=>y("left"),children:e.jsx("img",{src:E,alt:""})}),e.jsx("div",{className:n.dateBoxContainer,children:l.map((a,m)=>e.jsxs("div",{className:n.dateBox,onClick:()=>s(a.date),"data-date":a.date,children:[e.jsx("h6",{className:n.dateBoxTitle,children:a.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:a.weekday})]},m))}),e.jsx("button",{className:n.scrollBtn,onClick:()=>y("right"),children:e.jsx("img",{src:M,alt:""})})]}),e.jsx(I,{message:B.date})]}),e.jsx("div",{className:n.divider}),e.jsxs("div",{className:n.timeSelectContainer,children:[e.jsx("h5",{className:n.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:`${n.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:w.map((a,m)=>e.jsx("div",{className:[n.timeBox].join(" "),onClick:()=>f(event),"data-hour":a,children:a},m))}),e.jsx(I,{message:B.hour})]}),e.jsx("div",{className:n.divider}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"appointmentType",className:n.label,children:"Art der Reservierung"}),e.jsxs("select",{name:"appointmentType",id:"appointmentType",className:n.selectInput,onChange:a=>r("online",a.target.value),children:[e.jsx("option",{value:"1",children:"Online"}),e.jsx("option",{value:"0",children:"Offline"})]})]}),e.jsx("div",{className:n.divider}),e.jsx("div",{className:n.formGroup,children:e.jsx("button",{type:"submit",className:n.submitButton,children:"Reservierung erstellen"})})]})})]})},vn="_container_1wja3_1",yn="_title_1wja3_9",Nn="_tabMenu_1wja3_15",Bn="_tabBtn_1wja3_39",gn="_active_1wja3_51",bn="_appointmentDateContainer_1wja3_55",Cn="_divider_1wja3_59",$n="_submitBtn_1wja3_66",Sn="_dateTitle_1wja3_87",Dn="_dateSelect_1wja3_93",In="_scrollBtn_1wja3_99",wn="_inactive_1wja3_110",kn="_dateSelectContainer_1wja3_114",Tn="_dateBoxContainer_1wja3_118",Gn="_dateBox_1wja3_118",Pn="_selectedDateBox_1wja3_148",Ln="_dateBoxTitle_1wja3_154",An="_dateBoxDayInfo_1wja3_162",zn="_timeSelectContainer_1wja3_172",Fn="_timeSelect_1wja3_172",qn="_timeBox_1wja3_183",En="_timeBoxSelected_1wja3_201",Mn="_timeBoxDisabled_1wja3_208",o={container:vn,title:yn,tabMenu:Nn,tabBtn:Bn,active:gn,appointmentDateContainer:bn,divider:Cn,submitBtn:$n,dateTitle:Sn,dateSelect:Dn,scrollBtn:In,inactive:wn,dateSelectContainer:kn,dateBoxContainer:Tn,dateBox:Gn,selectedDateBox:Pn,dateBoxTitle:Ln,dateBoxDayInfo:An,timeSelectContainer:zn,timeSelect:Fn,timeBox:qn,timeBoxSelected:En,timeBoxDisabled:Mn},Un=({auth:t})=>{const[d,x]=v.useState([]),{data:l,setData:h,post:N,processing:u,errors:w,reset:C}=L({date:null,hours:[]}),$=i=>{axios.get("/getblockhours?date="+i,{date:i}).then(s=>{h("date",i),console.log(l.date),s.data.forEach(g=>{g.blocked&&h("hours",[...l.hours,g.hour])}),console.log(s.data),document.querySelectorAll(`.${o.dateBox}`).forEach(g=>{g.classList.remove(o.selectedDateBox)}),document.querySelector(`.${o.dateBox}[data-date="${i}"]`).classList.add(o.selectedDateBox),x(s.data)})},r=i=>{const s=l.hours,f=document.querySelector(`.${o.timeBox}[data-hour="${i}"]`);if(s.includes(i)){const y=s.indexOf(i);s.splice(y,1),f.classList.remove(o.timeBoxSelected)}else s.push(i),f.classList.add(o.timeBoxSelected);h("hours",s)},k=()=>{N(route("blockhours"),{onSuccess:()=>{C()}})},S=new Date;S.setDate(S.getDate()+1);const D=[];for(let i=0;i<7;i++){const s=new Date(S);s.setDate(s.getDate()+i);const f=s.getDate(),y=s.getMonth()+1,g=s.getFullYear(),a=s.toLocaleString("de-DE",{weekday:"long"});D.push({date:`${g}-${y<10?"0"+y:y}-${f<10?"0"+f:f}`,day:f,weekday:a})}const B=i=>{const s=document.querySelector(`.${o.dateBoxContainer}`),f=200,y=i==="left"?-f:f;s.scrollBy({top:0,left:y,behavior:"smooth"}),document.querySelector(`.${o.scrollBtn}`).classList.remove(o.inactive),s.addEventListener("scroll",()=>{s.scrollLeft===0&&document.querySelector(`.${o.scrollBtn}.left`).classList.add(o.inactive),s.scrollLeft===s.scrollWidth-s.clientWidth&&document.querySelector(`.${o.scrollBtn}.right`).classList.add(o.inactive),s.scrollLeft!==s.scrollWidth-s.clientWidth&&document.querySelector(`.${o.scrollBtn}.right`).classList.remove(o.inactive)})};return e.jsxs("div",{children:[e.jsx("h3",{className:o.title,children:"Blockierte Termine"}),e.jsx("p",{className:o.subtitle,children:"Wählen Sie die Termine und Stunden aus, die Sie blockieren möchten"}),e.jsxs("div",{className:o.dateSelectContainer,children:[e.jsx("h5",{className:o.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:o.dateSelect,children:[e.jsx("button",{className:[o.scrollBtn,o.inactive].join(" "),onClick:()=>B("left"),children:e.jsx("img",{src:E,alt:""})}),e.jsx("div",{className:o.dateBoxContainer,children:D.map((i,s)=>e.jsxs("div",{className:o.dateBox,onClick:()=>$(i.date),"data-date":i.date,children:[e.jsx("h6",{className:o.dateBoxTitle,children:i.day}),e.jsx("p",{className:o.dateBoxDayInfo,children:i.weekday})]},s))}),e.jsx("button",{className:o.scrollBtn,onClick:()=>B("right"),children:e.jsx("img",{src:M,alt:""})})]})]}),e.jsx("div",{className:o.divider}),e.jsxs("div",{className:o.timeSelectContainer,children:[e.jsx("h5",{className:o.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:`${o.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:d.map((i,s)=>e.jsx("div",{className:[o.timeBox,l.hours.includes(i.hour)?o.timeBoxSelected:""].join(" "),onClick:()=>r(i.hour),"data-hour":i.hour,children:i.hour},s))})]}),e.jsx("button",{className:o.submitBtn,type:"submit",onClick:()=>k(),children:"Blockieren"})]})},Xn=({auth:t,reservations:d})=>{const x=[{id:"profile",label:"Meine Termine",component:e.jsx(De,{reservations:d})},{id:"accountSettings",label:"Account Einstellungen",component:e.jsx(vt,{auth:t})},{id:"reserve_patient",label:"Reservierungen",component:e.jsx(jn,{auth:t})},{id:"block_hours",label:"Blockierte Termine",component:e.jsx(Un,{auth:t})}];console.log(d),O();const[l,h]=v.useState("profile"),N=u=>{h(u)};return e.jsxs(e.Fragment,{children:[e.jsx(V,{user:t.user}),e.jsxs("div",{className:z.container,children:[e.jsx(te,{auth:t}),e.jsxs("div",{className:`${z.contentContainer} flex md:flex-row flex-col`,children:[e.jsx(oe,{tabs:x,activeTab:l,changeTab:N}),e.jsx("div",{className:z.content,children:x.find(u=>u.id===l).component})]})]})]})};export{Xn as default};
