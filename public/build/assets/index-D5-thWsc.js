import{r as d,W as H,j as e,Y as E,b as M}from"./app-B9QqfCCX.js";import"./TextInput-B7AF_YdV.js";import{N as Q,l as W,I as x,a as P}from"./index-8uUPbOw7.js";import{F as R}from"./index-CwuwYpn5.js";import{F as k,a as C,b as y,c as S}from"./index-rMrZ7ZM3.js";import{H as U}from"./index-BalIML5i.js";import"./Dropdown-2jj6O3Kk.js";import"./transition-Bh16CYoc.js";const V="_container_1cv2m_1",q="_content_1cv2m_5",K="_left_1cv2m_11",O="_imgContainer_1cv2m_16",Y="_profileImg_1cv2m_20",G="_doctorInfoContainer_1cv2m_26",J="_right_1cv2m_30",X="_doctorName_1cv2m_34",Z="_doctorProfession_1cv2m_40",ee="_dateSelect_1cv2m_115",te="_scrollBtn_1cv2m_123",se="_inactive_1cv2m_134",ae="_dateSelectContainer_1cv2m_138",ce="_dateBoxContainer_1cv2m_142",le="_dateBox_1cv2m_142",ne="_selectedDateBox_1cv2m_164",ie="_dateBoxTitle_1cv2m_170",re="_dateBoxDayInfo_1cv2m_178",oe="_submitBtnQuick_1cv2m_186",de="_blockedHour_1cv2m_236",c={container:V,content:q,left:K,imgContainer:O,profileImg:Y,doctorInfoContainer:G,right:J,doctorName:X,doctorProfession:Z,dateSelect:ee,scrollBtn:te,inactive:se,dateSelectContainer:ae,dateBoxContainer:ce,dateBox:le,selectedDateBox:ne,dateBoxTitle:ie,dateBoxDayInfo:re,submitBtnQuick:oe,blockedHour:de},I=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],T=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"];function Be({auth:D,dates:m,employee:n,type:g}){const[r,F]=d.useState(g==="onsite"?"onsite":"online"),[i,v]=d.useState(!1),[s,$]=d.useState(null),f=d.useRef({}),b=(t,a)=>{const l=f.current[a],u=200,B=t==="left"?-u:u;l.scrollBy({top:0,left:B,behavior:"smooth"});const o=l.previousElementSibling,w=l.nextElementSibling;l.addEventListener("scroll",()=>{l.scrollLeft===0?o.classList.add(c.inactive):o.classList.remove(c.inactive),l.scrollLeft>=l.scrollWidth-l.clientWidth?w.classList.add(c.inactive):w.classList.remove(c.inactive)})},j=t=>{F(t)},A=()=>{M.get("/employee/get_blocked_hours/"+n.uid).then(t=>{$(t.data)})};d.useEffect(()=>{j(g),A()},[]);const{data:L,setData:N,post:z,get:xe,processing:me,errors:be,reset:he}=H({date:null,hour:null,time:null,online:r==="online"?1:0,employeeUID:n.uid}),h=t=>{const a=t.target.getAttribute("data-date"),l=t.target.getAttribute("data-hour"),u=a+" "+l;N("time",u),document.querySelectorAll(".timeBox").forEach(o=>{o.classList.remove("bg-[#c99b31]"),o.classList.remove("text-white")}),t.target.classList.add("bg-[#c99b31]"),t.target.classList.add("text-white")},p=()=>{console.log(L),z(route("reservation.check"))},_=()=>{const t=document.querySelectorAll(".timeBox");let a=null;t.forEach(l=>{a||l.hasAttribute("disabled")||(a=l)}),a&&(N("time",a.getAttribute("data-date")+" "+a.getAttribute("data-hour")),p())};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{user:D.user}),e.jsx(E,{title:"Welcome"}),e.jsxs("div",{className:`${c.container} `,children:[e.jsx("div",{className:"items-center mx-auto max-w-[1000px] p-2    ",children:e.jsxs("div",{className:"flex md:flex-row flex-col min-h-[380px] ",children:[e.jsxs("div",{className:"flex-1 md:w-1/2 w-full bg-white     border-r-[1px] shadow-md  ",children:[e.jsxs("div",{className:"flex flex-row gap-6 p-4 ",children:[e.jsx("img",{className:"rounded-full w-[100px] h-[100px]",src:n.profile_image?"/images/"+n.profile_image:W,alt:""}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"font-medium text-xl leading-6 ",children:[n.username," ",n.name]}),e.jsx("h4",{className:"font-normal text-base  ",children:"Internist, Allgemeinmediziner (Hausarzt), Hausarzt"}),e.jsxs("div",{className:"flex gap-[1px]",children:[e.jsx(x,{className:"text-[#c7982e]"}),e.jsx(x,{className:"text-[#c7982e]"}),e.jsx(x,{className:"text-[#c7982e]"}),e.jsx(x,{className:"text-[#c7982e]"}),e.jsx(x,{className:"text-[#c7982e]"}),e.jsx("span",{className:"text-[#627282] text-sm ml-2 ",children:"87 Bewertungen"})]})]})]}),e.jsxs("div",{className:"p-6  relative",children:[e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>j("onsite"),className:`tab-item relative pb-3  ${r==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("a",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})}),e.jsx("li",{onClick:()=>j("online"),className:`tab-item relative pb-3  ${r==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("a",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(P,{}),"Videosprechstunde"," "]})})]}),e.jsx("div",{className:"tab-content",children:r==="onsite"?e.jsxs("div",{className:"pt-5 flex gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-[#8c8a9a]"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"Karl-Marx-Str. 27, Berlin"}),e.jsx("span",{className:" text-[#627282] text-sm ",children:"Praxis Dr.med. Usan Thanabalasingam Facharzt für Innere Medizin und Kardiologie"})]})]}):e.jsx("div",{className:"pt-5"})})]})]}),e.jsx("div",{className:"flex-1 md:w-1/2 w-full bg-white shadow-md ",children:r==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:_,children:"Nächstmöglicher Termin"})}),e.jsx("div",{children:e.jsxs("div",{className:`${c.dateSelectContainer} `,children:[e.jsxs("div",{className:`${c.dateSelect}  `,children:[e.jsx("button",{className:`${c.scrollBtn} left ${c.inactive}`,onClick:()=>b("left",n.uid),children:e.jsx(k,{className:"text-white"})}),e.jsx("div",{className:`${c.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>f.current[n.uid]=t,children:s&&(i?m.map(t=>(console.log(s[t.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:t.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:I.map(a=>(console.log(s[t.date]),s[t]&&s[t].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:s[t.date]&&s[t.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":a,onClick:l=>{h(l)},disabled:s[t.date]&&s[t.date].includes(a),children:a})))})]}))):m.map(t=>(console.log(s[t.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:t.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:I.slice(0,5).map(a=>(console.log(s[t.date]),s[t]&&s[t].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:s[t.date]&&s[t.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":a,onClick:l=>{h(l)},disabled:s[t.date]&&s[t.date].includes(a),children:a})))})]}))))}),e.jsx("button",{className:`${c.scrollBtn} right`,onClick:()=>b("right",n.uid),children:e.jsx(C,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>v(!i),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:i?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(S,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:p,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-12 pt-6",children:e.jsx("div",{className:"px-12 pt-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:_,children:"Nächstmöglicher Termin"})})}),e.jsxs("div",{className:`${c.dateSelectContainer} `,children:[e.jsxs("div",{className:`${c.dateSelect}  `,children:[e.jsx("button",{className:`${c.scrollBtn} left ${c.inactive}`,onClick:()=>b("left",n.uid),children:e.jsx(k,{className:"text-white"})}),e.jsx("div",{className:`${c.dateBoxContainer} border-b-[1px] pb-3 `,ref:t=>f.current[n.uid]=t,children:s&&(i?m.map(t=>(console.log(s[t.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:t.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.map(a=>(console.log(s[t.date]),s[t]&&s[t].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:s[t.date]&&s[t.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":a,onClick:l=>{h(l)},disabled:s[t.date]&&s[t.date].includes(a),children:a})))})]}))):m.map(t=>(console.log(s[t.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:c.dateBox,children:[e.jsx("h6",{className:c.dateBoxTitle,children:t.day}),e.jsx("p",{className:c.dateBoxDayInfo,children:t.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:T.slice(0,5).map(a=>s[t]&&s[t].includes(a)?e.jsx("button",{children:"blockec"}):e.jsx("button",{className:s[t.date]&&s[t.date].includes(a)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d]  text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":t.date,"data-hour":a,onClick:l=>{h(l)},disabled:s[t.date]&&s[t.date].includes(a),children:a}))})]}))))}),e.jsx("button",{className:`${c.scrollBtn} right`,onClick:()=>b("right",n.uid),children:e.jsx(C,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>v(!i),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:i?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(S,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:c.submitBtnQuick,onClick:p,children:"Termin vereinbaren"})})]})})]})}),e.jsx(R,{})]})]})}export{Be as default};
