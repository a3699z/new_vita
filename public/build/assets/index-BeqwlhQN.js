import{j as e,a as re,r as d,W as U,b as L}from"./app-DGZhJ3Vx.js";import{a as ce,N as le}from"./index-D7ZPBTZe.js";import{p as de}from"./profile-Dcl-SGZY.js";import{v as me}from"./videoIcon-BhuLOe16.js";import{c as pe}from"./calendarIcon-B8kX6hle.js";import{I as Z}from"./InputError-25Q6a5KD.js";import{M as y,B as _e}from"./bootstrap.min-ZywdHd3S.js";import{F as K,a as X,b as Y,c as ee}from"./index-BplGQhgF.js";import{u as ue}from"./index-CqqA7cN_.js";import"./Dropdown-Cf6N8NOt.js";import"./transition-DgQdCcg7.js";const xe="_container_np1aw_1",he="_content_np1aw_11",fe="_profilePhotoContainer_np1aw_27",be="_profilePhoto_np1aw_27",je="_infoContainer_np1aw_49",ve="_name_np1aw_59",ge="_email_np1aw_75",w={container:xe,content:he,profilePhotoContainer:fe,profilePhoto:be,infoContainer:je,name:ve,email:ge},Ne=({auth:t})=>{const m=t.user.profile_image?"images/"+t.user.profile_image:"images/profile.png";return e.jsx("div",{className:w.container,children:e.jsxs("div",{className:w.content,children:[e.jsx("div",{className:w.profilePhotoContainer,children:e.jsx("img",{src:m,className:w.profilePhoto,alt:""})}),e.jsxs("div",{className:w.infoContainer,children:[e.jsxs("h6",{className:w.name,children:[t.user.username," ",t.user.name]}),e.jsx("p",{className:w.email,children:t.user.email})]})]})})},Be="_container_5ogd9_1",ke="_menu_5ogd9_21",Ce="_menuItem_5ogd9_31",ye="_active_5ogd9_61",V={container:Be,menu:ke,menuItem:Ce,active:ye},$e=({tabs:t,activeTab:m,changeTab:g})=>e.jsx("div",{className:V.container,children:e.jsx("div",{className:V.menu,children:t.map(a=>e.jsx("button",{onClick:()=>g(a.id),to:a.path,className:[V.menuItem,a.id==m?V.active:null].join(" "),children:a.label},a.id))})}),Se="_container_ajuxe_1",Ie="_contentContainer_ajuxe_15",we="_content_ajuxe_15",q={container:Se,contentContainer:Ie,content:we},Te="_container_c0lzu_1",De="_title_c0lzu_15",Ge="_visitContainer_c0lzu_33",Pe="_showMoreBtn_c0lzu_55",J={container:Te,title:De,visitContainer:Ge,showMoreBtn:Pe},Fe="_container_23nnc_1",Ae="_profilePhoto_23nnc_17",ze="_appointmentInfo_23nnc_25",Le="_doctorInfo_23nnc_35",Ee="_info_23nnc_59",Me="_appointmentType_23nnc_71",He="_doctorName_23nnc_95",Re="_profession_23nnc_109",Ve="_dateInfo_23nnc_123",Ue="_date_23nnc_123",We="_time_23nnc_147",Qe="_btnGroup_23nnc_161",Oe="_btn_23nnc_161",B={container:Fe,profilePhoto:Ae,appointmentInfo:ze,doctorInfo:Le,info:Ee,appointmentType:Me,doctorName:He,profession:Re,dateInfo:Ve,date:Ue,time:We,btnGroup:Qe,btn:Oe},Ze=({visitType:t,patientName:m,date:g,time:a,visitId:C,profile_image:k=""})=>e.jsxs("div",{className:B.container,children:[e.jsxs("div",{className:B.appointmentInfo,children:[e.jsxs("div",{className:B.doctorInfo,children:[e.jsx("img",{src:k?"/images/"+k:de,alt:"",className:B.profilePhoto}),e.jsxs("div",{className:B.info,children:[e.jsxs("h4",{className:B.appointmentType,children:[e.jsx("img",{src:me,alt:""}),t]}),e.jsx("h5",{className:B.doctorName,children:m})]})]}),e.jsxs("div",{className:B.dateInfo,children:[e.jsx("div",{className:B.date,children:g}),e.jsx("div",{className:B.time,children:a})]})]}),e.jsx("div",{className:B.btnGroup,children:e.jsxs(re,{className:B.btn,href:route("visit",C),children:[e.jsx("img",{src:pe,alt:""}),"Termindetails"]})})]}),qe=({reservations:t})=>(d.useState(t),e.jsxs("div",{className:J.container,children:[e.jsx("h5",{className:J.title,children:"Abgeschlossene Besuche"}),e.jsx("div",{className:J.visitContainer,children:t.map(m=>e.jsx(Ze,{visitType:m.is_online?"Videosprechstunde Termin":"Vor-Ort-Termin",patientName:m.patient.username+" "+m.patient.name,date:m.date,time:m.hour,visitId:m.key,profile_image:m.patient.profile_image?m.patient.profile_image:""},m.key))})]})),Je="_container_jkx1u_1",Ke="_titleContainer_jkx1u_13",Xe="_title_jkx1u_13",Ye="_info_jkx1u_45",et="_formContainer_jkx1u_65",tt="_formTitle_jkx1u_73",st="_btnGroup_jkx1u_89",nt="_cancelBtn_jkx1u_101",it="_saveBtn_jkx1u_133",at="_formGroup_jkx1u_167",ot="_label_jkx1u_181",rt="_input_jkx1u_193",ct="_imageContainer_jkx1u_231",lt="_image_jkx1u_231",dt="_uploadBtn_jkx1u_255",mt="_imageInfo_jkx1u_281",u={container:Je,titleContainer:Ke,title:Xe,info:Ye,formContainer:et,formTitle:tt,btnGroup:st,cancelBtn:nt,saveBtn:it,formGroup:at,label:ot,input:rt,imageContainer:ct,image:lt,uploadBtn:dt,imageInfo:mt},pt=({auth:t})=>{const[m,g]=d.useState(null),[a,C]=t.user.profile_image?d.useState("/images/"+t.user.profile_image):d.useState("https://via.placeholder.com/150"),{data:k,setData:h,errors:S,post:T,reset:N,processing:p,recentlySuccessful:D}=U({profileImage:null,userName:t.user.username?t.user.username:"",name:t.user.name?t.user.name:"",email:t.user.email?t.user.email:""}),I=i=>{const j=i.target.files[0];j.type.match(/image\/(png|jpg|jpeg)/)?(g(j),h("profileImage",j),G(j),console.log(j)):console.error("Unsupported file type")},G=i=>{const j=new FileReader;console.log(j),j.addEventListener("load",()=>{C(j.result)}),j.readAsDataURL(i)},$=i=>{i.preventDefault(),T(route("profile.update"))};return e.jsxs("div",{className:u.container,children:[e.jsxs("div",{className:u.titleContainer,children:[e.jsx("h4",{className:u.title,children:"Persönliche Daten"}),e.jsx("p",{className:u.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:u.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:u.imageContainer,children:[e.jsx("img",{src:a,alt:"profile",className:u.image}),e.jsx("div",{className:u.uploadBtn,onClick:()=>{document.getElementById("image").click()},role:"div",children:"Bild hochladen"}),e.jsx("p",{className:u.imageInfo,children:"Hochgeladene Bildgröße: 800 x 800 Pixel."}),e.jsx("input",{type:"file",id:"image",style:{display:"none"},onChange:i=>{I(i)}})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"userName",className:u.label,children:"Name"}),e.jsx("input",{type:"text",name:"userName",id:"userName",className:u.input,placeholder:"ritaaagreiner",onChange:i=>h("userName",i.target.value),value:t.user.username})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"name",className:u.label,children:"Nachname"}),e.jsx("input",{type:"text",name:"name",id:"name",className:u.input,placeholder:"Rita Greiner",onChange:i=>h("name",i.target.value),value:t.user.name})]}),e.jsxs("div",{className:u.formGroup,children:[e.jsx("label",{htmlFor:"email",className:u.label,children:"E-mail"}),e.jsx("input",{type:"email",name:"email",id:"email",className:u.input,placeholder:"ritagreiner@gmail.com",onChange:i=>h("email",i.target.value),value:t.user.email})]})]}),e.jsx("div",{className:u.btnGroup,children:e.jsx("button",{className:u.saveBtn,onClick:i=>{$(i)},children:"Speichern"})})]})]})},_t="_container_eps51_1",ut={container:_t},xt="_container_2yp2d_1",ht="_titleContainer_2yp2d_11",ft="_title_2yp2d_11",bt="_info_2yp2d_43",jt="_formContainer_2yp2d_61",vt="_formTitle_2yp2d_67",gt="_submitBtn_2yp2d_83",Nt="_formGroup_2yp2d_111",Bt="_label_2yp2d_125",kt="_input_2yp2d_137",v={container:xt,titleContainer:ht,title:ft,info:bt,formContainer:jt,formTitle:vt,submitBtn:gt,formGroup:Nt,label:Bt,input:kt},Ct=()=>{const t=()=>{};return e.jsxs("div",{className:v.container,children:[e.jsxs("div",{className:v.titleContainer,children:[e.jsx("h4",{className:v.title,children:"Passwort Andern"}),e.jsx("p",{className:v.info,children:"Sie können Ihr Passwort in diesem Bereich aktualisieren und Ihre Mitgliedschaft fortsetzen."})]}),e.jsxs("div",{className:v.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{class:v.formGroup,children:[e.jsx("label",{for:"password",class:v.label,children:"Passwort"}),e.jsx("input",{type:"text",name:"password",id:"password",class:v.input,placeholder:"Altes Passwort",onChange:t})]}),e.jsxs("div",{class:v.formGroup,children:[e.jsx("label",{for:"name",class:v.label,children:"Neues Passwort"}),e.jsx("input",{type:"text",name:"name",id:"name",class:v.input,placeholder:"Neues Passwort",onChange:t})]}),e.jsxs("div",{class:v.formGroup,children:[e.jsx("label",{for:"email",class:v.label,children:"Neues Passwort (Nochmals)"}),e.jsx("input",{type:"mail",name:"email",id:"email",class:v.input,placeholder:"Neues Passwort (Nochmals)",onChange:t})]})]}),e.jsx("button",{className:v.submitBtn,children:"Passwort zurücksetzen"})]})]})},yt="_container_i0ji1_1",$t="_titleContainer_i0ji1_13",St="_title_i0ji1_13",It="_info_i0ji1_45",wt="_formContainer_i0ji1_65",Tt="_formTitle_i0ji1_73",Dt="_btnGroup_i0ji1_89",Gt="_cancelBtn_i0ji1_101",Pt="_saveBtn_i0ji1_133",Ft="_formGroup_i0ji1_163",At="_label_i0ji1_177",zt="_input_i0ji1_189",Lt="_textArea_i0ji1_227",o={container:yt,titleContainer:$t,title:St,info:It,formContainer:wt,formTitle:Tt,btnGroup:Dt,cancelBtn:Gt,saveBtn:Pt,formGroup:Ft,label:At,input:zt,textArea:Lt},Et=({auth:t,flash:m})=>{const{data:g,setData:a,errors:C,post:k,reset:h,processing:S,recentlySuccessful:T}=U({summary:t.user.summary?t.user.summary:"",university:t.user.university?t.user.university:"",department:t.user.department?t.user.department:"",certificate_source:t.user.certificate_source?t.user.certificate_source:"",certificate:t.user.certificate?t.user.certificate:"",specializations:t.user.specializations?t.user.specializations:"",profession:t.user.profession?t.user.profession:""}),N=p=>{p.preventDefault(),k(route("profile.update_employee"))};return e.jsxs("div",{className:o.container,children:[e.jsxs("div",{className:o.titleContainer,children:[e.jsx("h4",{className:o.title,children:"Persönliche Daten"}),e.jsx("p",{className:o.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:o.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zusammenfassung"}),e.jsx("textarea",{className:o.textArea,name:"summary",value:t.user.summary?t.user.summary:"",onChange:p=>a("summary",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Universität"}),e.jsx("input",{type:"text",name:"university",className:o.input,value:t.user.university?t.user.university:"",onChange:p=>a("university",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Fachbereich"}),e.jsx("input",{type:"text",name:"department",className:o.input,value:t.user.department?t.user.department:"",onChange:p=>a("department",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zertifikat Universität"}),e.jsx("input",{type:"text",name:"certificate_source",className:o.input,value:t.user.certificate_source?t.user.certificate_source:"",onChange:p=>a("certificate_source",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Zertifikat"}),e.jsx("input",{type:"text",name:"certificate",className:o.input,value:t.user.certificate?t.user.certificate:"",onChange:p=>a("certificate",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Beruf"}),e.jsx("input",{type:"text",name:"profession",className:o.input,value:t.user.profession?t.user.profession:"",onChange:p=>a("profession",p.target.value)})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{className:o.label,children:"Spezialisierung"}),e.jsx("textarea",{className:o.textArea,name:"specializations",value:t.user.specializations?t.user.specializations:"",onChange:p=>a("specializations",p.target.value)}),e.jsx("span",{className:o.info,children:"Write your specializations separated by comma ','"})]})]}),e.jsx("div",{className:o.btnGroup,children:e.jsx("button",{className:o.saveBtn,onClick:p=>{N(p)},children:"Speichern"})})]})]})},Mt=({auth:t})=>e.jsxs("div",{className:ut.container,children:[e.jsx(pt,{auth:t}),e.jsx(Ct,{}),e.jsx(Et,{auth:t})]}),Ht="_patientAction_1kh0p_4",Rt="_patientActions_1kh0p_11",Vt="_patientName_1kh0p_18",Ut="_patientInfo_1kh0p_23",Wt="_patient_1kh0p_4",Qt="_patients_1kh0p_35",Ot="_container_1kh0p_42",Zt="_title_1kh0p_49",qt="_visitContainer_1kh0p_69",Jt="_profilePhoto_1kh0p_78",Kt="_appointmentInfo_1kh0p_82",Xt="_doctorInfo_1kh0p_87",Yt="_info_1kh0p_99",es="_appointmentType_1kh0p_105",ts="_doctorName_1kh0p_117",ss="_profession_1kh0p_124",ns="_dateInfo_1kh0p_131",is="_date_1kh0p_131",as="_time_1kh0p_145",os="_btnGroup_1kh0p_152",rs="_btn_1kh0p_152",cs="_formContainer_1kh0p_181",ls="_cancelBtn_1kh0p_186",ds="_saveBtn_1kh0p_202",ms="_titleContainer_1kh0p_224",ps="_formTitle_1kh0p_254",_s="_selectInput_1kh0p_299",us="_formGroup_1kh0p_311",xs="_label_1kh0p_318",hs="_input_1kh0p_324",fs="_tabMenu_1kh0p_389",bs="_tabBtn_1kh0p_413",js="_active_1kh0p_425",vs="_appointmentDateContainer_1kh0p_429",gs="_divider_1kh0p_433",Ns="_submitBtn_1kh0p_440",Bs="_dateTitle_1kh0p_461",ks="_dateSelect_1kh0p_467",Cs="_scrollBtn_1kh0p_473",ys="_inactive_1kh0p_484",$s="_dateSelectContainer_1kh0p_488",Ss="_dateBoxContainer_1kh0p_492",Is="_dateBox_1kh0p_492",ws="_timeSelectContainer_1kh0p_543",Ts="_timeSelect_1kh0p_543",Ds="_timeBox_1kh0p_554",Gs="_timeBoxSelected_1kh0p_572",Ps="_timeBoxDisabled_1kh0p_579",Fs="_content_1kh0p_588",As="_left_1kh0p_594",zs="_imgContainer_1kh0p_599",Ls="_profileImg_1kh0p_603",Es="_doctorInfoContainer_1kh0p_609",Ms="_right_1kh0p_613",Hs="_doctorProfession_1kh0p_623",Rs="_selectedDateBox_1kh0p_521",Vs="_dateBoxTitle_1kh0p_527",Us="_dateBoxDayInfo_1kh0p_534",Ws="_submitBtnQuick_1kh0p_769",Qs="_blockedHour_1kh0p_819",n={patientAction:Ht,patientActions:Rt,patientName:Vt,patientInfo:Ut,patient:Wt,patients:Qt,container:Ot,title:Zt,visitContainer:qt,profilePhoto:Jt,appointmentInfo:Kt,doctorInfo:Xt,info:Yt,appointmentType:es,doctorName:ts,profession:ss,dateInfo:ns,date:is,time:as,btnGroup:os,btn:rs,formContainer:cs,cancelBtn:ls,saveBtn:ds,titleContainer:ms,formTitle:ps,selectInput:_s,formGroup:us,label:xs,input:hs,tabMenu:fs,tabBtn:bs,active:js,appointmentDateContainer:vs,divider:gs,submitBtn:Ns,dateTitle:Bs,dateSelect:ks,scrollBtn:Cs,inactive:ys,dateSelectContainer:$s,dateBoxContainer:Ss,dateBox:Is,timeSelectContainer:ws,timeSelect:Ts,timeBox:Ds,timeBoxSelected:Gs,timeBoxDisabled:Ps,content:Fs,left:As,imgContainer:zs,profileImg:Ls,doctorInfoContainer:Es,right:Ms,doctorProfession:Hs,selectedDateBox:Rs,dateBoxTitle:Vs,dateBoxDayInfo:Us,submitBtnQuick:Ws,blockedHour:Qs},Os=({auth:t})=>{const[m,g]=d.useState([]),[a,C]=d.useState([]),[k,h]=d.useState(!1),[S,T]=d.useState("online"),[N,p]=d.useState(!1),D=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],I=["08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00"],{data:G,setData:$,post:i,get:j,processing:te,errors:E,reset:se}=U({date:null,hour:null,patientUID:t.user.uid,insurance_type:"legal",insurance_policy_number:"",online:1,time:null}),P=s=>{const c=s.target.getAttribute("data-hour"),R=s.target.getAttribute("data-date")+" "+c;$("time",R),document.querySelectorAll(".timeBox").forEach(z=>{z.classList.remove("bg-[#c99b31]"),z.classList.remove("text-white")}),s.target.classList.add("bg-[#c99b31]"),s.target.classList.add("text-white")};d.useEffect(()=>{h(!0),L.get("/get_patients").then(s=>{console.log(s.data),g(s.data),h(!1)}).catch(s=>{console.log(s),h(!1)}),L.get("/available_dates/"+t.user.uid).then(s=>{C(s.data),h(!1)}).catch(s=>{console.log(s),h(!1)})},[]);const[_,W]=d.useState(null),r=()=>{L.get("/employee/get_blocked_hours/"+t.user.uid).then(s=>{W(s.data)})};d.useEffect(()=>{r()},[]);const f=s=>{T(s),console.log(S),$("online",s==="online"?1:0)},l=()=>{A(!1)},[F,Q]=d.useState(!1),[M,A]=d.useState(!1),ne=s=>{console.log(G),s.preventDefault(),i("/reserveforpatient",{onSuccess:()=>{console.log("success"),Q(!0),A(!0),se()}})},O=d.useRef({}),H=(s,c)=>{const b=O.current[c],R=200,ie=s==="left"?-R:R;b.scrollBy({top:0,left:ie,behavior:"smooth"});const z=b.previousElementSibling,ae=b.nextElementSibling;b.addEventListener("scroll",()=>{b.scrollLeft===0?z.classList.add(n.inactive):z.classList.remove(n.inactive),b.scrollLeft>=b.scrollWidth-b.clientWidth?ae.classList.add(n.inactive):ae.classList.remove(n.inactive)})};return e.jsxs("div",{className:n.container,children:[F&&e.jsxs(y,{show:M,onHide:l,children:[e.jsx(y.Header,{closeButton:!0,children:e.jsx(y.Title,{children:"Erfolg"})}),e.jsx(y.Body,{children:"Reservation wurde erfolgreich erstellt."}),e.jsx(y.Footer,{children:e.jsx(_e,{variant:"secondary",onClick:l,children:"Ok"})})]}),e.jsx("h1",{className:n.title,children:"Reservierungen"}),e.jsx("div",{className:n.patients,children:e.jsxs("div",{className:n.form,children:[e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsx("select",{name:"patient",id:"patient",className:n.selectPatient,onChange:s=>$("patientUID",s.target.value),children:Object.entries(m).map(([s,c])=>e.jsxs("option",{value:s,children:[c.username," ",c.name]},s))}),e.jsx(Z,{error:E.patientUID})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_type",className:n.label,children:"Versicherungstyp"}),e.jsxs("select",{name:"insurance_type",id:"insurance_type",onChange:s=>$("insurance_type",s.target.value),className:n.selectInput,children:[e.jsx("option",{value:"legal",children:"Gesetzliche Versicherung"}),e.jsx("option",{value:"private",children:"Private Versicherung"})]}),e.jsx(Z,{error:E.insurance_type})]}),e.jsxs("div",{className:n.formGroup,children:[e.jsx("label",{htmlFor:"insurance_policy_number",className:n.label,children:"Versicherungspolicenummer"}),e.jsx("input",{type:"text",id:"insurance_policy_number",name:"insurance_policy_number",onChange:s=>$("insurance_policy_number",s.target.value),className:n.input})]}),e.jsx(Z,{error:E.insurance_policy_number}),e.jsx("div",{className:n.divider}),e.jsxs("ul",{className:"flex border-b-[1px] gap-6",children:[e.jsx("li",{onClick:()=>f("onsite"),className:`tab-item relative pb-3 cursor-pointer
                                        ${S==="onsite"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab1",className:" ",children:["Vor-Ort-Termin"," "]})}),e.jsx("li",{onClick:()=>f("online"),className:`tab-item relative pb-3 cursor-pointer
                                        ${S==="online"?"after:absolute after:bottom-0 after:left-0 after:w-full after:h-[1px] after:bg-[#627282]":"text-[#627282]"}`,children:e.jsxs("div",{href:"#tab2",className:"flex gap-1 items-center   ",children:[e.jsx(ce,{}),"Videosprechstunde"," "]})})]}),e.jsx("div",{className:"flex-1  w-full bg-white shadow-md ",children:S==="onsite"?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>H("left",t.user.uid),children:e.jsx(K,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:s=>O.current[t.user.uid]=s,children:_&&(N?a.map(s=>(console.log(_[s.date]),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:s.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.map(c=>e.jsx("button",{className:_[s.date]&&_[s.date].includes(c)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":c,onClick:b=>{P(b)},disabled:_[s.date]&&_[s.date].includes(c),children:c}))})]}))):a.map(s=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:s.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:D.slice(0,5).map(c=>e.jsx("button",{className:_[s.date]&&_[s.date].includes(c)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":c,onClick:b=>{P(b)},disabled:_[s.date]&&_[s.date].includes(c),children:c}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>H("right",t.user.uid),children:e.jsx(X,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>p(!N),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:N?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(Y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(ee,{className:"h-5 w-5"})," "]})})]})}),e.jsx("div",{className:"px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:ne,children:"Termin vereinbaren"})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:`${n.dateSelectContainer} `,children:[e.jsxs("div",{className:`${n.dateSelect}  `,children:[e.jsx("button",{className:`${n.scrollBtn} left ${n.inactive}`,onClick:()=>H("left",t.user.uid),children:e.jsx(K,{className:"text-white"})}),e.jsx("div",{className:`${n.dateBoxContainer} border-b-[1px] pb-3 `,ref:s=>O.current[t.user.uid]=s,children:_&&(N?a.map(s=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:s.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:s.weekday})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:["hello",I.map(c=>e.jsx("button",{className:_[s.date]&&_[s.date].includes(c)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":c,onClick:b=>{P(b)},disabled:_[s.date]&&_[s.date].includes(c),children:c}))]})]})):a.map(s=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:n.dateBox,children:[e.jsx("h6",{className:n.dateBoxTitle,children:s.day}),e.jsx("p",{className:n.dateBoxDayInfo,children:s.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:I.slice(0,5).map(c=>e.jsx("button",{className:_[s.date]&&_[s.date].includes(c)?"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md disabled bg-gray-300 cursor-not-allowed timeBox":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":s.date,"data-hour":c,onClick:b=>{P(b)},disabled:_[s.date]&&_[s.date].includes(c),children:c}))})]})))}),e.jsx("button",{className:`${n.scrollBtn} right`,onClick:()=>H("right",t.user.uid),children:e.jsx(X,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>p(!N),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:N?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(Y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(ee,{className:"h-5 w-5"})," "]})})]}),e.jsx("div",{className:" px-12 pb-6",children:e.jsx("button",{className:n.submitBtnQuick,onClick:ne,children:"Termin vereinbaren"})})]})}),e.jsx("div",{className:n.divider}),e.jsx("div",{className:n.formGroup,children:e.jsx("button",{type:"submit",className:n.submitButton,children:"Reservierung erstellen"})})]})})]})},Zs="_container_1vvre_1",qs="_title_1vvre_9",Js="_tabMenu_1vvre_15",Ks="_tabBtn_1vvre_39",Xs="_active_1vvre_51",Ys="_appointmentDateContainer_1vvre_55",en="_divider_1vvre_59",tn="_submitBtn_1vvre_66",sn="_dateTitle_1vvre_87",nn="_dateSelect_1vvre_93",an="_scrollBtn_1vvre_99",on="_inactive_1vvre_110",rn="_dateSelectContainer_1vvre_114",cn="_dateBoxContainer_1vvre_118",ln="_dateBox_1vvre_118",dn="_selectedDateBox_1vvre_148",mn="_dateBoxTitle_1vvre_154",pn="_dateBoxDayInfo_1vvre_162",_n="_timeSelectContainer_1vvre_172",un="_timeSelect_1vvre_172",xn="_timeBox_1vvre_183",hn="_timeBoxSelected_1vvre_201",fn="_timeBoxDisabled_1vvre_208",bn="_content_1vvre_217",jn="_left_1vvre_223",vn="_imgContainer_1vvre_228",gn="_profileImg_1vvre_232",Nn="_doctorInfoContainer_1vvre_238",Bn="_right_1vvre_242",kn="_doctorName_1vvre_246",Cn="_doctorProfession_1vvre_252",yn="_submitBtnQuick_1vvre_398",$n="_blockedHour_1vvre_448",x={container:Zs,title:qs,tabMenu:Js,tabBtn:Ks,active:Xs,appointmentDateContainer:Ys,divider:en,submitBtn:tn,dateTitle:sn,dateSelect:nn,scrollBtn:an,inactive:on,dateSelectContainer:rn,dateBoxContainer:cn,dateBox:ln,selectedDateBox:dn,dateBoxTitle:mn,dateBoxDayInfo:pn,timeSelectContainer:_n,timeSelect:un,timeBox:xn,timeBoxSelected:hn,timeBoxDisabled:fn,content:bn,left:jn,imgContainer:vn,profileImg:gn,doctorInfoContainer:Nn,right:Bn,doctorName:kn,doctorProfession:Cn,submitBtnQuick:yn,blockedHour:$n},oe=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"],Sn=({auth:t})=>{const[m,g]=d.useState(!1),[a,C]=d.useState(!1),k=r=>{const f=r.target.getAttribute("data-hour"),l=r.target.getAttribute("data-date");i.times[l]&&i.times[l].includes(f)?(j("times",i.times[l].filter(F=>F!==f)),i.times[l].length===0&&delete i.times[l]):i.times[l]?j("times",{...i.times,[l]:[...i.times[l],f]}):j("times",{...i.times,[l]:[f]})},[h,S]=d.useState(!1),[T,N]=d.useState(!1),p=()=>{N(!1)},D=d.useRef({}),I=(r,f)=>{const l=D.current[f],F=200,Q=r==="left"?-F:F;l.scrollBy({top:0,left:Q,behavior:"smooth"});const M=l.previousElementSibling,A=l.nextElementSibling;l.addEventListener("scroll",()=>{l.scrollLeft===0?M.classList.add(x.inactive):M.classList.remove(x.inactive),l.scrollLeft>=l.scrollWidth-l.clientWidth?A.classList.add(x.inactive):A.classList.remove(x.inactive)})},[G,$]=d.useState([]);d.useEffect(()=>{L.get("/available_dates/"+t.user.uid).then(r=>{$(r.data),g(!1)}).catch(r=>{console.log(r),g(!1)})},[]);const{data:i,setData:j,post:te,processing:E,errors:se,reset:P}=U({times:[]});d.useState([]);const _=()=>{L.get("/getblockhours").then(r=>{j("times",r.data)})};d.useEffect(()=>{_()},[]);const W=()=>{console.log(i),te(route("blockhours"),{onSuccess:()=>{console.log("success"),S(!0),N(!0),P()}})};return e.jsxs("div",{children:[h&&e.jsxs(y,{show:T,onHide:p,children:[e.jsx(y.Header,{closeButton:!0,children:e.jsx(y.Title,{children:"Erfolg"})}),e.jsx(y.Body,{children:"This clock has been blocked successfully."}),e.jsx(y.Footer,{children:e.jsx(re,{href:"/profile",children:"Schließen"})})]}),e.jsx("h3",{className:x.title,children:"Blockierte Termine"}),e.jsx("p",{className:x.subtitle,children:"Wählen Sie die Termine und Stunden aus, die Sie blockieren möchten"}),e.jsxs("div",{className:x.form,children:[e.jsx("div",{className:"flex-1  w-full bg-white shadow-md ",children:e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{className:`${x.dateSelectContainer} `,children:[e.jsxs("div",{className:`${x.dateSelect}  `,children:[e.jsx("button",{className:`${x.scrollBtn} left ${x.inactive}`,onClick:()=>I("left",t.user.uid),children:e.jsx(K,{className:"text-white"})}),e.jsx("div",{className:`${x.dateBoxContainer} border-b-[1px] pb-3 `,ref:r=>D.current[t.user.uid]=r,children:a?G.map(r=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:x.dateBox,children:[e.jsx("h6",{className:x.dateBoxTitle,children:r.day}),e.jsx("p",{className:x.dateBoxDayInfo,children:r.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:oe.map(f=>e.jsx("button",{className:i.times[r.date]&&i.times[r.date].includes(f)?"border-2 hover:border-[#c7982e] border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md timeBox text-white bg-[#c99b31]":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":r.date,"data-hour":f,onClick:l=>{k(l)},children:f}))})]})):G.map(r=>e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:x.dateBox,children:[e.jsx("h6",{className:x.dateBoxTitle,children:r.day}),e.jsx("p",{className:x.dateBoxDayInfo,children:r.weekday})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 min-w-[100px]",children:oe.slice(0,5).map(f=>e.jsx("button",{className:i.times[r.date]&&i.times[r.date].includes(f)?"border-2 hover:border-[#c7982e] border-transparent text-[#c7982e] bg-[#c99b314d] text-base font-semibold px-3 py-1 rounded-md timeBox text-white bg-[#c99b31]":"border-2 border-transparent text-[#c7982e] bg-[#c99b314d] hover:border-[#c7982e] text-base font-semibold px-3 py-1 rounded-md timeBox","data-date":r.date,"data-hour":f,onClick:l=>{k(l)},children:f}))})]}))}),e.jsx("button",{className:`${x.scrollBtn} right`,onClick:()=>I("right",t.user.uid),children:e.jsx(X,{className:"text-white"})})]}),e.jsx("button",{onClick:()=>C(!a),className:" text-[#c7982e] mb-6 flex gap-2 items-center justify-center ",children:a?e.jsxs(e.Fragment,{children:[" ",e.jsxs("span",{children:["Weniger anzeigen"," "]})," ",e.jsx(Y,{className:"h-5 w-5"})," "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{children:"Mehr Sprechzeiten anzeigen"})," ",e.jsx(ee,{className:"h-5 w-5"})," "]})})]})})})}),e.jsx("button",{className:x.submitBtn,type:"submit",onClick:()=>W(),children:"Blockieren"})]})]})},Mn=({auth:t,reservations:m})=>{const g=[{id:"profile",label:"Meine Termine",component:e.jsx(qe,{reservations:m})},{id:"accountSettings",label:"Account Einstellungen",component:e.jsx(Mt,{auth:t})},{id:"reserve_patient",label:"Reservierungen",component:e.jsx(Os,{auth:t})},{id:"block_hours",label:"Blockierte Termine",component:e.jsx(Sn,{auth:t})}];console.log(m),ue();const[a,C]=d.useState("profile"),k=h=>{C(h)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{user:t.user}),e.jsxs("div",{className:q.container,children:[e.jsx(Ne,{auth:t}),e.jsxs("div",{className:`${q.contentContainer} flex md:flex-row flex-col`,children:[e.jsx($e,{tabs:g,activeTab:a,changeTab:k}),e.jsx("div",{className:q.content,children:g.find(h=>h.id===a).component})]})]})]})};export{Mn as default};
