import{W as $,j as t,r as v,b as y}from"./app-DpS6gK43.js";import{l as k,r as L}from"./leftArrowIcon-DVJ2JtvN.js";import{I as D}from"./InputError-CA_9IzP8.js";const A="_container_h7vx4_1",I="_title_h7vx4_17",E="_tabMenu_h7vx4_29",M="_tabBtn_h7vx4_77",w="_active_h7vx4_101",Q="_appointmentDateContainer_h7vx4_109",W="_divider_h7vx4_117",R="_submitBtn_h7vx4_131",V="_dateTitle_h7vx4_173",H="_dateSelect_h7vx4_185",O="_scrollBtn_h7vx4_197",z="_inactive_h7vx4_219",F="_dateSelectContainer_h7vx4_227",G="_dateBoxContainer_h7vx4_235",J="_dateBox_h7vx4_235",K="_selectedDateBox_h7vx4_295",P="_dateBoxTitle_h7vx4_307",X="_dateBoxDayInfo_h7vx4_323",Y="_timeSelectContainer_h7vx4_343",Z="_timeSelect_h7vx4_343",U="_timeBox_h7vx4_365",ee="_timeBoxSelected_h7vx4_401",te="_timeBoxDisabled_h7vx4_415",e={container:A,title:I,tabMenu:E,tabBtn:M,active:w,appointmentDateContainer:Q,divider:W,submitBtn:R,dateTitle:V,dateSelect:H,scrollBtn:O,inactive:z,dateSelectContainer:F,dateBoxContainer:G,dateBox:J,selectedDateBox:K,dateBoxTitle:P,dateBoxDayInfo:X,timeSelectContainer:Y,timeSelect:Z,timeBox:U,timeBoxSelected:ee,timeBoxDisabled:te},ne="_container_1mqde_1",oe="_title_1mqde_17",se="_tabMenu_1mqde_29",ie="_tabBtn_1mqde_77",ce="_active_1mqde_101",ae="_appointmentDateContainer_1mqde_109",le="_divider_1mqde_117",re="_submitBtnQuick_1mqde_131",de="_quickContainer_1mqde_191",me="_dateTitle_1mqde_205",_e="_dateSelect_1mqde_217",xe="_scrollBtn_1mqde_229",Be="_inactive_1mqde_251",ue="_dateSelectContainer_1mqde_259",he="_dateBoxContainer_1mqde_267",ve="_dateBox_1mqde_267",Se="_selectedDateBox_1mqde_305",be="_dateBoxTitle_1mqde_311",pe="_dateBoxDayInfo_1mqde_325",Ce="_timeSelectContainer_1mqde_345",qe="_timeSelect_1mqde_345",je="_timeBox_1mqde_367",De="_timeBoxSelected_1mqde_385",$e="_timeBoxDisabled_1mqde_391",d={container:ne,title:oe,tabMenu:se,tabBtn:ie,active:ce,appointmentDateContainer:ae,divider:le,submitBtnQuick:re,quickContainer:de,dateTitle:me,dateSelect:_e,scrollBtn:xe,inactive:Be,dateSelectContainer:ue,dateBoxContainer:he,dateBox:ve,selectedDateBox:Se,dateBoxTitle:be,dateBoxDayInfo:pe,timeSelectContainer:Ce,timeSelect:qe,timeBox:je,timeBoxSelected:De,timeBoxDisabled:$e},fe=({employeeUID:c,quickDate:i,quickHour:m})=>{const{data:_,setData:x,post:B,get:S,processing:s,errors:b,reset:p}=$({employeeUID:c}),a=()=>{B(route("reservation.quick"),_)};return t.jsxs("div",{className:d.quickContainer,children:[t.jsx("h6",{className:d.title,children:"Nächstmöglicher Termin Request"}),t.jsx("form",{className:d.form,onSubmit:u=>{u.preventDefault(),a()},children:t.jsx("button",{type:"submit",className:d.submitBtnQuick,children:"Nächstmöglicher Termin"})}),t.jsxs("center",{children:[i," ",m]})]})},ge=({dates:c,employeeUID:i,quickDate:m,quickHour:_,type:x})=>{const[B,S]=v.useState([]);console.log(x);const[s,b]=v.useState(x==="onsite"?"onsite":"online");console.log(s);const{data:p,setData:a,post:u,get:Ne,processing:Te,errors:C,reset:ye}=$({date:c[0].date,hour:null,online:1,employeeUID:i}),h=(n,o="")=>{o===""&&(o=s),y.get("/reservation/get_hours?date="+n+"&employeeUID="+i+"&type="+o,{date:n,employeeUID:i,type:o}).then(l=>{a("date",n),S(l.data.hours),document.querySelectorAll(`.${e.dateBox}`).forEach(T=>{T.classList.remove(e.selectedDateBox)}),document.querySelector(`.${e.dateBox}[data-date="${n}"]`).classList.add(e.selectedDateBox)})},f=n=>{const o=n.target.getAttribute("data-hour");console.log(o),a("hour",o),document.querySelectorAll(`.${e.timeBox}`).forEach(r=>{r.classList.remove(e.timeBoxSelected)}),n.target.classList.add(e.timeBoxSelected)},q=n=>{console.log(n),b(n),h(p.date,n),a("online",n==="online"?1:0)};v.useEffect(()=>{h(c[0].date)},[]);const g=()=>{u(route("reservation.check"))},j=n=>{const o=document.querySelector(`.${e.dateBoxContainer}`),l=200,r=n==="left"?-l:l;o.scrollBy({top:0,left:r,behavior:"smooth"}),document.querySelector(`.${e.scrollBtn}`).classList.remove(e.inactive),o.addEventListener("scroll",()=>{o.scrollLeft===0&&document.querySelector(`.${e.scrollBtn}.left`).classList.add(e.inactive),o.scrollLeft===o.scrollWidth-o.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.add(e.inactive),o.scrollLeft!==o.scrollWidth-o.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.remove(e.inactive)})};return t.jsxs("div",{className:e.container,children:[t.jsx(fe,{employeeUID:i,quickDate:m,quickHour:_}),t.jsxs("div",{className:e.tabMenu,"aria-valuenow":s==="online"?"0":"1",children:[t.jsx("button",{className:[e.tabBtn,s=="online"&&e.active].join(" "),onClick:()=>q("online"),children:"Videosprechstunde"}),t.jsx("button",{className:[e.tabBtn,s=="onsite"&&e.active].join(" "),onClick:()=>q("onsite"),children:"Vor-Ort-Termin"})]}),t.jsxs("div",{className:e.appointmentDateContainer,children:[t.jsxs("div",{className:e.dateSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Datum wählen"}),t.jsxs("div",{className:e.dateSelect,children:[t.jsx("button",{className:[e.scrollBtn,e.inactive].join(" "),onClick:()=>j("left"),children:t.jsx("img",{src:k,alt:""})}),t.jsx("div",{className:e.dateBoxContainer,children:c.map((n,o)=>t.jsxs("div",{className:e.dateBox,onClick:()=>h(n.date,s),"data-date":n.date,children:[t.jsx("h6",{className:e.dateBoxTitle,children:n.day}),t.jsx("p",{className:e.dateBoxDayInfo,children:n.weekday})]},o))}),t.jsx("button",{className:e.scrollBtn,onClick:()=>j("right"),children:t.jsx("img",{src:L,alt:""})})]}),t.jsx(D,{message:C.date})]}),t.jsx("div",{className:e.divider}),t.jsxs("div",{className:e.timeSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Verfügbare Stunden"}),t.jsx("div",{className:`${e.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:B.map((n,o)=>t.jsx("div",{className:[e.timeBox].join(" "),onClick:()=>f(event),"data-hour":n,children:n},o))}),t.jsx(D,{message:C.hour})]}),t.jsx("button",{className:e.submitBtn,onClick:()=>g(),children:"Termin vereinbaren"})]})]})},Ie=ge;export{Ie as S};
